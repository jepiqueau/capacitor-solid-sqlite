(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();const Ke={context:void 0,registry:void 0};function Vt(r){Ke.context=r}const Fa=(r,e)=>r===e,Rn=Symbol("solid-proxy"),qa=Symbol("solid-track"),Cn={equals:Fa};let Ni=Wi;const Ot=1,rn=2,Li={owned:null,cleanups:null,context:null,owner:null},ps={};var Ne=null;let we=null,ze=null,at=null,ot=null,Gn=0;const[Lh,ti]=dt(!1);function Ir(r,e){const t=ze,n=Ne,s=r.length===0,i=s?Li:{owned:null,cleanups:null,context:null,owner:e===void 0?n:e},o=s?r:()=>r(()=>ht(()=>ir(i)));Ne=i,ze=null;try{return St(o,!0)}finally{ze=t,Ne=n}}function dt(r,e){e=e?Object.assign({},Cn,e):Cn;const t={value:r,observers:null,observerSlots:null,comparator:e.equals||void 0},n=s=>(typeof s=="function"&&(we&&we.running&&we.sources.has(t)?s=s(t.tValue):s=s(t.value)),zi(t,s));return[Mi.bind(t),n]}function ri(r,e,t){const n=Jn(r,e,!0,Ot);qr(n)}function Dt(r,e,t){const n=Jn(r,e,!1,Ot);qr(n)}function Ua(r,e,t){Ni=Va;const n=Jn(r,e,!1,Ot),s=br&&Zn(Ne,br.id);s&&(n.suspense=s),(!t||!t.render)&&(n.user=!0),ot?ot.push(n):qr(n)}function Je(r,e,t){t=t?Object.assign({},Cn,t):Cn;const n=Jn(r,e,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=t.equals||void 0,qr(n),Mi.bind(n)}function Bi(r,e,t){let n,s,i;arguments.length===2&&typeof e=="object"||arguments.length===1?(n=!0,s=r,i=e||{}):(n=r,s=e,i=t||{});let o=null,a=ps,u=null,c=!1,d=!1,h="initialValue"in i,g=typeof n=="function"&&Je(n);const y=new Set,[_,w]=(i.storage||dt)(i.initialValue),[S,E]=dt(void 0),[$,R]=dt(void 0,{equals:!1}),[N,D]=dt(h?"ready":"unresolved");if(Ke.context){u=`${Ke.context.id}${Ke.context.count++}`;let W;i.ssrLoadFrom==="initial"?a=i.initialValue:Ke.load&&(W=Ke.load(u))&&(a=W[0])}function V(W,ce,T,G){return o===W&&(o=null,h=!0,(W===a||ce===a)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(G,{value:ce})),a=ps,we&&W&&c?(we.promises.delete(W),c=!1,St(()=>{we.running=!0,B(ce,T)},!1)):B(ce,T)),ce}function B(W,ce){St(()=>{ce===void 0&&w(()=>W),D(ce!==void 0?"errored":"ready"),E(ce);for(const T of y.keys())T.decrement();y.clear()},!1)}function K(){const W=br&&Zn(Ne,br.id),ce=_(),T=S();if(T!==void 0&&!o)throw T;return ze&&!ze.user&&W&&ri(()=>{$(),o&&(W.resolved&&we&&c?we.promises.add(o):y.has(W)||(W.increment(),y.add(W)))}),ce}function q(W=!0){if(W!==!1&&d)return;d=!1;const ce=g?g():n;if(c=we&&we.running,ce==null||ce===!1){V(o,ht(_));return}we&&o&&we.promises.delete(o);const T=a!==ps?a:ht(()=>s(ce,{value:_(),refetching:W}));return typeof T!="object"||!(T&&"then"in T)?(V(o,T,void 0,ce),T):(o=T,d=!0,queueMicrotask(()=>d=!1),St(()=>{D(h?"refreshing":"pending"),R()},!1),T.then(G=>V(T,G,void 0,ce),G=>V(T,void 0,Ka(G),ce)))}return Object.defineProperties(K,{state:{get:()=>N()},error:{get:()=>S()},loading:{get(){const W=N();return W==="pending"||W==="refreshing"}},latest:{get(){if(!h)return K();const W=S();if(W&&!o)throw W;return _()}}}),g?ri(()=>q(!1)):q(!1),[K,{refetch:q,mutate:w}]}function ht(r){if(ze===null)return r();const e=ze;ze=null;try{return r()}finally{ze=e}}function Fi(r,e,t){const n=Array.isArray(r);let s,i=t&&t.defer;return o=>{let a;if(n){a=Array(r.length);for(let c=0;c<r.length;c++)a[c]=r[c]()}else a=r();if(i){i=!1;return}const u=ht(()=>e(a,s,o));return s=a,u}}function Bh(r){Ua(()=>ht(r))}function Vn(r){return Ne===null||(Ne.cleanups===null?Ne.cleanups=[r]:Ne.cleanups.push(r)),r}function qi(){return Ne}function Ma(r,e){const t=Ne,n=ze;Ne=r,ze=null;try{return St(e,!0)}catch(s){Ts(s)}finally{Ne=t,ze=n}}function za(r){if(we&&we.running)return r(),we.done;const e=ze,t=Ne;return Promise.resolve().then(()=>{ze=e,Ne=t;let n;return br&&(n=we||(we={sources:new Set,effects:[],promises:new Set,disposed:new Set,queue:new Set,running:!0}),n.done||(n.done=new Promise(s=>n.resolve=s)),n.running=!0),St(r,!1),ze=Ne=null,n?n.done:void 0})}function Wa(r){ot.push.apply(ot,r),r.length=0}function Kn(r,e){const t=Symbol("context");return{id:t,Provider:Ya(t),defaultValue:r}}function Yn(r){let e;return(e=Zn(Ne,r.id))!==void 0?e:r.defaultValue}function Ui(r){const e=Je(r),t=Je(()=>_s(e()));return t.toArray=()=>{const n=t();return Array.isArray(n)?n:n!=null?[n]:[]},t}let br;function Ha(){return br||(br=Kn({}))}function Mi(){const r=we&&we.running;if(this.sources&&(r?this.tState:this.state))if((r?this.tState:this.state)===Ot)qr(this);else{const e=at;at=null,St(()=>Nn(this),!1),at=e}if(ze){const e=this.observers?this.observers.length:0;ze.sources?(ze.sources.push(this),ze.sourceSlots.push(e)):(ze.sources=[this],ze.sourceSlots=[e]),this.observers?(this.observers.push(ze),this.observerSlots.push(ze.sources.length-1)):(this.observers=[ze],this.observerSlots=[ze.sources.length-1])}return r&&we.sources.has(this)?this.tValue:this.value}function zi(r,e,t){let n=we&&we.running&&we.sources.has(r)?r.tValue:r.value;if(!r.comparator||!r.comparator(n,e)){if(we){const s=we.running;(s||!t&&we.sources.has(r))&&(we.sources.add(r),r.tValue=e),s||(r.value=e)}else r.value=e;r.observers&&r.observers.length&&St(()=>{for(let s=0;s<r.observers.length;s+=1){const i=r.observers[s],o=we&&we.running;o&&we.disposed.has(i)||((o?!i.tState:!i.state)&&(i.pure?at.push(i):ot.push(i),i.observers&&Hi(i)),o?i.tState=Ot:i.state=Ot)}if(at.length>1e6)throw at=[],new Error},!1)}return e}function qr(r){if(!r.fn)return;ir(r);const e=Ne,t=ze,n=Gn;ze=Ne=r,ni(r,we&&we.running&&we.sources.has(r)?r.tValue:r.value,n),we&&!we.running&&we.sources.has(r)&&queueMicrotask(()=>{St(()=>{we&&(we.running=!0),ze=Ne=r,ni(r,r.tValue,n),ze=Ne=null},!1)}),ze=t,Ne=e}function ni(r,e,t){let n;try{n=r.fn(e)}catch(s){return r.pure&&(we&&we.running?(r.tState=Ot,r.tOwned&&r.tOwned.forEach(ir),r.tOwned=void 0):(r.state=Ot,r.owned&&r.owned.forEach(ir),r.owned=null)),r.updatedAt=t+1,Ts(s)}(!r.updatedAt||r.updatedAt<=t)&&(r.updatedAt!=null&&"observers"in r?zi(r,n,!0):we&&we.running&&r.pure?(we.sources.add(r),r.tValue=n):r.value=n,r.updatedAt=t)}function Jn(r,e,t,n=Ot,s){const i={fn:r,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:Ne,context:null,pure:t};return we&&we.running&&(i.state=0,i.tState=n),Ne===null||Ne!==Li&&(we&&we.running&&Ne.pure?Ne.tOwned?Ne.tOwned.push(i):Ne.tOwned=[i]:Ne.owned?Ne.owned.push(i):Ne.owned=[i]),i}function In(r){const e=we&&we.running;if((e?r.tState:r.state)===0)return;if((e?r.tState:r.state)===rn)return Nn(r);if(r.suspense&&ht(r.suspense.inFallback))return r.suspense.effects.push(r);const t=[r];for(;(r=r.owner)&&(!r.updatedAt||r.updatedAt<Gn);){if(e&&we.disposed.has(r))return;(e?r.tState:r.state)&&t.push(r)}for(let n=t.length-1;n>=0;n--){if(r=t[n],e){let s=r,i=t[n+1];for(;(s=s.owner)&&s!==i;)if(we.disposed.has(s))return}if((e?r.tState:r.state)===Ot)qr(r);else if((e?r.tState:r.state)===rn){const s=at;at=null,St(()=>Nn(r,t[0]),!1),at=s}}}function St(r,e){if(at)return r();let t=!1;e||(at=[]),ot?t=!0:ot=[],Gn++;try{const n=r();return Ga(t),n}catch(n){t||(ot=null),at=null,Ts(n)}}function Ga(r){if(at&&(Wi(at),at=null),r)return;let e;if(we){if(!we.promises.size&&!we.queue.size){const n=we.sources,s=we.disposed;ot.push.apply(ot,we.effects),e=we.resolve;for(const i of ot)"tState"in i&&(i.state=i.tState),delete i.tState;we=null,St(()=>{for(const i of s)ir(i);for(const i of n){if(i.value=i.tValue,i.owned)for(let o=0,a=i.owned.length;o<a;o++)ir(i.owned[o]);i.tOwned&&(i.owned=i.tOwned),delete i.tValue,delete i.tOwned,i.tState=0}ti(!1)},!1)}else if(we.running){we.running=!1,we.effects.push.apply(we.effects,ot),ot=null,ti(!0);return}}const t=ot;ot=null,t.length&&St(()=>Ni(t),!1),e&&e()}function Wi(r){for(let e=0;e<r.length;e++)In(r[e])}function Va(r){let e,t=0;for(e=0;e<r.length;e++){const n=r[e];n.user?r[t++]=n:In(n)}for(Ke.context&&Vt(),e=0;e<t;e++)In(r[e])}function Nn(r,e){const t=we&&we.running;t?r.tState=0:r.state=0;for(let n=0;n<r.sources.length;n+=1){const s=r.sources[n];if(s.sources){const i=t?s.tState:s.state;i===Ot?s!==e&&(!s.updatedAt||s.updatedAt<Gn)&&In(s):i===rn&&Nn(s,e)}}}function Hi(r){const e=we&&we.running;for(let t=0;t<r.observers.length;t+=1){const n=r.observers[t];(e?!n.tState:!n.state)&&(e?n.tState=rn:n.state=rn,n.pure?at.push(n):ot.push(n),n.observers&&Hi(n))}}function ir(r){let e;if(r.sources)for(;r.sources.length;){const t=r.sources.pop(),n=r.sourceSlots.pop(),s=t.observers;if(s&&s.length){const i=s.pop(),o=t.observerSlots.pop();n<s.length&&(i.sourceSlots[o]=n,s[n]=i,t.observerSlots[n]=o)}}if(we&&we.running&&r.pure){if(r.tOwned){for(e=r.tOwned.length-1;e>=0;e--)ir(r.tOwned[e]);delete r.tOwned}Gi(r,!0)}else if(r.owned){for(e=r.owned.length-1;e>=0;e--)ir(r.owned[e]);r.owned=null}if(r.cleanups){for(e=r.cleanups.length-1;e>=0;e--)r.cleanups[e]();r.cleanups=null}we&&we.running?r.tState=0:r.state=0,r.context=null}function Gi(r,e){if(e||(r.tState=0,we.disposed.add(r)),r.owned)for(let t=0;t<r.owned.length;t++)Gi(r.owned[t])}function Ka(r){return r instanceof Error?r:new Error(typeof r=="string"?r:"Unknown error",{cause:r})}function Ts(r){throw r}function Zn(r,e){return r?r.context&&r.context[e]!==void 0?r.context[e]:Zn(r.owner,e):void 0}function _s(r){if(typeof r=="function"&&!r.length)return _s(r());if(Array.isArray(r)){const e=[];for(let t=0;t<r.length;t++){const n=_s(r[t]);Array.isArray(n)?e.push.apply(e,n):e.push(n)}return e}return r}function Ya(r,e){return function(n){let s;return Dt(()=>s=ht(()=>(Ne.context={[r]:n.value},Ui(()=>n.children))),void 0),s}}const Ja=Symbol("fallback");function si(r){for(let e=0;e<r.length;e++)r[e]()}function Za(r,e,t={}){let n=[],s=[],i=[],o=0,a=e.length>1?[]:null;return Vn(()=>si(i)),()=>{let u=r()||[],c,d;return u[qa],ht(()=>{let g=u.length,y,_,w,S,E,$,R,N,D;if(g===0)o!==0&&(si(i),i=[],n=[],s=[],o=0,a&&(a=[])),t.fallback&&(n=[Ja],s[0]=Ir(V=>(i[0]=V,t.fallback())),o=1);else if(o===0){for(s=new Array(g),d=0;d<g;d++)n[d]=u[d],s[d]=Ir(h);o=g}else{for(w=new Array(g),S=new Array(g),a&&(E=new Array(g)),$=0,R=Math.min(o,g);$<R&&n[$]===u[$];$++);for(R=o-1,N=g-1;R>=$&&N>=$&&n[R]===u[N];R--,N--)w[N]=s[R],S[N]=i[R],a&&(E[N]=a[R]);for(y=new Map,_=new Array(N+1),d=N;d>=$;d--)D=u[d],c=y.get(D),_[d]=c===void 0?-1:c,y.set(D,d);for(c=$;c<=R;c++)D=n[c],d=y.get(D),d!==void 0&&d!==-1?(w[d]=s[c],S[d]=i[c],a&&(E[d]=a[c]),d=_[d],y.set(D,d)):i[c]();for(d=$;d<g;d++)d in w?(s[d]=w[d],i[d]=S[d],a&&(a[d]=E[d],a[d](d))):s[d]=Ir(h);s=s.slice(0,o=g),n=u.slice(0)}return s});function h(g){if(i[d]=g,a){const[y,_]=dt(d);return a[d]=_,e(u[d],y)}return e(u[d])}}}function ft(r,e){return ht(()=>r(e||{}))}function kn(){return!0}const Es={get(r,e,t){return e===Rn?t:r.get(e)},has(r,e){return e===Rn?!0:r.has(e)},set:kn,deleteProperty:kn,getOwnPropertyDescriptor(r,e){return{configurable:!0,enumerable:!0,get(){return r.get(e)},set:kn,deleteProperty:kn}},ownKeys(r){return r.keys()}};function ys(r){return(r=typeof r=="function"?r():r)?r:{}}function ii(...r){let e=!1;for(let n=0;n<r.length;n++){const s=r[n];e=e||!!s&&Rn in s,r[n]=typeof s=="function"?(e=!0,Je(s)):s}if(e)return new Proxy({get(n){for(let s=r.length-1;s>=0;s--){const i=ys(r[s])[n];if(i!==void 0)return i}},has(n){for(let s=r.length-1;s>=0;s--)if(n in ys(r[s]))return!0;return!1},keys(){const n=[];for(let s=0;s<r.length;s++)n.push(...Object.keys(ys(r[s])));return[...new Set(n)]}},Es);const t={};for(let n=r.length-1;n>=0;n--)if(r[n]){const s=Object.getOwnPropertyDescriptors(r[n]);for(const i in s)i in t||Object.defineProperty(t,i,{enumerable:!0,get(){for(let o=r.length-1;o>=0;o--){const a=(r[o]||{})[i];if(a!==void 0)return a}}})}return t}function Qa(r,...e){const t=new Set(e.length>1?e.flat():e[0]);if(Rn in r){const s=e.map(i=>new Proxy({get(o){return i.includes(o)?r[o]:void 0},has(o){return i.includes(o)&&o in r},keys(){return i.filter(o=>o in r)}},Es));return s.push(new Proxy({get(i){return t.has(i)?void 0:r[i]},has(i){return t.has(i)?!1:i in r},keys(){return Object.keys(r).filter(i=>!t.has(i))}},Es)),s}const n=Object.getOwnPropertyDescriptors(r);return e.push(Object.keys(n).filter(s=>!t.has(s))),e.map(s=>{const i={};for(let o=0;o<s.length;o++){const a=s[o];a in r&&Object.defineProperty(i,a,n[a]?n[a]:{get(){return r[a]},set(){return!0},enumerable:!0})}return i})}function It(r){let e,t;const n=s=>{const i=Ke.context;if(i){const[a,u]=dt();(t||(t=r())).then(c=>{Vt(i),u(()=>c.default),Vt()}),e=a}else if(!e){const[a]=Bi(()=>(t||(t=r())).then(u=>u.default));e=a}let o;return Je(()=>(o=e())&&ht(()=>{if(!i)return o(s);const a=Ke.context;Vt(i);const u=o(s);return Vt(a),u}))};return n.preload=()=>t||((t=r()).then(s=>e=()=>s.default),t),n}const Xa=r=>`Stale read from <${r}>.`;function Fh(r){const e="fallback"in r&&{fallback:()=>r.fallback};return Je(Za(()=>r.each,r.children,e||void 0))}function Vi(r){const e=r.keyed,t=Je(()=>r.when,void 0,{equals:(n,s)=>e?n===s:!n==!s});return Je(()=>{const n=t();if(n){const s=r.children;return typeof s=="function"&&s.length>0?ht(()=>s(e?n:()=>{if(!ht(t))throw Xa("Show");return r.when})):s}return r.fallback},void 0,void 0)}const ec=Kn();function qh(r){let e=0,t,n,s,i,o;const[a,u]=dt(!1),c=Ha(),d={increment:()=>{++e===1&&u(!0)},decrement:()=>{--e===0&&u(!1)},inFallback:a,effects:[],resolved:!1},h=qi();if(Ke.context&&Ke.load){const _=Ke.context.id+Ke.context.count;let w=Ke.load(_);if(w&&(s=w[0])&&s!=="$$f"){(typeof s!="object"||!("then"in s))&&(s=Promise.resolve(s));const[S,E]=dt(void 0,{equals:!1});i=S,s.then($=>{if($||Ke.done)return $&&(o=$),E();Ke.gather(_),Vt(n),E(),Vt()})}}const g=Yn(ec);g&&(t=g.register(d.inFallback));let y;return Vn(()=>y&&y()),ft(c.Provider,{value:d,get children(){return Je(()=>{if(o)throw o;if(n=Ke.context,i)return i(),i=void 0;n&&s==="$$f"&&Vt();const _=Je(()=>r.children);return Je(w=>{const S=d.inFallback(),{showContent:E=!0,showFallback:$=!0}=t?t():{};if((!S||s&&s!=="$$f")&&E)return d.resolved=!0,y&&y(),y=n=s=void 0,Wa(d.effects),_();if($)return y?w:Ir(R=>(y=R,n&&(Vt({id:n.id+"f",count:0}),n=void 0),r.fallback),h)})})}})}const tc=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],rc=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...tc]),nc=new Set(["innerHTML","textContent","innerText","children"]),sc=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),ic=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function oc(r,e){const t=ic[r];return typeof t=="object"?t[e]?t.$:void 0:t}const ac=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),cc={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function lc(r,e,t){let n=t.length,s=e.length,i=n,o=0,a=0,u=e[s-1].nextSibling,c=null;for(;o<s||a<i;){if(e[o]===t[a]){o++,a++;continue}for(;e[s-1]===t[i-1];)s--,i--;if(s===o){const d=i<n?a?t[a-1].nextSibling:t[i-a]:u;for(;a<i;)r.insertBefore(t[a++],d)}else if(i===a)for(;o<s;)(!c||!c.has(e[o]))&&e[o].remove(),o++;else if(e[o]===t[i-1]&&t[a]===e[s-1]){const d=e[--s].nextSibling;r.insertBefore(t[a++],e[o++].nextSibling),r.insertBefore(t[--i],d),e[s]=t[i]}else{if(!c){c=new Map;let h=a;for(;h<i;)c.set(t[h],h++)}const d=c.get(e[o]);if(d!=null)if(a<d&&d<i){let h=o,g=1,y;for(;++h<s&&h<i&&!((y=c.get(e[h]))==null||y!==d+g);)g++;if(g>d-a){const _=e[o];for(;a<d;)r.insertBefore(t[a++],_)}else r.replaceChild(t[a++],e[o++])}else o++;else e[o++].remove()}}}const oi="_$DX_DELEGATE";function uc(r,e,t,n={}){let s;return Ir(i=>{s=i,e===document?r():tn(e,r(),e.firstChild?null:void 0,t)},n.owner),()=>{s(),e.textContent=""}}function Ds(r,e,t){let n;const s=()=>{const o=document.createElement("template");return o.innerHTML=r,t?o.content.firstChild.firstChild:o.content.firstChild},i=e?()=>(n||(n=s())).cloneNode(!0):()=>ht(()=>document.importNode(n||(n=s()),!0));return i.cloneNode=i,i}function Ki(r,e=window.document){const t=e[oi]||(e[oi]=new Set);for(let n=0,s=r.length;n<s;n++){const i=r[n];t.has(i)||(t.add(i),e.addEventListener(i,vc))}}function Ln(r,e,t){t==null?r.removeAttribute(e):r.setAttribute(e,t)}function fc(r,e,t,n){n==null?r.removeAttributeNS(e,t):r.setAttributeNS(e,t,n)}function rr(r,e){e==null?r.removeAttribute("class"):r.className=e}function hc(r,e,t,n){if(n)Array.isArray(t)?(r[`$$${e}`]=t[0],r[`$$${e}Data`]=t[1]):r[`$$${e}`]=t;else if(Array.isArray(t)){const s=t[0];r.addEventListener(e,t[0]=i=>s.call(r,t[1],i))}else r.addEventListener(e,t)}function dc(r,e,t={}){const n=Object.keys(e||{}),s=Object.keys(t);let i,o;for(i=0,o=s.length;i<o;i++){const a=s[i];!a||a==="undefined"||e[a]||(ai(r,a,!1),delete t[a])}for(i=0,o=n.length;i<o;i++){const a=n[i],u=!!e[a];!a||a==="undefined"||t[a]===u||!u||(ai(r,a,!0),t[a]=u)}return t}function mc(r,e,t){if(!e)return t?Ln(r,"style"):e;const n=r.style;if(typeof e=="string")return n.cssText=e;typeof t=="string"&&(n.cssText=t=void 0),t||(t={}),e||(e={});let s,i;for(i in t)e[i]==null&&n.removeProperty(i),delete t[i];for(i in e)s=e[i],s!==t[i]&&(n.setProperty(i,s),t[i]=s);return t}function pc(r,e={},t,n){const s={};return n||Dt(()=>s.children=Br(r,e.children,s.children)),Dt(()=>e.ref&&e.ref(r)),Dt(()=>yc(r,e,t,!0,s,!0)),s}function tn(r,e,t,n){if(t!==void 0&&!n&&(n=[]),typeof e!="function")return Br(r,e,n,t);Dt(s=>Br(r,e(),s,t),n)}function yc(r,e,t,n,s={},i=!1){e||(e={});for(const o in s)if(!(o in e)){if(o==="children")continue;s[o]=ci(r,o,null,s[o],t,i)}for(const o in e){if(o==="children"){n||Br(r,e.children);continue}const a=e[o];s[o]=ci(r,o,a,s[o],t,i)}}function gc(r){return r.toLowerCase().replace(/-([a-z])/g,(e,t)=>t.toUpperCase())}function ai(r,e,t){const n=e.trim().split(/\s+/);for(let s=0,i=n.length;s<i;s++)r.classList.toggle(n[s],t)}function ci(r,e,t,n,s,i){let o,a,u,c,d;if(e==="style")return mc(r,t,n);if(e==="classList")return dc(r,t,n);if(t===n)return n;if(e==="ref")i||t(r);else if(e.slice(0,3)==="on:"){const h=e.slice(3);n&&r.removeEventListener(h,n),t&&r.addEventListener(h,t)}else if(e.slice(0,10)==="oncapture:"){const h=e.slice(10);n&&r.removeEventListener(h,n,!0),t&&r.addEventListener(h,t,!0)}else if(e.slice(0,2)==="on"){const h=e.slice(2).toLowerCase(),g=ac.has(h);if(!g&&n){const y=Array.isArray(n)?n[0]:n;r.removeEventListener(h,y)}(g||t)&&(hc(r,h,t,g),g&&Ki([h]))}else if(e.slice(0,5)==="attr:")Ln(r,e.slice(5),t);else if((d=e.slice(0,5)==="prop:")||(u=nc.has(e))||!s&&((c=oc(e,r.tagName))||(a=rc.has(e)))||(o=r.nodeName.includes("-")))d&&(e=e.slice(5),a=!0),e==="class"||e==="className"?rr(r,t):o&&!a&&!u?r[gc(e)]=t:r[c||e]=t;else{const h=s&&e.indexOf(":")>-1&&cc[e.split(":")[0]];h?fc(r,h,e,t):Ln(r,sc[e]||e,t)}return t}function vc(r){const e=`$$${r.type}`;let t=r.composedPath&&r.composedPath()[0]||r.target;for(r.target!==t&&Object.defineProperty(r,"target",{configurable:!0,value:t}),Object.defineProperty(r,"currentTarget",{configurable:!0,get(){return t||document}}),Ke.registry&&!Ke.done&&(Ke.done=_$HY.done=!0);t;){const n=t[e];if(n&&!t.disabled){const s=t[`${e}Data`];if(s!==void 0?n.call(t,s,r):n.call(t,r),r.cancelBubble)return}t=t._$host||t.parentNode||t.host}}function Br(r,e,t,n,s){if(Ke.context){!t&&(t=[...r.childNodes]);let a=[];for(let u=0;u<t.length;u++){const c=t[u];c.nodeType===8&&c.data.slice(0,2)==="!$"?c.remove():a.push(c)}t=a}for(;typeof t=="function";)t=t();if(e===t)return t;const i=typeof e,o=n!==void 0;if(r=o&&t[0]&&t[0].parentNode||r,i==="string"||i==="number"){if(Ke.context)return t;if(i==="number"&&(e=e.toString()),o){let a=t[0];a&&a.nodeType===3?a.data=e:a=document.createTextNode(e),t=Dr(r,t,n,a)}else t!==""&&typeof t=="string"?t=r.firstChild.data=e:t=r.textContent=e}else if(e==null||i==="boolean"){if(Ke.context)return t;t=Dr(r,t,n)}else{if(i==="function")return Dt(()=>{let a=e();for(;typeof a=="function";)a=a();t=Br(r,a,t,n)}),()=>t;if(Array.isArray(e)){const a=[],u=t&&Array.isArray(t);if(Ps(a,e,t,s))return Dt(()=>t=Br(r,a,t,n,!0)),()=>t;if(Ke.context){if(!a.length)return t;for(let c=0;c<a.length;c++)if(a[c].parentNode)return t=a}if(a.length===0){if(t=Dr(r,t,n),o)return t}else u?t.length===0?li(r,a,n):lc(r,t,a):(t&&Dr(r),li(r,a));t=a}else if(e.nodeType){if(Ke.context&&e.parentNode)return t=o?[e]:e;if(Array.isArray(t)){if(o)return t=Dr(r,t,n,e);Dr(r,t,null,e)}else t==null||t===""||!r.firstChild?r.appendChild(e):r.replaceChild(e,r.firstChild);t=e}else console.warn("Unrecognized value. Skipped inserting",e)}return t}function Ps(r,e,t,n){let s=!1;for(let i=0,o=e.length;i<o;i++){let a=e[i],u=t&&t[i],c;if(!(a==null||a===!0||a===!1))if((c=typeof a)=="object"&&a.nodeType)r.push(a);else if(Array.isArray(a))s=Ps(r,a,u)||s;else if(c==="function")if(n){for(;typeof a=="function";)a=a();s=Ps(r,Array.isArray(a)?a:[a],Array.isArray(u)?u:[u])||s}else r.push(a),s=!0;else{const d=String(a);u&&u.nodeType===3&&u.data===d?r.push(u):r.push(document.createTextNode(d))}}return s}function li(r,e,t=null){for(let n=0,s=e.length;n<s;n++)r.insertBefore(e[n],t)}function Dr(r,e,t,n){if(t===void 0)return r.textContent="";const s=n||document.createTextNode("");if(e.length){let i=!1;for(let o=e.length-1;o>=0;o--){const a=e[o];if(s!==a){const u=a.parentNode===r;!i&&!o?u?r.replaceChild(s,a):r.insertBefore(s,t):u&&a.remove()}else i=!0}}else r.insertBefore(s,t);return[s]}const wc=!1;function bc(r,e,t){return r.addEventListener(e,t),()=>r.removeEventListener(e,t)}function _c([r,e],t,n){return[t?()=>t(r()):r,n?s=>e(n(s)):e]}function Ec(r){try{return document.querySelector(r)}catch{return null}}function Pc(r,e){const t=Ec(`#${r}`);t?t.scrollIntoView():e&&window.scrollTo(0,0)}function Sc(r,e,t,n){let s=!1;const i=a=>typeof a=="string"?{value:a}:a,o=_c(dt(i(r()),{equals:(a,u)=>a.value===u.value}),void 0,a=>(!s&&e(a),a));return t&&Vn(t((a=r())=>{s=!0,o[1](i(a)),s=!1})),{signal:o,utils:n}}function xc(r){if(r){if(Array.isArray(r))return{signal:r}}else return{signal:dt({value:""})};return r}function kc(){return Sc(()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state}),({value:r,replace:e,scroll:t,state:n})=>{e?window.history.replaceState(n,"",r):window.history.pushState(n,"",r),Pc(window.location.hash.slice(1),t)},r=>bc(window,"popstate",()=>r()),{go:r=>window.history.go(r)})}function $c(){let r=new Set;function e(s){return r.add(s),()=>r.delete(s)}let t=!1;function n(s,i){if(t)return!(t=!1);const o={to:s,options:i,defaultPrevented:!1,preventDefault:()=>o.defaultPrevented=!0};for(const a of r)a.listener({...o,from:a.location,retry:u=>{u&&(t=!0),a.navigate(s,i)}});return!o.defaultPrevented}return{subscribe:e,confirm:n}}const Tc=/^(?:[a-z0-9]+:)?\/\//i,Dc=/^\/+|(\/)\/+$/g;function yr(r,e=!1){const t=r.replace(Dc,"$1");return t?e||/^[?#]/.test(t)?t:"/"+t:""}function An(r,e,t){if(Tc.test(e))return;const n=yr(r),s=t&&yr(t);let i="";return!s||e.startsWith("/")?i=n:s.toLowerCase().indexOf(n.toLowerCase())!==0?i=n+s:i=s,(i||"/")+yr(e,!i)}function Ac(r,e){if(r==null)throw new Error(e);return r}function Yi(r,e){return yr(r).replace(/\/*(\*.*)?$/g,"")+yr(e)}function Oc(r){const e={};return r.searchParams.forEach((t,n)=>{e[n]=t}),e}function jc(r,e,t){const[n,s]=r.split("/*",2),i=n.split("/").filter(Boolean),o=i.length;return a=>{const u=a.split("/").filter(Boolean),c=u.length-o;if(c<0||c>0&&s===void 0&&!e)return null;const d={path:o?"":"/",params:{}},h=g=>t===void 0?void 0:t[g];for(let g=0;g<o;g++){const y=i[g],_=u[g],w=y[0]===":",S=w?y.slice(1):y;if(w&&gs(_,h(S)))d.params[S]=_;else if(w||!gs(_,y))return null;d.path+=`/${_}`}if(s){const g=c?u.slice(-c).join("/"):"";if(gs(g,h(s)))d.params[s]=g;else return null}return d}}function gs(r,e){const t=n=>n.localeCompare(r,void 0,{sensitivity:"base"})===0;return e===void 0?!0:typeof e=="string"?t(e):typeof e=="function"?e(r):Array.isArray(e)?e.some(t):e instanceof RegExp?e.test(r):!1}function Rc(r){const[e,t]=r.pattern.split("/*",2),n=e.split("/").filter(Boolean);return n.reduce((s,i)=>s+(i.startsWith(":")?2:3),n.length-(t===void 0?0:1))}function Ji(r){const e=new Map,t=qi();return new Proxy({},{get(n,s){return e.has(s)||Ma(t,()=>e.set(s,Je(()=>r()[s]))),e.get(s)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(r())}})}function Zi(r){let e=/(\/?\:[^\/]+)\?/.exec(r);if(!e)return[r];let t=r.slice(0,e.index),n=r.slice(e.index+e[0].length);const s=[t,t+=e[1]];for(;e=/^(\/\:[^\/]+)\?/.exec(n);)s.push(t+=e[1]),n=n.slice(e[0].length);return Zi(n).reduce((i,o)=>[...i,...s.map(a=>a+o)],[])}const Cc=100,Qi=Kn(),Qn=Kn(),Xn=()=>Ac(Yn(Qi),"Make sure your app is wrapped in a <Router />");let nn;const es=()=>nn||Yn(Qn)||Xn().base,Ic=r=>{const e=es();return Je(()=>e.resolvePath(r()))},Nc=r=>{const e=Xn();return Je(()=>{const t=r();return t!==void 0?e.renderPath(t):t})},Xi=()=>Xn().location,Uh=()=>es().data;function Lc(r,e="",t){const{component:n,data:s,children:i}=r,o=!i||Array.isArray(i)&&!i.length,a={key:r,element:n?()=>ft(n,{}):()=>{const{element:u}=r;return u===void 0&&t?ft(t,{}):u},preload:r.component?n.preload:r.preload,data:s};return eo(r.path).reduce((u,c)=>{for(const d of Zi(c)){const h=Yi(e,d),g=o?h:h.split("/*",1)[0];u.push({...a,originalPath:d,pattern:g,matcher:jc(g,!o,r.matchFilters)})}return u},[])}function Bc(r,e=0){return{routes:r,score:Rc(r[r.length-1])*1e4-e,matcher(t){const n=[];for(let s=r.length-1;s>=0;s--){const i=r[s],o=i.matcher(t);if(!o)return null;n.unshift({...o,route:i})}return n}}}function eo(r){return Array.isArray(r)?r:[r]}function to(r,e="",t,n=[],s=[]){const i=eo(r);for(let o=0,a=i.length;o<a;o++){const u=i[o];if(u&&typeof u=="object"&&u.hasOwnProperty("path")){const c=Lc(u,e,t);for(const d of c){n.push(d);const h=Array.isArray(u.children)&&u.children.length===0;if(u.children&&!h)to(u.children,d.pattern,t,n,s);else{const g=Bc([...n],s.length);s.push(g)}n.pop()}}}return n.length?s:s.sort((o,a)=>a.score-o.score)}function Fc(r,e){for(let t=0,n=r.length;t<n;t++){const s=r[t].matcher(e);if(s)return s}return[]}function qc(r,e){const t=new URL("http://sar"),n=Je(u=>{const c=r();try{return new URL(c,t)}catch{return console.error(`Invalid path ${c}`),u}},t,{equals:(u,c)=>u.href===c.href}),s=Je(()=>n().pathname),i=Je(()=>n().search,!0),o=Je(()=>n().hash),a=Je(()=>"");return{get pathname(){return s()},get search(){return i()},get hash(){return o()},get state(){return e()},get key(){return a()},query:Ji(Fi(i,()=>Oc(n())))}}function Uc(r,e="",t,n){const{signal:[s,i],utils:o={}}=xc(r),a=o.parsePath||(q=>q),u=o.renderPath||(q=>q),c=o.beforeLeave||$c(),d=An("",e),h=void 0;if(d===void 0)throw new Error(`${d} is not a valid base path`);d&&!s().value&&i({value:d,replace:!0,scroll:!1});const[g,y]=dt(!1),_=async q=>{y(!0);try{await za(q)}finally{y(!1)}},[w,S]=dt(s().value),[E,$]=dt(s().state),R=qc(w,E),N=[],D={pattern:d,params:{},path:()=>d,outlet:()=>null,resolvePath(q){return An(d,q)}};if(t)try{nn=D,D.data=t({data:void 0,params:{},location:R,navigate:B(D)})}finally{nn=void 0}function V(q,W,ce){ht(()=>{if(typeof W=="number"){W&&(o.go?c.confirm(W,ce)&&o.go(W):console.warn("Router integration does not support relative routing"));return}const{replace:T,resolve:G,scroll:v,state:Z}={replace:!1,resolve:!0,scroll:!0,...ce},Ee=G?q.resolvePath(W):An("",W);if(Ee===void 0)throw new Error(`Path '${W}' is not a routable path`);if(N.length>=Cc)throw new Error("Too many redirects");const Q=w();if((Ee!==Q||Z!==E())&&!wc){if(c.confirm(Ee,ce)){const xe=N.push({value:Q,replace:T,scroll:v,state:E()});_(()=>{S(Ee),$(Z)}).then(()=>{N.length===xe&&K({value:Ee,state:Z})})}}})}function B(q){return q=q||Yn(Qn)||D,(W,ce)=>V(q,W,ce)}function K(q){const W=N[0];W&&((q.value!==W.value||q.state!==W.state)&&i({...q,replace:W.replace,scroll:W.scroll}),N.length=0)}Dt(()=>{const{value:q,state:W}=s();ht(()=>{q!==w()&&_(()=>{S(q),$(W)})})});{let q=function(W){if(W.defaultPrevented||W.button!==0||W.metaKey||W.altKey||W.ctrlKey||W.shiftKey)return;const ce=W.composedPath().find(Q=>Q instanceof Node&&Q.nodeName.toUpperCase()==="A");if(!ce||!ce.hasAttribute("link"))return;const T=ce.href;if(ce.target||!T&&!ce.hasAttribute("state"))return;const G=(ce.getAttribute("rel")||"").split(/\s+/);if(ce.hasAttribute("download")||G&&G.includes("external"))return;const v=new URL(T);if(v.origin!==window.location.origin||d&&v.pathname&&!v.pathname.toLowerCase().startsWith(d.toLowerCase()))return;const Z=a(v.pathname+v.search+v.hash),Ee=ce.getAttribute("state");W.preventDefault(),V(D,Z,{resolve:!1,replace:ce.hasAttribute("replace"),scroll:!ce.hasAttribute("noscroll"),state:Ee&&JSON.parse(Ee)})};Ki(["click"]),document.addEventListener("click",q),Vn(()=>document.removeEventListener("click",q))}return{base:D,out:h,location:R,isRouting:g,renderPath:u,parsePath:a,navigatorFactory:B,beforeLeave:c}}function Mc(r,e,t,n,s){const{base:i,location:o,navigatorFactory:a}=r,{pattern:u,element:c,preload:d,data:h}=n().route,g=Je(()=>n().path);d&&d();const y={parent:e,pattern:u,get child(){return t()},path:g,params:s,data:e.data,outlet:c,resolvePath(_){return An(i.path(),_,g())}};if(h)try{nn=y,y.data=h({data:e.data,params:s,location:o,navigate:a(y)})}finally{nn=void 0}return y}const zc=Ds("<a link>"),Wc=r=>{const{source:e,url:t,base:n,data:s,out:i}=r,o=e||kc(),a=Uc(o,n,s);return ft(Qi.Provider,{value:a,get children(){return r.children}})},Hc=r=>{const e=Xn(),t=es(),n=Ui(()=>r.children),s=Je(()=>to(n(),Yi(t.pattern,r.base||""),Vc)),i=Je(()=>Fc(s(),e.location.pathname)),o=Ji(()=>{const d=i(),h={};for(let g=0;g<d.length;g++)Object.assign(h,d[g].params);return h});e.out&&e.out.matches.push(i().map(({route:d,path:h,params:g})=>({originalPath:d.originalPath,pattern:d.pattern,path:h,params:g})));const a=[];let u;const c=Je(Fi(i,(d,h,g)=>{let y=h&&d.length===h.length;const _=[];for(let w=0,S=d.length;w<S;w++){const E=h&&h[w],$=d[w];g&&E&&$.route.key===E.route.key?_[w]=g[w]:(y=!1,a[w]&&a[w](),Ir(R=>{a[w]=R,_[w]=Mc(e,_[w-1]||t,()=>c()[w+1],()=>i()[w],o)}))}return a.splice(d.length).forEach(w=>w()),g&&y?g:(u=_[0],_)}));return ft(Vi,{get when(){return c()&&u},keyed:!0,children:d=>ft(Qn.Provider,{value:d,get children(){return d.outlet()}})})},Gc=(r,e)=>()=>ft(Hc,{base:e,children:r}),Vc=()=>{const r=es();return ft(Vi,{get when(){return r.child},keyed:!0,children:e=>ft(Qn.Provider,{value:e,get children(){return e.outlet()}})})};function vs(r){r=ii({inactiveClass:"inactive",activeClass:"active"},r);const[,e]=Qa(r,["href","state","class","activeClass","inactiveClass","end"]),t=Ic(()=>r.href),n=Nc(t),s=Xi(),i=Je(()=>{const o=t();if(o===void 0)return!1;const a=yr(o.split(/[?#]/,1)[0]).toLowerCase(),u=yr(s.pathname).toLowerCase();return r.end?a===u:u.startsWith(a)});return(()=>{const o=zc();return pc(o,ii(e,{get href(){return n()||r.href},get state(){return JSON.stringify(r.state)},get classList(){return{...r.class&&{[r.class]:!0},[r.inactiveClass]:!i(),[r.activeClass]:i(),...e.classList}},get["aria-current"](){return i()?"page":void 0}}),!1,!1),o})()}const Kc="modulepreload",Yc=function(r){return"/"+r},ui={},$t=function(e,t,n){if(!t||t.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(t.map(i=>{if(i=Yc(i),i in ui)return;ui[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!n)for(let d=s.length-1;d>=0;d--){const h=s[d];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":Kc,o||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),o)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())},Ar={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,safari10:!1,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,cssVarShim:!1,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,dynamicImportShim:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0};let Or,ro,ts,no=!1,Bn=!1,As=!1,gt=!1,fi=null,Ss=!1;const _r=(r,e="")=>()=>{},hi="http://www.w3.org/1999/xlink",di={},Jc="http://www.w3.org/2000/svg",Zc="http://www.w3.org/1999/xhtml",Qc=r=>r!=null,Os=r=>(r=typeof r,r==="object"||r==="function");function Xc(r){var e,t,n;return(n=(t=(e=r.head)===null||e===void 0?void 0:e.querySelector('meta[name="csp-nonce"]'))===null||t===void 0?void 0:t.getAttribute("content"))!==null&&n!==void 0?n:void 0}const so=(r,e,...t)=>{let n=null,s=null,i=null,o=!1,a=!1;const u=[],c=h=>{for(let g=0;g<h.length;g++)n=h[g],Array.isArray(n)?c(n):n!=null&&typeof n!="boolean"&&((o=typeof r!="function"&&!Os(n))&&(n=String(n)),o&&a?u[u.length-1].$text$+=n:u.push(o?Fn(null,n):n),a=o)};if(c(t),e){e.key&&(s=e.key),e.name&&(i=e.name);{const h=e.className||e.class;h&&(e.class=typeof h!="object"?h:Object.keys(h).filter(g=>h[g]).join(" "))}}if(typeof r=="function")return r(e===null?{}:e,u,rl);const d=Fn(r,null);return d.$attrs$=e,u.length>0&&(d.$children$=u),d.$key$=s,d.$name$=i,d},Fn=(r,e)=>{const t={$flags$:0,$tag$:r,$text$:e,$elm$:null,$children$:null};return t.$attrs$=null,t.$key$=null,t.$name$=null,t},el={},tl=r=>r&&r.$tag$===el,rl={forEach:(r,e)=>r.map(mi).forEach(e),map:(r,e)=>r.map(mi).map(e).map(nl)},mi=r=>({vattrs:r.$attrs$,vchildren:r.$children$,vkey:r.$key$,vname:r.$name$,vtag:r.$tag$,vtext:r.$text$}),nl=r=>{if(typeof r.vtag=="function"){const t=Object.assign({},r.vattrs);return r.vkey&&(t.key=r.vkey),r.vname&&(t.name=r.vname),so(r.vtag,t,...r.vchildren||[])}const e=Fn(r.vtag,r.vtext);return e.$attrs$=r.vattrs,e.$children$=r.vchildren,e.$key$=r.vkey,e.$name$=r.vname,e},sl=r=>jl.map(e=>e(r)).find(e=>!!e),il=(r,e)=>r!=null&&!Os(r)?e&4?r==="false"?!1:r===""||!!r:e&2?parseFloat(r):e&1?String(r):r:r,ol=r=>r,en=(r,e,t)=>{const n=ol(r);return{emit:s=>al(n,e,{bubbles:!!(t&4),composed:!!(t&2),cancelable:!!(t&1),detail:s})}},al=(r,e,t)=>{const n=ct.ce(e,t);return r.dispatchEvent(n),n},pi=new WeakMap,cl=(r,e,t)=>{let n=Un.get(r);Nl&&t?(n=n||new CSSStyleSheet,typeof n=="string"?n=e:n.replaceSync(e)):n=e,Un.set(r,n)},ll=(r,e,t,n)=>{var s;let i=io(e,t);const o=Un.get(i);if(r=r.nodeType===11?r:At,o)if(typeof o=="string"){r=r.head||r;let a=pi.get(r),u;if(a||pi.set(r,a=new Set),!a.has(i)){{u=At.createElement("style"),u.innerHTML=o;const c=(s=ct.$nonce$)!==null&&s!==void 0?s:Xc(At);c!=null&&u.setAttribute("nonce",c),r.insertBefore(u,r.querySelector("link"))}a&&a.add(i)}}else r.adoptedStyleSheets.includes(o)||(r.adoptedStyleSheets=[...r.adoptedStyleSheets,o]);return i},ul=r=>{const e=r.$cmpMeta$,t=r.$hostElement$,n=e.$flags$,s=_r("attachStyles",e.$tagName$),i=ll(t.shadowRoot?t.shadowRoot:t.getRootNode(),e,r.$modeName$);n&10&&(t["s-sc"]=i,t.classList.add(i+"-h"),n&2&&t.classList.add(i+"-s")),s()},io=(r,e)=>"sc-"+(e&&r.$flags$&32?r.$tagName$+"-"+e:r.$tagName$),yi=(r,e,t,n,s,i)=>{if(t!==n){let o=bi(r,e),a=e.toLowerCase();if(e==="class"){const u=r.classList,c=gi(t),d=gi(n);u.remove(...c.filter(h=>h&&!d.includes(h))),u.add(...d.filter(h=>h&&!c.includes(h)))}else if(e==="style"){for(const u in t)(!n||n[u]==null)&&(u.includes("-")?r.style.removeProperty(u):r.style[u]="");for(const u in n)(!t||n[u]!==t[u])&&(u.includes("-")?r.style.setProperty(u,n[u]):r.style[u]=n[u])}else if(e!=="key")if(e==="ref")n&&n(r);else if(!r.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n")e[2]==="-"?e=e.slice(3):bi(ns,a)?e=a.slice(2):e=a[2]+e.slice(3),t&&ct.rel(r,e,t,!1),n&&ct.ael(r,e,n,!1);else{const u=Os(n);if((o||u&&n!==null)&&!s)try{if(r.tagName.includes("-"))r[e]=n;else{const d=n??"";e==="list"?o=!1:(t==null||r[e]!=d)&&(r[e]=d)}}catch{}let c=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(e=a,c=!0),n==null||n===!1?(n!==!1||r.getAttribute(e)==="")&&(c?r.removeAttributeNS(hi,e):r.removeAttribute(e)):(!o||i&4||s)&&!u&&(n=n===!0?"":n,c?r.setAttributeNS(hi,e,n):r.setAttribute(e,n))}}},fl=/\s/,gi=r=>r?r.split(fl):[],oo=(r,e,t,n)=>{const s=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,i=r&&r.$attrs$||di,o=e.$attrs$||di;for(n in i)n in o||yi(s,n,i[n],void 0,t,e.$flags$);for(n in o)yi(s,n,i[n],o[n],t,e.$flags$)},qn=(r,e,t,n)=>{const s=e.$children$[t];let i=0,o,a,u;if(no||(As=!0,s.$tag$==="slot"&&(Or&&n.classList.add(Or+"-s"),s.$flags$|=s.$children$?2:1)),s.$text$!==null)o=s.$elm$=At.createTextNode(s.$text$);else if(s.$flags$&1)o=s.$elm$=At.createTextNode("");else{if(gt||(gt=s.$tag$==="svg"),o=s.$elm$=At.createElementNS(gt?Jc:Zc,s.$flags$&2?"slot-fb":s.$tag$),gt&&s.$tag$==="foreignObject"&&(gt=!1),oo(null,s,gt),Qc(Or)&&o["s-si"]!==Or&&o.classList.add(o["s-si"]=Or),s.$children$)for(i=0;i<s.$children$.length;++i)a=qn(r,s,i,o),a&&o.appendChild(a);s.$tag$==="svg"?gt=!1:o.tagName==="foreignObject"&&(gt=!0)}return o["s-hn"]=ts,s.$flags$&3&&(o["s-sr"]=!0,o["s-cr"]=ro,o["s-sn"]=s.$name$||"",u=r&&r.$children$&&r.$children$[t],u&&u.$tag$===s.$tag$&&r.$elm$&&sn(r.$elm$,!1)),o},sn=(r,e)=>{ct.$flags$|=1;const t=r.childNodes;for(let n=t.length-1;n>=0;n--){const s=t[n];s["s-hn"]!==ts&&s["s-ol"]&&(lo(s).insertBefore(s,js(s)),s["s-ol"].remove(),s["s-ol"]=void 0,As=!0),e&&sn(s,e)}ct.$flags$&=-2},ao=(r,e,t,n,s,i)=>{let o=r["s-cr"]&&r["s-cr"].parentNode||r,a;for(o.shadowRoot&&o.tagName===ts&&(o=o.shadowRoot);s<=i;++s)n[s]&&(a=qn(null,t,s,r),a&&(n[s].$elm$=a,o.insertBefore(a,js(e))))},co=(r,e,t)=>{for(let n=e;n<=t;++n){const s=r[n];if(s){const i=s.$elm$;ho(s),i&&(Bn=!0,i["s-ol"]?i["s-ol"].remove():sn(i,!0),i.remove())}}},hl=(r,e,t,n)=>{let s=0,i=0,o=0,a=0,u=e.length-1,c=e[0],d=e[u],h=n.length-1,g=n[0],y=n[h],_,w;for(;s<=u&&i<=h;)if(c==null)c=e[++s];else if(d==null)d=e[--u];else if(g==null)g=n[++i];else if(y==null)y=n[--h];else if($n(c,g))jr(c,g),c=e[++s],g=n[++i];else if($n(d,y))jr(d,y),d=e[--u],y=n[--h];else if($n(c,y))(c.$tag$==="slot"||y.$tag$==="slot")&&sn(c.$elm$.parentNode,!1),jr(c,y),r.insertBefore(c.$elm$,d.$elm$.nextSibling),c=e[++s],y=n[--h];else if($n(d,g))(c.$tag$==="slot"||y.$tag$==="slot")&&sn(d.$elm$.parentNode,!1),jr(d,g),r.insertBefore(d.$elm$,c.$elm$),d=e[--u],g=n[++i];else{for(o=-1,a=s;a<=u;++a)if(e[a]&&e[a].$key$!==null&&e[a].$key$===g.$key$){o=a;break}o>=0?(w=e[o],w.$tag$!==g.$tag$?_=qn(e&&e[i],t,o,r):(jr(w,g),e[o]=void 0,_=w.$elm$),g=n[++i]):(_=qn(e&&e[i],t,i,r),g=n[++i]),_&&lo(c.$elm$).insertBefore(_,js(c.$elm$))}s>u?ao(r,n[h+1]==null?null:n[h+1].$elm$,t,n,i,h):i>h&&co(e,s,u)},$n=(r,e)=>r.$tag$===e.$tag$?r.$tag$==="slot"?r.$name$===e.$name$:r.$key$===e.$key$:!1,js=r=>r&&r["s-ol"]||r,lo=r=>(r["s-ol"]?r["s-ol"]:r).parentNode,jr=(r,e)=>{const t=e.$elm$=r.$elm$,n=r.$children$,s=e.$children$,i=e.$tag$,o=e.$text$;let a;o===null?(gt=i==="svg"?!0:i==="foreignObject"?!1:gt,i==="slot"||oo(r,e,gt),n!==null&&s!==null?hl(t,n,e,s):s!==null?(r.$text$!==null&&(t.textContent=""),ao(t,null,e,s,0,s.length-1)):n!==null&&co(n,0,n.length-1),gt&&i==="svg"&&(gt=!1)):(a=t["s-cr"])?a.parentNode.textContent=o:r.$text$!==o&&(t.data=o)},uo=r=>{const e=r.childNodes;let t,n,s,i,o,a;for(n=0,s=e.length;n<s;n++)if(t=e[n],t.nodeType===1){if(t["s-sr"]){for(o=t["s-sn"],t.hidden=!1,i=0;i<s;i++)if(a=e[i].nodeType,e[i]["s-hn"]!==t["s-hn"]||o!==""){if(a===1&&o===e[i].getAttribute("slot")){t.hidden=!0;break}}else if(a===1||a===3&&e[i].textContent.trim()!==""){t.hidden=!0;break}}uo(t)}},Tt=[],fo=r=>{let e,t,n,s,i,o,a=0;const u=r.childNodes,c=u.length;for(;a<c;a++){if(e=u[a],e["s-sr"]&&(t=e["s-cr"])&&t.parentNode)for(n=t.parentNode.childNodes,s=e["s-sn"],o=n.length-1;o>=0;o--)t=n[o],!t["s-cn"]&&!t["s-nr"]&&t["s-hn"]!==e["s-hn"]&&(vi(t,s)?(i=Tt.find(d=>d.$nodeToRelocate$===t),Bn=!0,t["s-sn"]=t["s-sn"]||s,i?i.$slotRefNode$=e:Tt.push({$slotRefNode$:e,$nodeToRelocate$:t}),t["s-sr"]&&Tt.map(d=>{vi(d.$nodeToRelocate$,t["s-sn"])&&(i=Tt.find(h=>h.$nodeToRelocate$===t),i&&!d.$slotRefNode$&&(d.$slotRefNode$=i.$slotRefNode$))})):Tt.some(d=>d.$nodeToRelocate$===t)||Tt.push({$nodeToRelocate$:t}));e.nodeType===1&&fo(e)}},vi=(r,e)=>r.nodeType===1?r.getAttribute("slot")===null&&e===""||r.getAttribute("slot")===e:r["s-sn"]===e?!0:e==="",ho=r=>{r.$attrs$&&r.$attrs$.ref&&r.$attrs$.ref(null),r.$children$&&r.$children$.map(ho)},dl=(r,e)=>{const t=r.$hostElement$,n=r.$cmpMeta$,s=r.$vnode$||Fn(null,null),i=tl(e)?e:so(null,null,e);ts=t.tagName,n.$attrsToReflect$&&(i.$attrs$=i.$attrs$||{},n.$attrsToReflect$.map(([o,a])=>i.$attrs$[a]=t[o])),i.$tag$=null,i.$flags$|=4,r.$vnode$=i,i.$elm$=s.$elm$=t.shadowRoot||t,Or=t["s-sc"],ro=t["s-cr"],no=(n.$flags$&1)!==0,Bn=!1,jr(s,i);{if(ct.$flags$|=1,As){fo(i.$elm$);let o,a,u,c,d,h,g=0;for(;g<Tt.length;g++)o=Tt[g],a=o.$nodeToRelocate$,a["s-ol"]||(u=At.createTextNode(""),u["s-nr"]=a,a.parentNode.insertBefore(a["s-ol"]=u,a));for(g=0;g<Tt.length;g++)if(o=Tt[g],a=o.$nodeToRelocate$,o.$slotRefNode$){for(c=o.$slotRefNode$.parentNode,d=o.$slotRefNode$.nextSibling,u=a["s-ol"];u=u.previousSibling;)if(h=u["s-nr"],h&&h["s-sn"]===a["s-sn"]&&c===h.parentNode&&(h=h.nextSibling,!h||!h["s-nr"])){d=h;break}(!d&&c!==a.parentNode||a.nextSibling!==d)&&a!==d&&(!a["s-hn"]&&a["s-ol"]&&(a["s-hn"]=a["s-ol"].parentNode.nodeName),c.insertBefore(a,d))}else a.nodeType===1&&(a.hidden=!0)}Bn&&uo(i.$elm$),ct.$flags$&=-2,Tt.length=0}},ml=(r,e)=>{},mo=(r,e)=>(r.$flags$|=16,ml(r,r.$ancestorComponent$),Fl(()=>pl(r,e))),pl=(r,e)=>{const t=r.$hostElement$,n=_r("scheduleUpdate",r.$cmpMeta$.$tagName$),s=t;let i;return e?i=Nr(s,"componentWillLoad"):i=Nr(s,"componentWillUpdate"),i=wi(i,()=>Nr(s,"componentWillRender")),n(),wi(i,()=>yl(r,s,e))},wi=(r,e)=>r instanceof Promise?r.then(e):e(),yl=async(r,e,t)=>{const n=r.$hostElement$,s=_r("update",r.$cmpMeta$.$tagName$);n["s-rc"],t&&ul(r);const i=_r("render",r.$cmpMeta$.$tagName$);gl(r,e,n),i(),s(),vl(r)},gl=(r,e,t)=>{try{fi=e,e=e.render&&e.render(),r.$flags$&=-17,r.$flags$|=2,(Ar.hasRenderFn||Ar.reflect)&&(Ar.vdomRender||Ar.reflect)&&(Ar.hydrateServerSide||dl(r,e))}catch(a){cn(a,r.$hostElement$)}return fi=null,null},vl=r=>{const e=r.$cmpMeta$.$tagName$,t=r.$hostElement$,n=_r("postUpdate",e),s=t;r.$ancestorComponent$,Nr(s,"componentDidRender"),r.$flags$&64?(Nr(s,"componentDidUpdate"),n()):(r.$flags$|=64,Nr(s,"componentDidLoad"),n())},Nr=(r,e,t)=>{if(r&&r[e])try{return r[e](t)}catch(n){cn(n)}},wl=(r,e)=>rs(r).$instanceValues$.get(e),bl=(r,e,t,n)=>{const s=rs(r),i=r,o=s.$instanceValues$.get(e),a=s.$flags$,u=i;t=il(t,n.$members$[e][0]);const c=Number.isNaN(o)&&Number.isNaN(t);if(t!==o&&!c){s.$instanceValues$.set(e,t);{if(n.$watchers$&&a&128){const h=n.$watchers$[e];h&&h.map(g=>{try{u[g](t,o,e)}catch(y){cn(y,i)}})}if((a&18)===2){if(u.componentShouldUpdate&&u.componentShouldUpdate(t,o,e)===!1)return;mo(s,!1)}}}},_l=(r,e,t)=>{if(e.$members$){r.watchers&&(e.$watchers$=r.watchers);const n=Object.entries(e.$members$),s=r.prototype;n.map(([i,[o]])=>{(o&31||o&32)&&Object.defineProperty(s,i,{get(){return wl(this,i)},set(a){bl(this,i,a,e)},configurable:!0,enumerable:!0})});{const i=new Map;s.attributeChangedCallback=function(o,a,u){ct.jmp(()=>{const c=i.get(o);if(this.hasOwnProperty(c))u=this[c],delete this[c];else if(s.hasOwnProperty(c)&&typeof this[c]=="number"&&this[c]==u)return;this[c]=u===null&&typeof this[c]=="boolean"?!1:u})},r.observedAttributes=n.filter(([o,a])=>a[0]&15).map(([o,a])=>{const u=a[1]||o;return i.set(u,o),a[0]&512&&e.$attrsToReflect$.push([o,u]),u})}}return r},El=async(r,e,t,n,s)=>{if(!(e.$flags$&32)&&(e.$flags$|=32,s=r.constructor,customElements.whenDefined(t.$tagName$).then(()=>e.$flags$|=128),s.style)){let o=s.style;typeof o!="string"&&(o=o[e.$modeName$=sl(r)]);const a=io(t,e.$modeName$);if(!Un.has(a)){const u=_r("registerStyles",t.$tagName$);cl(a,o,!!(t.$flags$&1)),u()}}e.$ancestorComponent$,(()=>mo(e,!0))()},Pl=r=>{},Sl=r=>{if(!(ct.$flags$&1)){const e=rs(r),t=e.$cmpMeta$,n=_r("connectedCallback",t.$tagName$);e.$flags$&1?(po(r,e,t.$listeners$),Pl(e.$lazyInstance$)):(e.$flags$|=1,t.$flags$&12&&xl(r),t.$members$&&Object.entries(t.$members$).map(([s,[i]])=>{if(i&31&&r.hasOwnProperty(s)){const o=r[s];delete r[s],r[s]=o}}),El(r,e,t)),n()}},xl=r=>{const e=r["s-cr"]=At.createComment("");e["s-cn"]=!0,r.insertBefore(e,r.firstChild)},kl=r=>{if(!(ct.$flags$&1)){const e=rs(r);e.$rmListeners$&&(e.$rmListeners$.map(t=>t()),e.$rmListeners$=void 0)}},$l=(r,e)=>{const t={$flags$:e[0],$tagName$:e[1]};t.$members$=e[2],t.$listeners$=e[3],t.$watchers$=r.$watchers$,t.$attrsToReflect$=[];const n=r.prototype.connectedCallback,s=r.prototype.disconnectedCallback;return Object.assign(r.prototype,{__registerHost(){Ol(this,t)},connectedCallback(){Sl(this),n&&n.call(this)},disconnectedCallback(){kl(this),s&&s.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(t.$flags$&16)})}}),r.is=t.$tagName$,_l(r,t)},po=(r,e,t,n)=>{t&&t.map(([s,i,o])=>{const a=Dl(r,s),u=Tl(e,o),c=Al(s);ct.ael(a,i,u,c),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>ct.rel(a,i,u,c))})},Tl=(r,e)=>t=>{try{Ar.lazyLoad||r.$hostElement$[e](t)}catch(n){cn(n)}},Dl=(r,e)=>e&4?At:e&8?ns:e&16?At.body:r,Al=r=>Cl?{passive:(r&1)!==0,capture:(r&2)!==0}:(r&2)!==0,yo=new WeakMap,rs=r=>yo.get(r),Ol=(r,e)=>{const t={$flags$:0,$hostElement$:r,$cmpMeta$:e,$instanceValues$:new Map};return po(r,t,e.$listeners$),yo.set(r,t)},bi=(r,e)=>e in r,cn=(r,e)=>(0,console.error)(r,e),Un=new Map,jl=[],ns=typeof window<"u"?window:{},At=ns.document||{head:{}},Rl=ns.HTMLElement||class{},ct={$flags$:0,$resourcesUrl$:"",jmp:r=>r(),raf:r=>requestAnimationFrame(r),ael:(r,e,t,n)=>r.addEventListener(e,t,n),rel:(r,e,t,n)=>r.removeEventListener(e,t,n),ce:(r,e)=>new CustomEvent(r,e)},Cl=(()=>{let r=!1;try{At.addEventListener("e",null,Object.defineProperty({},"passive",{get(){r=!0}}))}catch{}return r})(),Il=r=>Promise.resolve(r),Nl=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),_i=[],go=[],Ll=(r,e)=>t=>{r.push(t),Ss||(Ss=!0,e&&ct.$flags$&4?Bl(xs):ct.raf(xs))},Ei=r=>{for(let e=0;e<r.length;e++)try{r[e](performance.now())}catch(t){cn(t)}r.length=0},xs=()=>{Ei(_i),Ei(go),(Ss=_i.length>0)&&ct.raf(xs)},Bl=r=>Il().then(r),Fl=Ll(go,!0),on=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{};function vo(){throw new Error("setTimeout has not been defined")}function wo(){throw new Error("clearTimeout has not been defined")}var Xt=vo,er=wo;typeof on.setTimeout=="function"&&(Xt=setTimeout);typeof on.clearTimeout=="function"&&(er=clearTimeout);function bo(r){if(Xt===setTimeout)return setTimeout(r,0);if((Xt===vo||!Xt)&&setTimeout)return Xt=setTimeout,setTimeout(r,0);try{return Xt(r,0)}catch{try{return Xt.call(null,r,0)}catch{return Xt.call(this,r,0)}}}function ql(r){if(er===clearTimeout)return clearTimeout(r);if((er===wo||!er)&&clearTimeout)return er=clearTimeout,clearTimeout(r);try{return er(r)}catch{try{return er.call(null,r)}catch{return er.call(this,r)}}}var Kt=[],Lr=!1,dr,On=-1;function Ul(){!Lr||!dr||(Lr=!1,dr.length?Kt=dr.concat(Kt):On=-1,Kt.length&&_o())}function _o(){if(!Lr){var r=bo(Ul);Lr=!0;for(var e=Kt.length;e;){for(dr=Kt,Kt=[];++On<e;)dr&&dr[On].run();On=-1,e=Kt.length}dr=null,Lr=!1,ql(r)}}function Ml(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Kt.push(new Eo(r,e)),Kt.length===1&&!Lr&&bo(_o)}function Eo(r,e){this.fun=r,this.array=e}Eo.prototype.run=function(){this.fun.apply(null,this.array)};var zl="browser",Wl="browser",Hl=!0,Gl={},Vl=[],Kl="",Yl={},Jl={},Zl={};function Pr(){}var Ql=Pr,Xl=Pr,eu=Pr,tu=Pr,ru=Pr,nu=Pr,su=Pr;function iu(r){throw new Error("process.binding is not supported")}function ou(){return"/"}function au(r){throw new Error("process.chdir is not supported")}function cu(){return 0}var Rr=on.performance||{},lu=Rr.now||Rr.mozNow||Rr.msNow||Rr.oNow||Rr.webkitNow||function(){return new Date().getTime()};function uu(r){var e=lu.call(Rr)*.001,t=Math.floor(e),n=Math.floor(e%1*1e9);return r&&(t=t-r[0],n=n-r[1],n<0&&(t--,n+=1e9)),[t,n]}var fu=new Date;function hu(){var r=new Date,e=r-fu;return e/1e3}var tr={nextTick:Ml,title:zl,browser:Hl,env:Gl,argv:Vl,version:Kl,versions:Yl,on:Ql,addListener:Xl,once:eu,off:tu,removeListener:ru,removeAllListeners:nu,emit:su,binding:iu,cwd:ou,chdir:au,umask:cu,hrtime:uu,platform:Wl,release:Jl,config:Zl,uptime:hu};const du=`/developementjeep-sqlite
ode_modulessql.jsdist`;var Nt=[],Et=[],mu=typeof Uint8Array<"u"?Uint8Array:Array,Rs=!1;function Po(){Rs=!0;for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,t=r.length;e<t;++e)Nt[e]=r[e],Et[r.charCodeAt(e)]=e;Et["-".charCodeAt(0)]=62,Et["_".charCodeAt(0)]=63}function pu(r){Rs||Po();var e,t,n,s,i,o,a=r.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");i=r[a-2]==="="?2:r[a-1]==="="?1:0,o=new mu(a*3/4-i),n=i>0?a-4:a;var u=0;for(e=0,t=0;e<n;e+=4,t+=3)s=Et[r.charCodeAt(e)]<<18|Et[r.charCodeAt(e+1)]<<12|Et[r.charCodeAt(e+2)]<<6|Et[r.charCodeAt(e+3)],o[u++]=s>>16&255,o[u++]=s>>8&255,o[u++]=s&255;return i===2?(s=Et[r.charCodeAt(e)]<<2|Et[r.charCodeAt(e+1)]>>4,o[u++]=s&255):i===1&&(s=Et[r.charCodeAt(e)]<<10|Et[r.charCodeAt(e+1)]<<4|Et[r.charCodeAt(e+2)]>>2,o[u++]=s>>8&255,o[u++]=s&255),o}function yu(r){return Nt[r>>18&63]+Nt[r>>12&63]+Nt[r>>6&63]+Nt[r&63]}function gu(r,e,t){for(var n,s=[],i=e;i<t;i+=3)n=(r[i]<<16)+(r[i+1]<<8)+r[i+2],s.push(yu(n));return s.join("")}function Pi(r){Rs||Po();for(var e,t=r.length,n=t%3,s="",i=[],o=16383,a=0,u=t-n;a<u;a+=o)i.push(gu(r,a,a+o>u?u:a+o));return n===1?(e=r[t-1],s+=Nt[e>>2],s+=Nt[e<<4&63],s+="=="):n===2&&(e=(r[t-2]<<8)+r[t-1],s+=Nt[e>>10],s+=Nt[e>>4&63],s+=Nt[e<<2&63],s+="="),i.push(s),i.join("")}function ss(r,e,t,n,s){var i,o,a=s*8-n-1,u=(1<<a)-1,c=u>>1,d=-7,h=t?s-1:0,g=t?-1:1,y=r[e+h];for(h+=g,i=y&(1<<-d)-1,y>>=-d,d+=a;d>0;i=i*256+r[e+h],h+=g,d-=8);for(o=i&(1<<-d)-1,i>>=-d,d+=n;d>0;o=o*256+r[e+h],h+=g,d-=8);if(i===0)i=1-c;else{if(i===u)return o?NaN:(y?-1:1)*(1/0);o=o+Math.pow(2,n),i=i-c}return(y?-1:1)*o*Math.pow(2,i-n)}function So(r,e,t,n,s,i){var o,a,u,c=i*8-s-1,d=(1<<c)-1,h=d>>1,g=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:i-1,_=n?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=d):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+h>=1?e+=g/u:e+=g*Math.pow(2,1-h),e*u>=2&&(o++,u/=2),o+h>=d?(a=0,o=d):o+h>=1?(a=(e*u-1)*Math.pow(2,s),o=o+h):(a=e*Math.pow(2,h-1)*Math.pow(2,s),o=0));s>=8;r[t+y]=a&255,y+=_,a/=256,s-=8);for(o=o<<s|a,c+=s;c>0;r[t+y]=o&255,y+=_,o/=256,c-=8);r[t+y-_]|=w*128}var vu={}.toString,xo=Array.isArray||function(r){return vu.call(r)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var wu=50;ie.TYPED_ARRAY_SUPPORT=on.TYPED_ARRAY_SUPPORT!==void 0?on.TYPED_ARRAY_SUPPORT:!0;Mn();function Mn(){return ie.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Yt(r,e){if(Mn()<e)throw new RangeError("Invalid typed array length");return ie.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(e),r.__proto__=ie.prototype):(r===null&&(r=new ie(e)),r.length=e),r}function ie(r,e,t){if(!ie.TYPED_ARRAY_SUPPORT&&!(this instanceof ie))return new ie(r,e,t);if(typeof r=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return Cs(this,r)}return ko(this,r,e,t)}ie.poolSize=8192;ie._augment=function(r){return r.__proto__=ie.prototype,r};function ko(r,e,t,n){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?Eu(r,e,t,n):typeof e=="string"?_u(r,e,t):Pu(r,e)}ie.from=function(r,e,t){return ko(null,r,e,t)};ie.TYPED_ARRAY_SUPPORT&&(ie.prototype.__proto__=Uint8Array.prototype,ie.__proto__=Uint8Array);function $o(r){if(typeof r!="number")throw new TypeError('"size" argument must be a number');if(r<0)throw new RangeError('"size" argument must not be negative')}function bu(r,e,t,n){return $o(e),e<=0?Yt(r,e):t!==void 0?typeof n=="string"?Yt(r,e).fill(t,n):Yt(r,e).fill(t):Yt(r,e)}ie.alloc=function(r,e,t){return bu(null,r,e,t)};function Cs(r,e){if($o(e),r=Yt(r,e<0?0:Is(e)|0),!ie.TYPED_ARRAY_SUPPORT)for(var t=0;t<e;++t)r[t]=0;return r}ie.allocUnsafe=function(r){return Cs(null,r)};ie.allocUnsafeSlow=function(r){return Cs(null,r)};function _u(r,e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!ie.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');var n=To(e,t)|0;r=Yt(r,n);var s=r.write(e,t);return s!==n&&(r=r.slice(0,s)),r}function ks(r,e){var t=e.length<0?0:Is(e.length)|0;r=Yt(r,t);for(var n=0;n<t;n+=1)r[n]=e[n]&255;return r}function Eu(r,e,t,n){if(e.byteLength,t<0||e.byteLength<t)throw new RangeError("'offset' is out of bounds");if(e.byteLength<t+(n||0))throw new RangeError("'length' is out of bounds");return t===void 0&&n===void 0?e=new Uint8Array(e):n===void 0?e=new Uint8Array(e,t):e=new Uint8Array(e,t,n),ie.TYPED_ARRAY_SUPPORT?(r=e,r.__proto__=ie.prototype):r=ks(r,e),r}function Pu(r,e){if(Bt(e)){var t=Is(e.length)|0;return r=Yt(r,t),r.length===0||e.copy(r,0,0,t),r}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||Mu(e.length)?Yt(r,0):ks(r,e);if(e.type==="Buffer"&&xo(e.data))return ks(r,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Is(r){if(r>=Mn())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Mn().toString(16)+" bytes");return r|0}ie.isBuffer=zu;function Bt(r){return!!(r!=null&&r._isBuffer)}ie.compare=function(e,t){if(!Bt(e)||!Bt(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,s=t.length,i=0,o=Math.min(n,s);i<o;++i)if(e[i]!==t[i]){n=e[i],s=t[i];break}return n<s?-1:s<n?1:0};ie.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};ie.concat=function(e,t){if(!xo(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return ie.alloc(0);var n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var s=ie.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!Bt(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(s,i),i+=o.length}return s};function To(r,e){if(Bt(r))return r.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer))return r.byteLength;typeof r!="string"&&(r=""+r);var t=r.length;if(t===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":case void 0:return zn(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return Io(r).length;default:if(n)return zn(r).length;e=(""+e).toLowerCase(),n=!0}}ie.byteLength=To;function Su(r,e,t){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return Cu(this,e,t);case"utf8":case"utf-8":return Oo(this,e,t);case"ascii":return ju(this,e,t);case"latin1":case"binary":return Ru(this,e,t);case"base64":return Au(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Iu(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}ie.prototype._isBuffer=!0;function mr(r,e,t){var n=r[e];r[e]=r[t],r[t]=n}ie.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)mr(this,t,t+1);return this};ie.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)mr(this,t,t+3),mr(this,t+1,t+2);return this};ie.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)mr(this,t,t+7),mr(this,t+1,t+6),mr(this,t+2,t+5),mr(this,t+3,t+4);return this};ie.prototype.toString=function(){var e=this.length|0;return e===0?"":arguments.length===0?Oo(this,0,e):Su.apply(this,arguments)};ie.prototype.equals=function(e){if(!Bt(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:ie.compare(this,e)===0};ie.prototype.inspect=function(){var e="",t=wu;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"};ie.prototype.compare=function(e,t,n,s,i){if(!Bt(e))throw new TypeError("Argument must be a Buffer");if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),s===void 0&&(s=0),i===void 0&&(i=this.length),t<0||n>e.length||s<0||i>this.length)throw new RangeError("out of range index");if(s>=i&&t>=n)return 0;if(s>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,s>>>=0,i>>>=0,this===e)return 0;for(var o=i-s,a=n-t,u=Math.min(o,a),c=this.slice(s,i),d=e.slice(t,n),h=0;h<u;++h)if(c[h]!==d[h]){o=c[h],a=d[h];break}return o<a?-1:a<o?1:0};function Do(r,e,t,n,s){if(r.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,isNaN(t)&&(t=s?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(s)return-1;t=r.length-1}else if(t<0)if(s)t=0;else return-1;if(typeof e=="string"&&(e=ie.from(e,n)),Bt(e))return e.length===0?-1:Si(r,e,t,n,s);if(typeof e=="number")return e=e&255,ie.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?s?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):Si(r,[e],t,n,s);throw new TypeError("val must be string, number or Buffer")}function Si(r,e,t,n,s){var i=1,o=r.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||e.length<2)return-1;i=2,o/=2,a/=2,t/=2}function u(y,_){return i===1?y[_]:y.readUInt16BE(_*i)}var c;if(s){var d=-1;for(c=t;c<o;c++)if(u(r,c)===u(e,d===-1?0:c-d)){if(d===-1&&(d=c),c-d+1===a)return d*i}else d!==-1&&(c-=c-d),d=-1}else for(t+a>o&&(t=o-a),c=t;c>=0;c--){for(var h=!0,g=0;g<a;g++)if(u(r,c+g)!==u(e,g)){h=!1;break}if(h)return c}return-1}ie.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1};ie.prototype.indexOf=function(e,t,n){return Do(this,e,t,n,!0)};ie.prototype.lastIndexOf=function(e,t,n){return Do(this,e,t,n,!1)};function xu(r,e,t,n){t=Number(t)||0;var s=r.length-t;n?(n=Number(n),n>s&&(n=s)):n=s;var i=e.length;if(i%2!==0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var o=0;o<n;++o){var a=parseInt(e.substr(o*2,2),16);if(isNaN(a))return o;r[t+o]=a}return o}function ku(r,e,t,n){return as(zn(e,r.length-t),r,t,n)}function Ao(r,e,t,n){return as(qu(e),r,t,n)}function $u(r,e,t,n){return Ao(r,e,t,n)}function Tu(r,e,t,n){return as(Io(e),r,t,n)}function Du(r,e,t,n){return as(Uu(e,r.length-t),r,t,n)}ie.prototype.write=function(e,t,n,s){if(t===void 0)s="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")s=t,n=this.length,t=0;else if(isFinite(t))t=t|0,isFinite(n)?(n=n|0,s===void 0&&(s="utf8")):(s=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i=this.length-t;if((n===void 0||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");s||(s="utf8");for(var o=!1;;)switch(s){case"hex":return xu(this,e,t,n);case"utf8":case"utf-8":return ku(this,e,t,n);case"ascii":return Ao(this,e,t,n);case"latin1":case"binary":return $u(this,e,t,n);case"base64":return Tu(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Du(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),o=!0}};ie.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Au(r,e,t){return e===0&&t===r.length?Pi(r):Pi(r.slice(e,t))}function Oo(r,e,t){t=Math.min(r.length,t);for(var n=[],s=e;s<t;){var i=r[s],o=null,a=i>239?4:i>223?3:i>191?2:1;if(s+a<=t){var u,c,d,h;switch(a){case 1:i<128&&(o=i);break;case 2:u=r[s+1],(u&192)===128&&(h=(i&31)<<6|u&63,h>127&&(o=h));break;case 3:u=r[s+1],c=r[s+2],(u&192)===128&&(c&192)===128&&(h=(i&15)<<12|(u&63)<<6|c&63,h>2047&&(h<55296||h>57343)&&(o=h));break;case 4:u=r[s+1],c=r[s+2],d=r[s+3],(u&192)===128&&(c&192)===128&&(d&192)===128&&(h=(i&15)<<18|(u&63)<<12|(c&63)<<6|d&63,h>65535&&h<1114112&&(o=h))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),s+=a}return Ou(n)}var xi=4096;function Ou(r){var e=r.length;if(e<=xi)return String.fromCharCode.apply(String,r);for(var t="",n=0;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=xi));return t}function ju(r,e,t){var n="";t=Math.min(r.length,t);for(var s=e;s<t;++s)n+=String.fromCharCode(r[s]&127);return n}function Ru(r,e,t){var n="";t=Math.min(r.length,t);for(var s=e;s<t;++s)n+=String.fromCharCode(r[s]);return n}function Cu(r,e,t){var n=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);for(var s="",i=e;i<t;++i)s+=Fu(r[i]);return s}function Iu(r,e,t){for(var n=r.slice(e,t),s="",i=0;i<n.length;i+=2)s+=String.fromCharCode(n[i]+n[i+1]*256);return s}ie.prototype.slice=function(e,t){var n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var s;if(ie.TYPED_ARRAY_SUPPORT)s=this.subarray(e,t),s.__proto__=ie.prototype;else{var i=t-e;s=new ie(i,void 0);for(var o=0;o<i;++o)s[o]=this[o+e]}return s};function tt(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}ie.prototype.readUIntLE=function(e,t,n){e=e|0,t=t|0,n||tt(e,t,this.length);for(var s=this[e],i=1,o=0;++o<t&&(i*=256);)s+=this[e+o]*i;return s};ie.prototype.readUIntBE=function(e,t,n){e=e|0,t=t|0,n||tt(e,t,this.length);for(var s=this[e+--t],i=1;t>0&&(i*=256);)s+=this[e+--t]*i;return s};ie.prototype.readUInt8=function(e,t){return t||tt(e,1,this.length),this[e]};ie.prototype.readUInt16LE=function(e,t){return t||tt(e,2,this.length),this[e]|this[e+1]<<8};ie.prototype.readUInt16BE=function(e,t){return t||tt(e,2,this.length),this[e]<<8|this[e+1]};ie.prototype.readUInt32LE=function(e,t){return t||tt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};ie.prototype.readUInt32BE=function(e,t){return t||tt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};ie.prototype.readIntLE=function(e,t,n){e=e|0,t=t|0,n||tt(e,t,this.length);for(var s=this[e],i=1,o=0;++o<t&&(i*=256);)s+=this[e+o]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s};ie.prototype.readIntBE=function(e,t,n){e=e|0,t=t|0,n||tt(e,t,this.length);for(var s=t,i=1,o=this[e+--s];s>0&&(i*=256);)o+=this[e+--s]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o};ie.prototype.readInt8=function(e,t){return t||tt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};ie.prototype.readInt16LE=function(e,t){t||tt(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};ie.prototype.readInt16BE=function(e,t){t||tt(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};ie.prototype.readInt32LE=function(e,t){return t||tt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};ie.prototype.readInt32BE=function(e,t){return t||tt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};ie.prototype.readFloatLE=function(e,t){return t||tt(e,4,this.length),ss(this,e,!0,23,4)};ie.prototype.readFloatBE=function(e,t){return t||tt(e,4,this.length),ss(this,e,!1,23,4)};ie.prototype.readDoubleLE=function(e,t){return t||tt(e,8,this.length),ss(this,e,!0,52,8)};ie.prototype.readDoubleBE=function(e,t){return t||tt(e,8,this.length),ss(this,e,!1,52,8)};function mt(r,e,t,n,s,i){if(!Bt(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>s||e<i)throw new RangeError('"value" argument is out of bounds');if(t+n>r.length)throw new RangeError("Index out of range")}ie.prototype.writeUIntLE=function(e,t,n,s){if(e=+e,t=t|0,n=n|0,!s){var i=Math.pow(2,8*n)-1;mt(this,e,t,n,i,0)}var o=1,a=0;for(this[t]=e&255;++a<n&&(o*=256);)this[t+a]=e/o&255;return t+n};ie.prototype.writeUIntBE=function(e,t,n,s){if(e=+e,t=t|0,n=n|0,!s){var i=Math.pow(2,8*n)-1;mt(this,e,t,n,i,0)}var o=n-1,a=1;for(this[t+o]=e&255;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+n};ie.prototype.writeUInt8=function(e,t,n){return e=+e,t=t|0,n||mt(this,e,t,1,255,0),ie.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=e&255,t+1};function is(r,e,t,n){e<0&&(e=65535+e+1);for(var s=0,i=Math.min(r.length-t,2);s<i;++s)r[t+s]=(e&255<<8*(n?s:1-s))>>>(n?s:1-s)*8}ie.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=t|0,n||mt(this,e,t,2,65535,0),ie.TYPED_ARRAY_SUPPORT?(this[t]=e&255,this[t+1]=e>>>8):is(this,e,t,!0),t+2};ie.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=t|0,n||mt(this,e,t,2,65535,0),ie.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e&255):is(this,e,t,!1),t+2};function os(r,e,t,n){e<0&&(e=4294967295+e+1);for(var s=0,i=Math.min(r.length-t,4);s<i;++s)r[t+s]=e>>>(n?s:3-s)*8&255}ie.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=t|0,n||mt(this,e,t,4,4294967295,0),ie.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255):os(this,e,t,!0),t+4};ie.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=t|0,n||mt(this,e,t,4,4294967295,0),ie.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255):os(this,e,t,!1),t+4};ie.prototype.writeIntLE=function(e,t,n,s){if(e=+e,t=t|0,!s){var i=Math.pow(2,8*n-1);mt(this,e,t,n,i-1,-i)}var o=0,a=1,u=0;for(this[t]=e&255;++o<n&&(a*=256);)e<0&&u===0&&this[t+o-1]!==0&&(u=1),this[t+o]=(e/a>>0)-u&255;return t+n};ie.prototype.writeIntBE=function(e,t,n,s){if(e=+e,t=t|0,!s){var i=Math.pow(2,8*n-1);mt(this,e,t,n,i-1,-i)}var o=n-1,a=1,u=0;for(this[t+o]=e&255;--o>=0&&(a*=256);)e<0&&u===0&&this[t+o+1]!==0&&(u=1),this[t+o]=(e/a>>0)-u&255;return t+n};ie.prototype.writeInt8=function(e,t,n){return e=+e,t=t|0,n||mt(this,e,t,1,127,-128),ie.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=e&255,t+1};ie.prototype.writeInt16LE=function(e,t,n){return e=+e,t=t|0,n||mt(this,e,t,2,32767,-32768),ie.TYPED_ARRAY_SUPPORT?(this[t]=e&255,this[t+1]=e>>>8):is(this,e,t,!0),t+2};ie.prototype.writeInt16BE=function(e,t,n){return e=+e,t=t|0,n||mt(this,e,t,2,32767,-32768),ie.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e&255):is(this,e,t,!1),t+2};ie.prototype.writeInt32LE=function(e,t,n){return e=+e,t=t|0,n||mt(this,e,t,4,2147483647,-2147483648),ie.TYPED_ARRAY_SUPPORT?(this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):os(this,e,t,!0),t+4};ie.prototype.writeInt32BE=function(e,t,n){return e=+e,t=t|0,n||mt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),ie.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255):os(this,e,t,!1),t+4};function jo(r,e,t,n,s,i){if(t+n>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function Ro(r,e,t,n,s){return s||jo(r,e,t,4),So(r,e,t,n,23,4),t+4}ie.prototype.writeFloatLE=function(e,t,n){return Ro(this,e,t,!0,n)};ie.prototype.writeFloatBE=function(e,t,n){return Ro(this,e,t,!1,n)};function Co(r,e,t,n,s){return s||jo(r,e,t,8),So(r,e,t,n,52,8),t+8}ie.prototype.writeDoubleLE=function(e,t,n){return Co(this,e,t,!0,n)};ie.prototype.writeDoubleBE=function(e,t,n){return Co(this,e,t,!1,n)};ie.prototype.copy=function(e,t,n,s){if(n||(n=0),!s&&s!==0&&(s=this.length),t>=e.length&&(t=e.length),t||(t=0),s>0&&s<n&&(s=n),s===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(s<0)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),e.length-t<s-n&&(s=e.length-t+n);var i=s-n,o;if(this===e&&n<t&&t<s)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!ie.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i};ie.prototype.fill=function(e,t,n,s){if(typeof e=="string"){if(typeof t=="string"?(s=t,t=0,n=this.length):typeof n=="string"&&(s=n,n=this.length),e.length===1){var i=e.charCodeAt(0);i<256&&(e=i)}if(s!==void 0&&typeof s!="string")throw new TypeError("encoding must be a string");if(typeof s=="string"&&!ie.isEncoding(s))throw new TypeError("Unknown encoding: "+s)}else typeof e=="number"&&(e=e&255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var o;if(typeof e=="number")for(o=t;o<n;++o)this[o]=e;else{var a=Bt(e)?e:zn(new ie(e,s).toString()),u=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%u]}return this};var Nu=/[^+\/0-9A-Za-z-_]/g;function Lu(r){if(r=Bu(r).replace(Nu,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function Bu(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function Fu(r){return r<16?"0"+r.toString(16):r.toString(16)}function zn(r,e){e=e||1/0;for(var t,n=r.length,s=null,i=[],o=0;o<n;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!s){if(t>56319){(e-=3)>-1&&i.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&i.push(239,191,189);continue}s=t;continue}if(t<56320){(e-=3)>-1&&i.push(239,191,189),s=t;continue}t=(s-55296<<10|t-56320)+65536}else s&&(e-=3)>-1&&i.push(239,191,189);if(s=null,t<128){if((e-=1)<0)break;i.push(t)}else if(t<2048){if((e-=2)<0)break;i.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;i.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;i.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return i}function qu(r){for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function Uu(r,e){for(var t,n,s,i=[],o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),n=t>>8,s=t%256,i.push(s),i.push(n);return i}function Io(r){return pu(Lu(r))}function as(r,e,t,n){for(var s=0;s<n&&!(s+t>=e.length||s>=r.length);++s)e[s+t]=r[s];return s}function Mu(r){return r!==r}function zu(r){return r!=null&&(!!r._isBuffer||No(r)||Wu(r))}function No(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function Wu(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&No(r.slice(0,0))}var nr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ns(r,e,t){return t={path:e,exports:{},require:function(n,s){return Jt(n,s??t.path)}},r(t,t.exports),t.exports}function Lo(r){if(r.__esModule)return r;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(r).forEach(function(t){var n=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:function(){return r[t]}})}),e}function Jt(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}function Bo(r,e){for(var t=0,n=r.length-1;n>=0;n--){var s=r[n];s==="."?r.splice(n,1):s===".."?(r.splice(n,1),t++):t&&(r.splice(n,1),t--)}if(e)for(;t--;t)r.unshift("..");return r}var Hu=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,Ls=function(r){return Hu.exec(r).slice(1)};function Wn(){for(var r="",e=!1,t=arguments.length-1;t>=-1&&!e;t--){var n=t>=0?arguments[t]:"/";if(typeof n!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!n)continue;r=n+"/"+r,e=n.charAt(0)==="/"}return r=Bo(qs(r.split("/"),function(s){return!!s}),!e).join("/"),(e?"/":"")+r||"."}function Bs(r){var e=Fs(r),t=Vu(r,-1)==="/";return r=Bo(qs(r.split("/"),function(n){return!!n}),!e).join("/"),!r&&!e&&(r="."),r&&t&&(r+="/"),(e?"/":"")+r}function Fs(r){return r.charAt(0)==="/"}function Fo(){var r=Array.prototype.slice.call(arguments,0);return Bs(qs(r,function(e,t){if(typeof e!="string")throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))}function qo(r,e){r=Wn(r).substr(1),e=Wn(e).substr(1);function t(c){for(var d=0;d<c.length&&c[d]==="";d++);for(var h=c.length-1;h>=0&&c[h]==="";h--);return d>h?[]:c.slice(d,h-d+1)}for(var n=t(r.split("/")),s=t(e.split("/")),i=Math.min(n.length,s.length),o=i,a=0;a<i;a++)if(n[a]!==s[a]){o=a;break}for(var u=[],a=o;a<n.length;a++)u.push("..");return u=u.concat(s.slice(o)),u.join("/")}var Uo="/",Mo=":";function zo(r){var e=Ls(r),t=e[0],n=e[1];return!t&&!n?".":(n&&(n=n.substr(0,n.length-1)),t+n)}function Wo(r,e){var t=Ls(r)[2];return e&&t.substr(-1*e.length)===e&&(t=t.substr(0,t.length-e.length)),t}function Ho(r){return Ls(r)[3]}const Gu={extname:Ho,basename:Wo,dirname:zo,sep:Uo,delimiter:Mo,relative:qo,join:Fo,isAbsolute:Fs,normalize:Bs,resolve:Wn};function qs(r,e){if(r.filter)return r.filter(e);for(var t=[],n=0;n<r.length;n++)e(r[n],n,r)&&t.push(r[n]);return t}var Vu="ab".substr(-1)==="b"?function(r,e,t){return r.substr(e,t)}:function(r,e,t){return e<0&&(e=r.length+e),r.substr(e,t)};const Ku=Object.freeze({__proto__:null,resolve:Wn,normalize:Bs,isAbsolute:Fs,join:Fo,relative:qo,sep:Uo,delimiter:Mo,dirname:zo,basename:Wo,extname:Ho,default:Gu}),Yu={},Ju=Object.freeze({__proto__:null,default:Yu}),ki=Lo(Ku),$i=Lo(Ju);var Zu=Ns(function(r,e){var t=void 0,n=function(s){return t||(t=new Promise(function(i,o){var a=typeof s<"u"?s:{},u=a.onAbort;a.onAbort=function(l){o(new Error(l)),u&&u(l)},a.postRun=a.postRun||[],a.postRun.push(function(){i(a)}),r=void 0;var c;c||(c=typeof a<"u"?a:{}),c.onRuntimeInitialized=function(){function l(z,le){switch(typeof le){case"boolean":Na(z,le?1:0);break;case"number":Ra(z,le);break;case"string":Ca(z,le,-1,-1);break;case"object":if(le===null)Xs(z);else if(le.length!=null){var Se=Yr(le);Ia(z,Se,le.length,-1),Pn(Se)}else xn(z,"Wrong API use : tried to return a value of an unknown type ("+le+").",-1);break;default:Xs(z)}}function f(z,le){for(var Se=[],$e=0;$e<z;$e+=1){var je=ne(le+4*$e,"i32"),Me=Ta(je);if(Me===1||Me===2)je=ja(je);else if(Me===3)je=Aa(je);else if(Me===4){Me=je,je=Da(Me),Me=Oa(Me);for(var Ct=new Uint8Array(je),yt=0;yt<je;yt+=1)Ct[yt]=Q[Me+yt];je=Ct}else je=null;Se.push(je)}return Se}function p(z,le){this.La=z,this.db=le,this.Ja=1,this.fb=[]}function x(z,le){if(this.db=le,le=Z(z)+1,this.Ya=fr(le),this.Ya===null)throw Error("Unable to allocate memory for the SQL string");v(z,xe,this.Ya,le),this.eb=this.Ya,this.Ua=this.ib=null}function O(z){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),z!=null){var le=this.filename,Se="/",$e=le;if(Se&&(Se=typeof Se=="string"?Se:ar(Se),$e=le?ve(Se+"/"+le):Se),le=Tr(!0,!0),$e=Sr($e,(le!==void 0?le:438)&4095|32768,0),z){if(typeof z=="string"){Se=Array(z.length);for(var je=0,Me=z.length;je<Me;++je)Se[je]=z.charCodeAt(je);z=Se}kr($e,le|146),Se=wt($e,577),lr(Se,z,0,z.length,0),$r(Se),kr($e,le)}}this.handleError(Te(this.filename,J)),this.db=ne(J,"i32"),La(this.db),this.Za={},this.Na={}}var J=Qt(4),re=c.cwrap,Te=re("sqlite3_open","number",["string","number"]),qe=re("sqlite3_close_v2","number",["number"]),Ie=re("sqlite3_exec","number",["number","string","number","number","number"]),Qe=re("sqlite3_changes","number",["number"]),Wt=re("sqlite3_prepare_v2","number",["number","string","number","number","number"]),Ks=re("sqlite3_sql","string",["number"]),fa=re("sqlite3_normalized_sql","string",["number"]),Ys=re("sqlite3_prepare_v2","number",["number","number","number","number","number"]),ha=re("sqlite3_bind_text","number",["number","number","number","number","number"]),Js=re("sqlite3_bind_blob","number",["number","number","number","number","number"]),da=re("sqlite3_bind_double","number",["number","number","number"]),ma=re("sqlite3_bind_int","number",["number","number","number"]),pa=re("sqlite3_bind_parameter_index","number",["number","string"]),ya=re("sqlite3_step","number",["number"]),ga=re("sqlite3_errmsg","string",["number"]),va=re("sqlite3_column_count","number",["number"]),wa=re("sqlite3_data_count","number",["number"]),ba=re("sqlite3_column_double","number",["number","number"]),Zs=re("sqlite3_column_text","string",["number","number"]),_a=re("sqlite3_column_blob","number",["number","number"]),Ea=re("sqlite3_column_bytes","number",["number","number"]),Pa=re("sqlite3_column_type","number",["number","number"]),Sa=re("sqlite3_column_name","string",["number","number"]),xa=re("sqlite3_reset","number",["number"]),ka=re("sqlite3_clear_bindings","number",["number"]),$a=re("sqlite3_finalize","number",["number"]),Qs=re("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),Ta=re("sqlite3_value_type","number",["number"]),Da=re("sqlite3_value_bytes","number",["number"]),Aa=re("sqlite3_value_text","string",["number"]),Oa=re("sqlite3_value_blob","number",["number"]),ja=re("sqlite3_value_double","number",["number"]),Ra=re("sqlite3_result_double","",["number","number"]),Xs=re("sqlite3_result_null","",["number"]),Ca=re("sqlite3_result_text","",["number","string","number","number"]),Ia=re("sqlite3_result_blob","",["number","number","number","number"]),Na=re("sqlite3_result_int","",["number","number"]),xn=re("sqlite3_result_error","",["number","string","number"]),ei=re("sqlite3_aggregate_context","number",["number","number"]),La=re("RegisterExtensionFunctions","number",["number"]);p.prototype.bind=function(z){if(!this.La)throw"Statement closed";return this.reset(),Array.isArray(z)?this.xb(z):z!=null&&typeof z=="object"?this.yb(z):!0},p.prototype.step=function(){if(!this.La)throw"Statement closed";this.Ja=1;var z=ya(this.La);switch(z){case 100:return!0;case 101:return!1;default:throw this.db.handleError(z)}},p.prototype.sb=function(z){return z==null&&(z=this.Ja,this.Ja+=1),ba(this.La,z)},p.prototype.Cb=function(z){if(z==null&&(z=this.Ja,this.Ja+=1),z=Zs(this.La,z),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(z)},p.prototype.Db=function(z){return z==null&&(z=this.Ja,this.Ja+=1),Zs(this.La,z)},p.prototype.getBlob=function(z){z==null&&(z=this.Ja,this.Ja+=1);var le=Ea(this.La,z);z=_a(this.La,z);for(var Se=new Uint8Array(le),$e=0;$e<le;$e+=1)Se[$e]=Q[z+$e];return Se},p.prototype.get=function(z,le){le=le||{},z!=null&&this.bind(z)&&this.step(),z=[];for(var Se=wa(this.La),$e=0;$e<Se;$e+=1)switch(Pa(this.La,$e)){case 1:var je=le.useBigInt?this.Cb($e):this.sb($e);z.push(je);break;case 2:z.push(this.sb($e));break;case 3:z.push(this.Db($e));break;case 4:z.push(this.getBlob($e));break;default:z.push(null)}return z},p.prototype.getColumnNames=function(){for(var z=[],le=va(this.La),Se=0;Se<le;Se+=1)z.push(Sa(this.La,Se));return z},p.prototype.getAsObject=function(z,le){z=this.get(z,le),le=this.getColumnNames();for(var Se={},$e=0;$e<le.length;$e+=1)Se[le[$e]]=z[$e];return Se},p.prototype.getSQL=function(){return Ks(this.La)},p.prototype.getNormalizedSQL=function(){return fa(this.La)},p.prototype.run=function(z){return z!=null&&this.bind(z),this.step(),this.reset()},p.prototype.nb=function(z,le){le==null&&(le=this.Ja,this.Ja+=1),z=et(z);var Se=Yr(z);this.fb.push(Se),this.db.handleError(ha(this.La,le,Se,z.length-1,0))},p.prototype.wb=function(z,le){le==null&&(le=this.Ja,this.Ja+=1);var Se=Yr(z);this.fb.push(Se),this.db.handleError(Js(this.La,le,Se,z.length,0))},p.prototype.mb=function(z,le){le==null&&(le=this.Ja,this.Ja+=1),this.db.handleError((z===(z|0)?ma:da)(this.La,le,z))},p.prototype.zb=function(z){z==null&&(z=this.Ja,this.Ja+=1),Js(this.La,z,0,0,0)},p.prototype.ob=function(z,le){switch(le==null&&(le=this.Ja,this.Ja+=1),typeof z){case"string":this.nb(z,le);return;case"number":this.mb(z,le);return;case"bigint":this.nb(z.toString(),le);return;case"boolean":this.mb(z+0,le);return;case"object":if(z===null){this.zb(le);return}if(z.length!=null){this.wb(z,le);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+z+")."},p.prototype.yb=function(z){var le=this;return Object.keys(z).forEach(function(Se){var $e=pa(le.La,Se);$e!==0&&le.ob(z[Se],$e)}),!0},p.prototype.xb=function(z){for(var le=0;le<z.length;le+=1)this.ob(z[le],le+1);return!0},p.prototype.reset=function(){return this.freemem(),ka(this.La)===0&&xa(this.La)===0},p.prototype.freemem=function(){for(var z;(z=this.fb.pop())!==void 0;)Pn(z)},p.prototype.free=function(){this.freemem();var z=$a(this.La)===0;return delete this.db.Za[this.La],this.La=0,z},x.prototype.next=function(){if(this.Ya===null)return{done:!0};if(this.Ua!==null&&(this.Ua.free(),this.Ua=null),!this.db.db)throw this.gb(),Error("Database closed");var z=Zr(),le=Qt(4);H(J),H(le);try{this.db.handleError(Ys(this.db.db,this.eb,-1,J,le)),this.eb=ne(le,"i32");var Se=ne(J,"i32");return Se===0?(this.gb(),{done:!0}):(this.Ua=new p(Se,this.db),this.db.Za[Se]=this.Ua,{value:this.Ua,done:!1})}catch($e){throw this.ib=G(this.eb),this.gb(),$e}finally{Qr(z)}},x.prototype.gb=function(){Pn(this.Ya),this.Ya=null},x.prototype.getRemainingSQL=function(){return this.ib!==null?this.ib:G(this.eb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(x.prototype[Symbol.iterator]=function(){return this}),O.prototype.run=function(z,le){if(!this.db)throw"Database closed";if(le){z=this.prepare(z,le);try{z.step()}finally{z.free()}}else this.handleError(Ie(this.db,z,0,0,J));return this},O.prototype.exec=function(z,le,Se){if(!this.db)throw"Database closed";var $e=Zr(),je=null;try{var Me=Z(z)+1,Ct=Qt(Me);v(z,Q,Ct,Me);var yt=Ct,bt=Qt(4);for(z=[];ne(yt,"i8")!==0;){H(J),H(bt),this.handleError(Ys(this.db,yt,-1,J,bt));var _t=ne(J,"i32");if(yt=ne(bt,"i32"),_t!==0){for(Me=null,je=new p(_t,this),le!=null&&je.bind(le);je.step();)Me===null&&(Me={columns:je.getColumnNames(),values:[]},z.push(Me)),Me.values.push(je.get(null,Se));je.free()}}return z}catch(Xr){throw je&&je.free(),Xr}finally{Qr($e)}},O.prototype.each=function(z,le,Se,$e,je){typeof le=="function"&&($e=Se,Se=le,le=void 0),z=this.prepare(z,le);try{for(;z.step();)Se(z.getAsObject(null,je))}finally{z.free()}if(typeof $e=="function")return $e()},O.prototype.prepare=function(z,le){if(H(J),this.handleError(Wt(this.db,z,-1,J,0)),z=ne(J,"i32"),z===0)throw"Nothing to prepare";var Se=new p(z,this);return le!=null&&Se.bind(le),this.Za[z]=Se},O.prototype.iterateStatements=function(z){return new x(z,this)},O.prototype.export=function(){Object.values(this.Za).forEach(function(le){le.free()}),Object.values(this.Na).forEach(zt),this.Na={},this.handleError(qe(this.db));var z=Vr(this.filename);return this.handleError(Te(this.filename,J)),this.db=ne(J,"i32"),z},O.prototype.close=function(){this.db!==null&&(Object.values(this.Za).forEach(function(z){z.free()}),Object.values(this.Na).forEach(zt),this.Na={},this.handleError(qe(this.db)),yn("/"+this.filename),this.db=null)},O.prototype.handleError=function(z){if(z===0)return null;throw z=ga(this.db),Error(z)},O.prototype.getRowsModified=function(){return Qe(this.db)},O.prototype.create_function=function(z,le){Object.prototype.hasOwnProperty.call(this.Na,z)&&(zt(this.Na[z]),delete this.Na[z]);var Se=Mt(function($e,je,Me){je=f(je,Me);try{var Ct=le.apply(null,je)}catch(yt){xn($e,yt,-1);return}l($e,Ct)},"viii");return this.Na[z]=Se,this.handleError(Qs(this.db,z,le.length,1,0,Se,0,0,0)),this},O.prototype.create_aggregate=function(z,le){var Se=le.init||function(){return null},$e=le.finalize||function(bt){return bt},je=le.step;if(!je)throw"An aggregate function must have a step function in "+z;var Me={};Object.hasOwnProperty.call(this.Na,z)&&(zt(this.Na[z]),delete this.Na[z]),le=z+"__finalize",Object.hasOwnProperty.call(this.Na,le)&&(zt(this.Na[le]),delete this.Na[le]);var Ct=Mt(function(bt,_t,Xr){var hr=ei(bt,1);Object.hasOwnProperty.call(Me,hr)||(Me[hr]=Se()),_t=f(_t,Xr),_t=[Me[hr]].concat(_t);try{Me[hr]=je.apply(null,_t)}catch(Ba){delete Me[hr],xn(bt,Ba,-1)}},"viii"),yt=Mt(function(bt){var _t=ei(bt,1);try{var Xr=$e(Me[_t])}catch(hr){delete Me[_t],xn(bt,hr,-1);return}l(bt,Xr),delete Me[_t]},"vi");return this.Na[z]=Ct,this.Na[le]=yt,this.handleError(Qs(this.db,z,je.length-1,1,0,0,Ct,yt,0)),this},c.Database=O};var d=Object.assign({},c),h="./this.program",g=typeof window=="object",y=typeof importScripts=="function",_=typeof tr=="object"&&typeof tr.versions=="object"&&typeof tr.versions.node=="string",w="",S,E,$,R,N,D;_?(w=y?ki.dirname(w)+"/":du+"/",D=()=>{N||(R=$i,N=ki)},S=function(l,f){return D(),l=N.normalize(l),R.readFileSync(l,f?void 0:"utf8")},$=l=>(l=S(l,!0),l.buffer||(l=new Uint8Array(l)),l),E=(l,f,p)=>{D(),l=N.normalize(l),R.readFile(l,function(x,O){x?p(x):f(O.buffer)})},1<tr.argv.length&&(h=tr.argv[1].replace(/\\/g,"/")),r.exports=c,c.inspect=function(){return"[Emscripten Module object]"}):(g||y)&&(y?w=self.location.href:typeof document<"u"&&document.currentScript&&(w=document.currentScript.src),w=w.indexOf("blob:")!==0?w.substr(0,w.replace(/[?#].*/,"").lastIndexOf("/")+1):"",S=l=>{var f=new XMLHttpRequest;return f.open("GET",l,!1),f.send(null),f.responseText},y&&($=l=>{var f=new XMLHttpRequest;return f.open("GET",l,!1),f.responseType="arraybuffer",f.send(null),new Uint8Array(f.response)}),E=(l,f,p)=>{var x=new XMLHttpRequest;x.open("GET",l,!0),x.responseType="arraybuffer",x.onload=()=>{x.status==200||x.status==0&&x.response?f(x.response):p()},x.onerror=p,x.send(null)});var V=c.print||console.log.bind(console),B=c.printErr||console.warn.bind(console);Object.assign(c,d),d=null,c.thisProgram&&(h=c.thisProgram);var K;c.wasmBinary&&(K=c.wasmBinary),c.noExitRuntime,typeof WebAssembly!="object"&&Ze("no native wasm support detected");var q,W=!1,ce=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function T(l,f,p){var x=f+p;for(p=f;l[p]&&!(p>=x);)++p;if(16<p-f&&l.buffer&&ce)return ce.decode(l.subarray(f,p));for(x="";f<p;){var O=l[f++];if(O&128){var J=l[f++]&63;if((O&224)==192)x+=String.fromCharCode((O&31)<<6|J);else{var re=l[f++]&63;O=(O&240)==224?(O&15)<<12|J<<6|re:(O&7)<<18|J<<12|re<<6|l[f++]&63,65536>O?x+=String.fromCharCode(O):(O-=65536,x+=String.fromCharCode(55296|O>>10,56320|O&1023))}}else x+=String.fromCharCode(O)}return x}function G(l,f){return l?T(xe,l,f):""}function v(l,f,p,x){if(!(0<x))return 0;var O=p;x=p+x-1;for(var J=0;J<l.length;++J){var re=l.charCodeAt(J);if(55296<=re&&57343>=re){var Te=l.charCodeAt(++J);re=65536+((re&1023)<<10)|Te&1023}if(127>=re){if(p>=x)break;f[p++]=re}else{if(2047>=re){if(p+1>=x)break;f[p++]=192|re>>6}else{if(65535>=re){if(p+2>=x)break;f[p++]=224|re>>12}else{if(p+3>=x)break;f[p++]=240|re>>18,f[p++]=128|re>>12&63}f[p++]=128|re>>6&63}f[p++]=128|re&63}}return f[p]=0,p-O}function Z(l){for(var f=0,p=0;p<l.length;++p){var x=l.charCodeAt(p);127>=x?f++:2047>=x?f+=2:55296<=x&&57343>=x?(f+=4,++p):f+=3}return f}var Ee,Q,xe,fe,oe,F,M,be;function ge(){var l=q.buffer;Ee=l,c.HEAP8=Q=new Int8Array(l),c.HEAP16=fe=new Int16Array(l),c.HEAP32=oe=new Int32Array(l),c.HEAPU8=xe=new Uint8Array(l),c.HEAPU16=new Uint16Array(l),c.HEAPU32=F=new Uint32Array(l),c.HEAPF32=M=new Float32Array(l),c.HEAPF64=be=new Float64Array(l)}var ue,Be=[],Ge=[],Oe=[];function Re(){var l=c.preRun.shift();Be.unshift(l)}var He=0,We=null;function Ze(l){throw c.onAbort&&c.onAbort(l),l="Aborted("+l+")",B(l),W=!0,new WebAssembly.RuntimeError(l+". Build with -sASSERTIONS for more info.")}function rt(){return m.startsWith("data:application/octet-stream;base64,")}var m;if(m="sql-wasm.wasm",!rt()){var X=m;m=c.locateFile?c.locateFile(X,w):w+X}function Y(){var l=m;try{if(l==m&&K)return new Uint8Array(K);if($)return $(l);throw"both async and sync fetching of the wasm failed"}catch(f){Ze(f)}}function A(){if(!K&&(g||y)){if(typeof fetch=="function"&&!m.startsWith("file://"))return fetch(m,{credentials:"same-origin"}).then(function(l){if(!l.ok)throw"failed to load wasm binary file at '"+m+"'";return l.arrayBuffer()}).catch(function(){return Y()});if(E)return new Promise(function(l,f){E(m,function(p){l(new Uint8Array(p))},f)})}return Promise.resolve().then(function(){return Y()})}var P,C;function se(l){for(;0<l.length;)l.shift()(c)}function ne(l,f="i8"){switch(f.endsWith("*")&&(f="*"),f){case"i1":return Q[l>>0];case"i8":return Q[l>>0];case"i16":return fe[l>>1];case"i32":return oe[l>>2];case"i64":return oe[l>>2];case"float":return M[l>>2];case"double":return be[l>>3];case"*":return F[l>>2];default:Ze("invalid type for getValue: "+f)}return null}function H(l){var f="i32";switch(f.endsWith("*")&&(f="*"),f){case"i1":Q[l>>0]=0;break;case"i8":Q[l>>0]=0;break;case"i16":fe[l>>1]=0;break;case"i32":oe[l>>2]=0;break;case"i64":C=[0,(P=0,1<=+Math.abs(P)?0<P?(Math.min(+Math.floor(P/4294967296),4294967295)|0)>>>0:~~+Math.ceil((P-+(~~P>>>0))/4294967296)>>>0:0)],oe[l>>2]=C[0],oe[l+4>>2]=C[1];break;case"float":M[l>>2]=0;break;case"double":be[l>>3]=0;break;case"*":F[l>>2]=0;break;default:Ze("invalid type for setValue: "+f)}}var de=(l,f)=>{for(var p=0,x=l.length-1;0<=x;x--){var O=l[x];O==="."?l.splice(x,1):O===".."?(l.splice(x,1),p++):p&&(l.splice(x,1),p--)}if(f)for(;p;p--)l.unshift("..");return l},ve=l=>{var f=l.charAt(0)==="/",p=l.substr(-1)==="/";return(l=de(l.split("/").filter(x=>!!x),!f).join("/"))||f||(l="."),l&&p&&(l+="/"),(f?"/":"")+l},pe=l=>{var f=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(l).slice(1);return l=f[0],f=f[1],!l&&!f?".":(f&&(f=f.substr(0,f.length-1)),l+f)},Pe=l=>{if(l==="/")return"/";l=ve(l),l=l.replace(/\/$/,"");var f=l.lastIndexOf("/");return f===-1?l:l.substr(f+1)};function Fe(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var l=new Uint8Array(1);return()=>(crypto.getRandomValues(l),l[0])}if(_)try{var f=$i;return()=>f.randomBytes(1)[0]}catch{}return()=>Ze("randomDevice")}function De(){for(var l="",f=!1,p=arguments.length-1;-1<=p&&!f;p--){if(f=0<=p?arguments[p]:"/",typeof f!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!f)return"";l=f+"/"+l,f=f.charAt(0)==="/"}return l=de(l.split("/").filter(x=>!!x),!f).join("/"),(f?"/":"")+l||"."}function et(l,f){var p=Array(Z(l)+1);return l=v(l,p,0,p.length),f&&(p.length=l),p}var xt=[];function nt(l,f){xt[l]={input:[],output:[],Xa:f},Wr(l,jt)}var jt={open:function(l){var f=xt[l.node.rdev];if(!f)throw new te(43);l.tty=f,l.seekable=!1},close:function(l){l.tty.Xa.fsync(l.tty)},fsync:function(l){l.tty.Xa.fsync(l.tty)},read:function(l,f,p,x){if(!l.tty||!l.tty.Xa.tb)throw new te(60);for(var O=0,J=0;J<x;J++){try{var re=l.tty.Xa.tb(l.tty)}catch{throw new te(29)}if(re===void 0&&O===0)throw new te(6);if(re==null)break;O++,f[p+J]=re}return O&&(l.node.timestamp=Date.now()),O},write:function(l,f,p,x){if(!l.tty||!l.tty.Xa.jb)throw new te(60);try{for(var O=0;O<x;O++)l.tty.Xa.jb(l.tty,f[p+O])}catch{throw new te(29)}return x&&(l.node.timestamp=Date.now()),O}},Ve={tb:function(l){if(!l.input.length){var f=null;if(_){var p=ie.alloc(256),x=0;try{x=R.readSync(tr.stdin.fd,p,0,256,-1)}catch(O){if(O.toString().includes("EOF"))x=0;else throw O}0<x?f=p.slice(0,x).toString("utf-8"):f=null}else typeof window<"u"&&typeof window.prompt=="function"?(f=window.prompt("Input: "),f!==null&&(f+=`
`)):typeof readline=="function"&&(f=readline(),f!==null&&(f+=`
`));if(!f)return null;l.input=et(f,!0)}return l.input.shift()},jb:function(l,f){f===null||f===10?(V(T(l.output,0)),l.output=[]):f!=0&&l.output.push(f)},fsync:function(l){l.output&&0<l.output.length&&(V(T(l.output,0)),l.output=[])}},Rt={jb:function(l,f){f===null||f===10?(B(T(l.output,0)),l.output=[]):f!=0&&l.output.push(f)},fsync:function(l){l.output&&0<l.output.length&&(B(T(l.output,0)),l.output=[])}},ke={Qa:null,Ra:function(){return ke.createNode(null,"/",16895,0)},createNode:function(l,f,p,x){if((p&61440)===24576||(p&61440)===4096)throw new te(63);return ke.Qa||(ke.Qa={dir:{node:{Pa:ke.Ga.Pa,Oa:ke.Ga.Oa,lookup:ke.Ga.lookup,ab:ke.Ga.ab,rename:ke.Ga.rename,unlink:ke.Ga.unlink,rmdir:ke.Ga.rmdir,readdir:ke.Ga.readdir,symlink:ke.Ga.symlink},stream:{Ta:ke.Ha.Ta}},file:{node:{Pa:ke.Ga.Pa,Oa:ke.Ga.Oa},stream:{Ta:ke.Ha.Ta,read:ke.Ha.read,write:ke.Ha.write,lb:ke.Ha.lb,bb:ke.Ha.bb,cb:ke.Ha.cb}},link:{node:{Pa:ke.Ga.Pa,Oa:ke.Ga.Oa,readlink:ke.Ga.readlink},stream:{}},pb:{node:{Pa:ke.Ga.Pa,Oa:ke.Ga.Oa},stream:hs}}),p=un(l,f,p,x),(p.mode&61440)===16384?(p.Ga=ke.Qa.dir.node,p.Ha=ke.Qa.dir.stream,p.Ia={}):(p.mode&61440)===32768?(p.Ga=ke.Qa.file.node,p.Ha=ke.Qa.file.stream,p.Ma=0,p.Ia=null):(p.mode&61440)===40960?(p.Ga=ke.Qa.link.node,p.Ha=ke.Qa.link.stream):(p.mode&61440)===8192&&(p.Ga=ke.Qa.pb.node,p.Ha=ke.Qa.pb.stream),p.timestamp=Date.now(),l&&(l.Ia[f]=p,l.timestamp=p.timestamp),p},Jb:function(l){return l.Ia?l.Ia.subarray?l.Ia.subarray(0,l.Ma):new Uint8Array(l.Ia):new Uint8Array(0)},qb:function(l,f){var p=l.Ia?l.Ia.length:0;p>=f||(f=Math.max(f,p*(1048576>p?2:1.125)>>>0),p!=0&&(f=Math.max(f,256)),p=l.Ia,l.Ia=new Uint8Array(f),0<l.Ma&&l.Ia.set(p.subarray(0,l.Ma),0))},Gb:function(l,f){if(l.Ma!=f)if(f==0)l.Ia=null,l.Ma=0;else{var p=l.Ia;l.Ia=new Uint8Array(f),p&&l.Ia.set(p.subarray(0,Math.min(f,l.Ma))),l.Ma=f}},Ga:{Pa:function(l){var f={};return f.dev=(l.mode&61440)===8192?l.id:1,f.ino=l.id,f.mode=l.mode,f.nlink=1,f.uid=0,f.gid=0,f.rdev=l.rdev,(l.mode&61440)===16384?f.size=4096:(l.mode&61440)===32768?f.size=l.Ma:(l.mode&61440)===40960?f.size=l.link.length:f.size=0,f.atime=new Date(l.timestamp),f.mtime=new Date(l.timestamp),f.ctime=new Date(l.timestamp),f.Ab=4096,f.blocks=Math.ceil(f.size/f.Ab),f},Oa:function(l,f){f.mode!==void 0&&(l.mode=f.mode),f.timestamp!==void 0&&(l.timestamp=f.timestamp),f.size!==void 0&&ke.Gb(l,f.size)},lookup:function(){throw kt[44]},ab:function(l,f,p,x){return ke.createNode(l,f,p,x)},rename:function(l,f,p){if((l.mode&61440)===16384){try{var x=qt(f,p)}catch{}if(x)for(var O in x.Ia)throw new te(55)}delete l.parent.Ia[l.name],l.parent.timestamp=Date.now(),l.name=p,f.Ia[p]=l,f.timestamp=l.parent.timestamp,l.parent=f},unlink:function(l,f){delete l.Ia[f],l.timestamp=Date.now()},rmdir:function(l,f){var p=qt(l,f),x;for(x in p.Ia)throw new te(55);delete l.Ia[f],l.timestamp=Date.now()},readdir:function(l){var f=[".",".."],p;for(p in l.Ia)l.Ia.hasOwnProperty(p)&&f.push(p);return f},symlink:function(l,f,p){return l=ke.createNode(l,f,41471,0),l.link=p,l},readlink:function(l){if((l.mode&61440)!==40960)throw new te(28);return l.link}},Ha:{read:function(l,f,p,x,O){var J=l.node.Ia;if(O>=l.node.Ma)return 0;if(l=Math.min(l.node.Ma-O,x),8<l&&J.subarray)f.set(J.subarray(O,O+l),p);else for(x=0;x<l;x++)f[p+x]=J[O+x];return l},write:function(l,f,p,x,O,J){if(f.buffer===Q.buffer&&(J=!1),!x)return 0;if(l=l.node,l.timestamp=Date.now(),f.subarray&&(!l.Ia||l.Ia.subarray)){if(J)return l.Ia=f.subarray(p,p+x),l.Ma=x;if(l.Ma===0&&O===0)return l.Ia=f.slice(p,p+x),l.Ma=x;if(O+x<=l.Ma)return l.Ia.set(f.subarray(p,p+x),O),x}if(ke.qb(l,O+x),l.Ia.subarray&&f.subarray)l.Ia.set(f.subarray(p,p+x),O);else for(J=0;J<x;J++)l.Ia[O+J]=f[p+J];return l.Ma=Math.max(l.Ma,O+x),x},Ta:function(l,f,p){if(p===1?f+=l.position:p===2&&(l.node.mode&61440)===32768&&(f+=l.node.Ma),0>f)throw new te(28);return f},lb:function(l,f,p){ke.qb(l.node,f+p),l.node.Ma=Math.max(l.node.Ma,f+p)},bb:function(l,f,p,x,O){if((l.node.mode&61440)!==32768)throw new te(43);if(l=l.node.Ia,O&2||l.buffer!==Ee){if((0<p||p+f<l.length)&&(l.subarray?l=l.subarray(p,p+f):l=Array.prototype.slice.call(l,p,p+f)),p=!0,f=65536*Math.ceil(f/65536),(O=Gs(65536,f))?(xe.fill(0,O,O+f),f=O):f=0,!f)throw new te(48);Q.set(l,f)}else p=!1,f=l.byteOffset;return{Fb:f,vb:p}},cb:function(l,f,p,x,O){if((l.node.mode&61440)!==32768)throw new te(43);return O&2||ke.Ha.write(l,f,0,x,p,!1),0}}},ut=null,Ft={},pt=[],Ur=1,Xe=null,or=!0,te=null,kt={},st=(l,f={})=>{if(l=De("/",l),!l)return{path:"",node:null};if(f=Object.assign({rb:!0,kb:0},f),8<f.kb)throw new te(32);l=de(l.split("/").filter(re=>!!re),!1);for(var p=ut,x="/",O=0;O<l.length;O++){var J=O===l.length-1;if(J&&f.parent)break;if(p=qt(p,l[O]),x=ve(x+"/"+l[O]),p.Va&&(!J||J&&f.rb)&&(p=p.Va.root),!J||f.Sa){for(J=0;(p.mode&61440)===40960;)if(p=gn(x),x=De(pe(x),p),p=st(x,{kb:f.kb+1}).node,40<J++)throw new te(32)}}return{path:x,node:p}},ar=l=>{for(var f;;){if(l===l.parent)return l=l.Ra.ub,f?l[l.length-1]!=="/"?l+"/"+f:l+f:l;f=f?l.name+"/"+f:l.name,l=l.parent}},Mr=(l,f)=>{for(var p=0,x=0;x<f.length;x++)p=(p<<5)-p+f.charCodeAt(x)|0;return(l+p>>>0)%Xe.length},ln=l=>{var f=Mr(l.parent.id,l.name);if(Xe[f]===l)Xe[f]=l.Wa;else for(f=Xe[f];f;){if(f.Wa===l){f.Wa=l.Wa;break}f=f.Wa}},qt=(l,f)=>{var p;if(p=(p=Zt(l,"x"))?p:l.Ga.lookup?0:2)throw new te(p,l);for(p=Xe[Mr(l.id,f)];p;p=p.Wa){var x=p.name;if(p.parent.id===l.id&&x===f)return p}return l.Ga.lookup(l,f)},un=(l,f,p,x)=>(l=new ds(l,f,p,x),f=Mr(l.parent.id,l.name),l.Wa=Xe[f],Xe[f]=l),us={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},fn=l=>{var f=["r","w","rw"][l&3];return l&512&&(f+="w"),f},Zt=(l,f)=>{if(or)return 0;if(!f.includes("r")||l.mode&292){if(f.includes("w")&&!(l.mode&146)||f.includes("x")&&!(l.mode&73))return 2}else return 2;return 0},hn=(l,f)=>{try{return qt(l,f),20}catch{}return Zt(l,"wx")},zr=(l,f,p)=>{try{var x=qt(l,f)}catch(O){return O.Ka}if(l=Zt(l,"wx"))return l;if(p){if((x.mode&61440)!==16384)return 54;if(x===x.parent||ar(x)==="/")return 10}else if((x.mode&61440)===16384)return 31;return 0},fs=(l=0)=>{for(;4096>=l;l++)if(!pt[l])return l;throw new te(33)},dn=(l,f)=>(j||(j=function(){this.$a={}},j.prototype={},Object.defineProperties(j.prototype,{object:{get:function(){return this.node},set:function(p){this.node=p}},flags:{get:function(){return this.$a.flags},set:function(p){this.$a.flags=p}},position:{get:function(){return this.$a.position},set:function(p){this.$a.position=p}}})),l=Object.assign(new j,l),f=fs(f),l.fd=f,pt[f]=l),hs={open:l=>{l.Ha=Ft[l.node.rdev].Ha,l.Ha.open&&l.Ha.open(l)},Ta:()=>{throw new te(70)}},Wr=(l,f)=>{Ft[l]={Ha:f}},mn=(l,f)=>{var p=f==="/",x=!f;if(p&&ut)throw new te(10);if(!p&&!x){var O=st(f,{rb:!1});if(f=O.path,O=O.node,O.Va)throw new te(10);if((O.mode&61440)!==16384)throw new te(54)}f={type:l,Kb:{},ub:f,Eb:[]},l=l.Ra(f),l.Ra=f,f.root=l,p?ut=l:O&&(O.Va=f,O.Ra&&O.Ra.Eb.push(f))},Sr=(l,f,p)=>{var x=st(l,{parent:!0}).node;if(l=Pe(l),!l||l==="."||l==="..")throw new te(28);var O=hn(x,l);if(O)throw new te(O);if(!x.Ga.ab)throw new te(63);return x.Ga.ab(x,l,f,p)},vt=(l,f)=>Sr(l,(f!==void 0?f:511)&1023|16384,0),xr=(l,f,p)=>{typeof p>"u"&&(p=f,f=438),Sr(l,f|8192,p)},Hr=(l,f)=>{if(!De(l))throw new te(44);var p=st(f,{parent:!0}).node;if(!p)throw new te(44);f=Pe(f);var x=hn(p,f);if(x)throw new te(x);if(!p.Ga.symlink)throw new te(63);p.Ga.symlink(p,f,l)},pn=l=>{var f=st(l,{parent:!0}).node;l=Pe(l);var p=qt(f,l),x=zr(f,l,!0);if(x)throw new te(x);if(!f.Ga.rmdir)throw new te(63);if(p.Va)throw new te(10);f.Ga.rmdir(f,l),ln(p)},yn=l=>{var f=st(l,{parent:!0}).node;if(!f)throw new te(44);l=Pe(l);var p=qt(f,l),x=zr(f,l,!1);if(x)throw new te(x);if(!f.Ga.unlink)throw new te(63);if(p.Va)throw new te(10);f.Ga.unlink(f,l),ln(p)},gn=l=>{if(l=st(l).node,!l)throw new te(44);if(!l.Ga.readlink)throw new te(28);return De(ar(l.parent),l.Ga.readlink(l))},cr=(l,f)=>{if(l=st(l,{Sa:!f}).node,!l)throw new te(44);if(!l.Ga.Pa)throw new te(63);return l.Ga.Pa(l)},vn=l=>cr(l,!0),kr=(l,f)=>{if(l=typeof l=="string"?st(l,{Sa:!0}).node:l,!l.Ga.Oa)throw new te(63);l.Ga.Oa(l,{mode:f&4095|l.mode&-4096,timestamp:Date.now()})},Gr=(l,f)=>{if(0>f)throw new te(28);if(l=typeof l=="string"?st(l,{Sa:!0}).node:l,!l.Ga.Oa)throw new te(63);if((l.mode&61440)===16384)throw new te(31);if((l.mode&61440)!==32768)throw new te(28);var p=Zt(l,"w");if(p)throw new te(p);l.Ga.Oa(l,{size:f,timestamp:Date.now()})},wt=(l,f,p)=>{if(l==="")throw new te(44);if(typeof f=="string"){var x=us[f];if(typeof x>"u")throw Error("Unknown file open mode: "+f);f=x}if(p=f&64?(typeof p>"u"?438:p)&4095|32768:0,typeof l=="object")var O=l;else{l=ve(l);try{O=st(l,{Sa:!(f&131072)}).node}catch{}}if(x=!1,f&64)if(O){if(f&128)throw new te(20)}else O=Sr(l,p,0),x=!0;if(!O)throw new te(44);if((O.mode&61440)===8192&&(f&=-513),f&65536&&(O.mode&61440)!==16384)throw new te(54);if(!x&&(p=O?(O.mode&61440)===40960?32:(O.mode&61440)===16384&&(fn(f)!=="r"||f&512)?31:Zt(O,fn(f)):44))throw new te(p);return f&512&&!x&&Gr(O,0),f&=-131713,O=dn({node:O,path:ar(O),flags:f,seekable:!0,position:0,Ha:O.Ha,Ib:[],error:!1}),O.Ha.open&&O.Ha.open(O),!c.logReadFiles||f&1||(k||(k={}),l in k||(k[l]=1)),O},$r=l=>{if(l.fd===null)throw new te(8);l.hb&&(l.hb=null);try{l.Ha.close&&l.Ha.close(l)}catch(f){throw f}finally{pt[l.fd]=null}l.fd=null},Ut=(l,f,p)=>{if(l.fd===null)throw new te(8);if(!l.seekable||!l.Ha.Ta)throw new te(70);if(p!=0&&p!=1&&p!=2)throw new te(28);l.position=l.Ha.Ta(l,f,p),l.Ib=[]},wn=(l,f,p,x,O)=>{if(0>x||0>O)throw new te(28);if(l.fd===null)throw new te(8);if((l.flags&2097155)===1)throw new te(8);if((l.node.mode&61440)===16384)throw new te(31);if(!l.Ha.read)throw new te(28);var J=typeof O<"u";if(!J)O=l.position;else if(!l.seekable)throw new te(70);return f=l.Ha.read(l,f,p,x,O),J||(l.position+=f),f},lr=(l,f,p,x,O)=>{if(0>x||0>O)throw new te(28);if(l.fd===null)throw new te(8);if(!(l.flags&2097155))throw new te(8);if((l.node.mode&61440)===16384)throw new te(31);if(!l.Ha.write)throw new te(28);l.seekable&&l.flags&1024&&Ut(l,0,2);var J=typeof O<"u";if(!J)O=l.position;else if(!l.seekable)throw new te(70);return f=l.Ha.write(l,f,p,x,O,void 0),J||(l.position+=f),f},Vr=l=>{var f,p=wt(l,p||0);l=cr(l).size;var x=new Uint8Array(l);return wn(p,x,0,l,0),f=x,$r(p),f},bn=()=>{te||(te=function(l,f){this.node=f,this.Hb=function(p){this.Ka=p},this.Hb(l),this.message="FS error"},te.prototype=Error(),te.prototype.constructor=te,[44].forEach(l=>{kt[l]=new te(l),kt[l].stack="<generic error, no stack>"}))},_n,Tr=(l,f)=>{var p=0;return l&&(p|=365),f&&(p|=146),p},ur=(l,f,p)=>{l=ve("/dev/"+l);var x=Tr(!!f,!!p);Kr||(Kr=64);var O=Kr++<<8|0;Wr(O,{open:J=>{J.seekable=!1},close:()=>{p&&p.buffer&&p.buffer.length&&p(10)},read:(J,re,Te,qe)=>{for(var Ie=0,Qe=0;Qe<qe;Qe++){try{var Wt=f()}catch{throw new te(29)}if(Wt===void 0&&Ie===0)throw new te(6);if(Wt==null)break;Ie++,re[Te+Qe]=Wt}return Ie&&(J.node.timestamp=Date.now()),Ie},write:(J,re,Te,qe)=>{for(var Ie=0;Ie<qe;Ie++)try{p(re[Te+Ie])}catch{throw new te(29)}return qe&&(J.node.timestamp=Date.now()),Ie}}),xr(l,x,O)},Kr,b={},j,k;function L(l,f,p){if(f.charAt(0)==="/")return f;if(l=l===-100?"/":ae(l).path,f.length==0){if(!p)throw new te(44);return l}return ve(l+"/"+f)}function U(l,f,p){try{var x=l(f)}catch(O){if(O&&O.node&&ve(f)!==ve(ar(O.node)))return-54;throw O}return oe[p>>2]=x.dev,oe[p+8>>2]=x.ino,oe[p+12>>2]=x.mode,F[p+16>>2]=x.nlink,oe[p+20>>2]=x.uid,oe[p+24>>2]=x.gid,oe[p+28>>2]=x.rdev,C=[x.size>>>0,(P=x.size,1<=+Math.abs(P)?0<P?(Math.min(+Math.floor(P/4294967296),4294967295)|0)>>>0:~~+Math.ceil((P-+(~~P>>>0))/4294967296)>>>0:0)],oe[p+40>>2]=C[0],oe[p+44>>2]=C[1],oe[p+48>>2]=4096,oe[p+52>>2]=x.blocks,C=[Math.floor(x.atime.getTime()/1e3)>>>0,(P=Math.floor(x.atime.getTime()/1e3),1<=+Math.abs(P)?0<P?(Math.min(+Math.floor(P/4294967296),4294967295)|0)>>>0:~~+Math.ceil((P-+(~~P>>>0))/4294967296)>>>0:0)],oe[p+56>>2]=C[0],oe[p+60>>2]=C[1],F[p+64>>2]=0,C=[Math.floor(x.mtime.getTime()/1e3)>>>0,(P=Math.floor(x.mtime.getTime()/1e3),1<=+Math.abs(P)?0<P?(Math.min(+Math.floor(P/4294967296),4294967295)|0)>>>0:~~+Math.ceil((P-+(~~P>>>0))/4294967296)>>>0:0)],oe[p+72>>2]=C[0],oe[p+76>>2]=C[1],F[p+80>>2]=0,C=[Math.floor(x.ctime.getTime()/1e3)>>>0,(P=Math.floor(x.ctime.getTime()/1e3),1<=+Math.abs(P)?0<P?(Math.min(+Math.floor(P/4294967296),4294967295)|0)>>>0:~~+Math.ceil((P-+(~~P>>>0))/4294967296)>>>0:0)],oe[p+88>>2]=C[0],oe[p+92>>2]=C[1],F[p+96>>2]=0,C=[x.ino>>>0,(P=x.ino,1<=+Math.abs(P)?0<P?(Math.min(+Math.floor(P/4294967296),4294967295)|0)>>>0:~~+Math.ceil((P-+(~~P>>>0))/4294967296)>>>0:0)],oe[p+104>>2]=C[0],oe[p+108>>2]=C[1],0}var I=void 0;function ee(){return I+=4,oe[I-4>>2]}function ae(l){if(l=pt[l],!l)throw new te(8);return l}function he(l){return F[l>>2]+4294967296*oe[l+4>>2]}function me(l){var f=Z(l)+1,p=fr(f);return p&&v(l,Q,p,f),p}function ye(l,f,p){function x(qe){return(qe=qe.toTimeString().match(/\(([A-Za-z ]+)\)$/))?qe[1]:"GMT"}var O=new Date().getFullYear(),J=new Date(O,0,1),re=new Date(O,6,1);O=J.getTimezoneOffset();var Te=re.getTimezoneOffset();oe[l>>2]=60*Math.max(O,Te),oe[f>>2]=+(O!=Te),l=x(J),f=x(re),l=me(l),f=me(f),Te<O?(F[p>>2]=l,F[p+4>>2]=f):(F[p>>2]=f,F[p+4>>2]=l)}function _e(l,f,p){_e.Bb||(_e.Bb=!0,ye(l,f,p))}var Ae;Ae=_?()=>{var l=tr.hrtime();return 1e3*l[0]+l[1]/1e6}:()=>performance.now();var Ce={};function Le(){if(!Ye){var l={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:h||"./this.program"},f;for(f in Ce)Ce[f]===void 0?delete l[f]:l[f]=Ce[f];var p=[];for(f in l)p.push(f+"="+l[f]);Ye=p}return Ye}var Ye,Ue=void 0,it=[];function Mt(l,f){if(!Ue){Ue=new WeakMap;var p=ue.length;if(Ue)for(var x=0;x<0+p;x++){var O=ue.get(x);O&&Ue.set(O,x)}}if(Ue.has(l))return Ue.get(l);if(it.length)p=it.pop();else{try{ue.grow(1)}catch(Te){throw Te instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":Te}p=ue.length-1}try{ue.set(p,l)}catch(Te){if(!(Te instanceof TypeError))throw Te;if(typeof WebAssembly.Function=="function"){x=WebAssembly.Function,O={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"};for(var J={parameters:[],results:f[0]=="v"?[]:[O[f[0]]]},re=1;re<f.length;++re)J.parameters.push(O[f[re]]);f=new x(J,l)}else{for(x=[1,96],O=f.slice(0,1),f=f.slice(1),J={i:127,p:127,j:126,f:125,d:124},re=f.length,128>re?x.push(re):x.push(re%128|128,re>>7),re=0;re<f.length;++re)x.push(J[f[re]]);O=="v"?x.push(0):x.push(1,J[O]),f=[0,97,115,109,1,0,0,0,1],O=x.length,128>O?f.push(O):f.push(O%128|128,O>>7),f.push.apply(f,x),f.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),f=new WebAssembly.Module(new Uint8Array(f)),f=new WebAssembly.Instance(f,{e:{f:l}}).exports.f}ue.set(p,f)}return Ue.set(l,p),p}function zt(l){Ue.delete(ue.get(l)),it.push(l)}function Yr(l){var f=fr(l.length);return l.subarray||l.slice||(l=new Uint8Array(l)),xe.set(l,f),f}function Jr(l,f,p,x){var O={string:Ie=>{var Qe=0;if(Ie!=null&&Ie!==0){var Wt=(Ie.length<<2)+1;Qe=Qt(Wt),v(Ie,xe,Qe,Wt)}return Qe},array:Ie=>{var Qe=Qt(Ie.length);return Q.set(Ie,Qe),Qe}};l=c["_"+l];var J=[],re=0;if(x)for(var Te=0;Te<x.length;Te++){var qe=O[p[Te]];qe?(re===0&&(re=Zr()),J[Te]=qe(x[Te])):J[Te]=x[Te]}return p=l.apply(null,J),p=function(Ie){return re!==0&&Qr(re),f==="string"?G(Ie):f==="boolean"?!!Ie:Ie}(p)}function ds(l,f,p,x){l||(l=this),this.parent=l,this.Ra=l.Ra,this.Va=null,this.id=Ur++,this.name=f,this.mode=p,this.Ga={},this.Ha={},this.rdev=x}Object.defineProperties(ds.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(l){l?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(l){l?this.mode|=146:this.mode&=-147}}}),bn(),Xe=Array(4096),mn(ke,"/"),vt("/tmp"),vt("/home"),vt("/home/web_user"),(()=>{vt("/dev"),Wr(259,{read:()=>0,write:(f,p,x,O)=>O}),xr("/dev/null",259),nt(1280,Ve),nt(1536,Rt),xr("/dev/tty",1280),xr("/dev/tty1",1536);var l=Fe();ur("random",l),ur("urandom",l),vt("/dev/shm"),vt("/dev/shm/tmp")})(),(()=>{vt("/proc");var l=vt("/proc/self");vt("/proc/self/fd"),mn({Ra:()=>{var f=un(l,"fd",16895,73);return f.Ga={lookup:(p,x)=>{var O=pt[+x];if(!O)throw new te(8);return p={parent:null,Ra:{ub:"fake"},Ga:{readlink:()=>O.path}},p.parent=p}},f}},"/proc/self/fd")})();var ms={a:function(l,f,p,x){Ze("Assertion failed: "+G(l)+", at: "+[f?G(f):"unknown filename",p,x?G(x):"unknown function"])},h:function(l,f){try{return l=G(l),kr(l,f),0}catch(p){if(typeof b>"u"||!(p instanceof te))throw p;return-p.Ka}},H:function(l,f,p){try{if(f=G(f),f=L(l,f),p&-8)return-28;var x=st(f,{Sa:!0}).node;return x?(l="",p&4&&(l+="r"),p&2&&(l+="w"),p&1&&(l+="x"),l&&Zt(x,l)?-2:0):-44}catch(O){if(typeof b>"u"||!(O instanceof te))throw O;return-O.Ka}},i:function(l,f){try{var p=pt[l];if(!p)throw new te(8);return kr(p.node,f),0}catch(x){if(typeof b>"u"||!(x instanceof te))throw x;return-x.Ka}},g:function(l){try{var f=pt[l];if(!f)throw new te(8);var p=f.node,x=typeof p=="string"?st(p,{Sa:!0}).node:p;if(!x.Ga.Oa)throw new te(63);return x.Ga.Oa(x,{timestamp:Date.now()}),0}catch(O){if(typeof b>"u"||!(O instanceof te))throw O;return-O.Ka}},b:function(l,f,p){I=p;try{var x=ae(l);switch(f){case 0:var O=ee();return 0>O?-28:dn(x,O).fd;case 1:case 2:return 0;case 3:return x.flags;case 4:return O=ee(),x.flags|=O,0;case 5:return O=ee(),fe[O+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return oe[En()>>2]=28,-1;default:return-28}}catch(J){if(typeof b>"u"||!(J instanceof te))throw J;return-J.Ka}},G:function(l,f){try{var p=ae(l);return U(cr,p.path,f)}catch(x){if(typeof b>"u"||!(x instanceof te))throw x;return-x.Ka}},l:function(l,f,p){try{if(f=p+2097152>>>0<4194305-!!f?(f>>>0)+4294967296*p:NaN,isNaN(f))return-61;var x=pt[l];if(!x)throw new te(8);if(!(x.flags&2097155))throw new te(28);return Gr(x.node,f),0}catch(O){if(typeof b>"u"||!(O instanceof te))throw O;return-O.Ka}},B:function(l,f){try{if(f===0)return-28;var p=Z("/")+1;return f<p?-68:(v("/",xe,l,f),p)}catch(x){if(typeof b>"u"||!(x instanceof te))throw x;return-x.Ka}},E:function(l,f){try{return l=G(l),U(vn,l,f)}catch(p){if(typeof b>"u"||!(p instanceof te))throw p;return-p.Ka}},y:function(l,f,p){try{return f=G(f),f=L(l,f),f=ve(f),f[f.length-1]==="/"&&(f=f.substr(0,f.length-1)),vt(f,p),0}catch(x){if(typeof b>"u"||!(x instanceof te))throw x;return-x.Ka}},D:function(l,f,p,x){try{f=G(f);var O=x&256;return f=L(l,f,x&4096),U(O?vn:cr,f,p)}catch(J){if(typeof b>"u"||!(J instanceof te))throw J;return-J.Ka}},v:function(l,f,p,x){I=x;try{f=G(f),f=L(l,f);var O=x?ee():0;return wt(f,p,O).fd}catch(J){if(typeof b>"u"||!(J instanceof te))throw J;return-J.Ka}},t:function(l,f,p,x){try{if(f=G(f),f=L(l,f),0>=x)return-28;var O=gn(f),J=Math.min(x,Z(O)),re=Q[p+J];return v(O,xe,p,x+1),Q[p+J]=re,J}catch(Te){if(typeof b>"u"||!(Te instanceof te))throw Te;return-Te.Ka}},s:function(l){try{return l=G(l),pn(l),0}catch(f){if(typeof b>"u"||!(f instanceof te))throw f;return-f.Ka}},F:function(l,f){try{return l=G(l),U(cr,l,f)}catch(p){if(typeof b>"u"||!(p instanceof te))throw p;return-p.Ka}},p:function(l,f,p){try{return f=G(f),f=L(l,f),p===0?yn(f):p===512?pn(f):Ze("Invalid flags passed to unlinkat"),0}catch(x){if(typeof b>"u"||!(x instanceof te))throw x;return-x.Ka}},o:function(l,f,p){try{if(f=G(f),f=L(l,f,!0),p){var x=he(p),O=oe[p+8>>2];J=1e3*x+O/1e6,p+=16,x=he(p),O=oe[p+8>>2],re=1e3*x+O/1e6}else var J=Date.now(),re=J;l=J;var Te=st(f,{Sa:!0}).node;return Te.Ga.Oa(Te,{timestamp:Math.max(l,re)}),0}catch(qe){if(typeof b>"u"||!(qe instanceof te))throw qe;return-qe.Ka}},e:function(){return Date.now()},j:function(l,f){l=new Date(1e3*he(l)),oe[f>>2]=l.getSeconds(),oe[f+4>>2]=l.getMinutes(),oe[f+8>>2]=l.getHours(),oe[f+12>>2]=l.getDate(),oe[f+16>>2]=l.getMonth(),oe[f+20>>2]=l.getFullYear()-1900,oe[f+24>>2]=l.getDay();var p=new Date(l.getFullYear(),0,1);oe[f+28>>2]=(l.getTime()-p.getTime())/864e5|0,oe[f+36>>2]=-(60*l.getTimezoneOffset());var x=new Date(l.getFullYear(),6,1).getTimezoneOffset();p=p.getTimezoneOffset(),oe[f+32>>2]=(x!=p&&l.getTimezoneOffset()==Math.min(p,x))|0},w:function(l,f,p,x,O,J){try{var re=ae(x);if(f&2&&!(p&2)&&(re.flags&2097155)!==2)throw new te(2);if((re.flags&2097155)===1)throw new te(2);if(!re.Ha.bb)throw new te(43);var Te=re.Ha.bb(re,l,O,f,p),qe=Te.Fb;return oe[J>>2]=Te.vb,qe}catch(Ie){if(typeof b>"u"||!(Ie instanceof te))throw Ie;return-Ie.Ka}},x:function(l,f,p,x,O,J){try{var re=ae(O);if(p&2){var Te=xe.slice(l,l+f);re&&re.Ha.cb&&re.Ha.cb(re,Te,J,f,x)}}catch(qe){if(typeof b>"u"||!(qe instanceof te))throw qe;return-qe.Ka}},n:_e,q:function(){return 2147483648},d:Ae,c:function(l){var f=xe.length;if(l>>>=0,2147483648<l)return!1;for(var p=1;4>=p;p*=2){var x=f*(1+.2/p);x=Math.min(x,l+100663296);var O=Math;x=Math.max(l,x),O=O.min.call(O,2147483648,x+(65536-x%65536)%65536);e:{try{q.grow(O-Ee.byteLength+65535>>>16),ge();var J=1;break e}catch{}J=void 0}if(J)return!0}return!1},z:function(l,f){var p=0;return Le().forEach(function(x,O){var J=f+p;for(O=F[l+4*O>>2]=J,J=0;J<x.length;++J)Q[O++>>0]=x.charCodeAt(J);Q[O>>0]=0,p+=x.length+1}),0},A:function(l,f){var p=Le();F[l>>2]=p.length;var x=0;return p.forEach(function(O){x+=O.length+1}),F[f>>2]=x,0},f:function(l){try{var f=ae(l);return $r(f),0}catch(p){if(typeof b>"u"||!(p instanceof te))throw p;return p.Ka}},m:function(l,f){try{var p=ae(l);return Q[f>>0]=p.tty?2:(p.mode&61440)===16384?3:(p.mode&61440)===40960?7:4,0}catch(x){if(typeof b>"u"||!(x instanceof te))throw x;return x.Ka}},u:function(l,f,p,x){try{e:{var O=ae(l);l=f;for(var J=f=0;J<p;J++){var re=F[l>>2],Te=F[l+4>>2];l+=8;var qe=wn(O,Q,re,Te);if(0>qe){var Ie=-1;break e}if(f+=qe,qe<Te)break}Ie=f}return F[x>>2]=Ie,0}catch(Qe){if(typeof b>"u"||!(Qe instanceof te))throw Qe;return Qe.Ka}},k:function(l,f,p,x,O){try{if(f=p+2097152>>>0<4194305-!!f?(f>>>0)+4294967296*p:NaN,isNaN(f))return 61;var J=ae(l);return Ut(J,f,x),C=[J.position>>>0,(P=J.position,1<=+Math.abs(P)?0<P?(Math.min(+Math.floor(P/4294967296),4294967295)|0)>>>0:~~+Math.ceil((P-+(~~P>>>0))/4294967296)>>>0:0)],oe[O>>2]=C[0],oe[O+4>>2]=C[1],J.hb&&f===0&&x===0&&(J.hb=null),0}catch(re){if(typeof b>"u"||!(re instanceof te))throw re;return re.Ka}},C:function(l){try{var f=ae(l);return f.Ha&&f.Ha.fsync?f.Ha.fsync(f):0}catch(p){if(typeof b>"u"||!(p instanceof te))throw p;return p.Ka}},r:function(l,f,p,x){try{e:{var O=ae(l);l=f;for(var J=f=0;J<p;J++){var re=F[l>>2],Te=F[l+4>>2];l+=8;var qe=lr(O,Q,re,Te);if(0>qe){var Ie=-1;break e}f+=qe}Ie=f}return F[x>>2]=Ie,0}catch(Qe){if(typeof b>"u"||!(Qe instanceof te))throw Qe;return Qe.Ka}}};(function(){function l(O){c.asm=O.exports,q=c.asm.I,ge(),ue=c.asm.Aa,Ge.unshift(c.asm.J),He--,c.monitorRunDependencies&&c.monitorRunDependencies(He),He==0&&We&&(O=We,We=null,O())}function f(O){l(O.instance)}function p(O){return A().then(function(J){return WebAssembly.instantiate(J,x)}).then(function(J){return J}).then(O,function(J){B("failed to asynchronously prepare wasm: "+J),Ze(J)})}var x={a:ms};if(He++,c.monitorRunDependencies&&c.monitorRunDependencies(He),c.instantiateWasm)try{return c.instantiateWasm(x,l)}catch(O){return B("Module.instantiateWasm callback failed with error: "+O),!1}return function(){return K||typeof WebAssembly.instantiateStreaming!="function"||rt()||m.startsWith("file://")||_||typeof fetch!="function"?p(f):fetch(m,{credentials:"same-origin"}).then(function(O){return WebAssembly.instantiateStreaming(O,x).then(f,function(J){return B("wasm streaming compile failed: "+J),B("falling back to ArrayBuffer instantiation"),p(f)})})}(),{}})(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.J).apply(null,arguments)},c._sqlite3_free=function(){return(c._sqlite3_free=c.asm.K).apply(null,arguments)},c._sqlite3_value_double=function(){return(c._sqlite3_value_double=c.asm.L).apply(null,arguments)},c._sqlite3_value_text=function(){return(c._sqlite3_value_text=c.asm.M).apply(null,arguments)};var En=c.___errno_location=function(){return(En=c.___errno_location=c.asm.N).apply(null,arguments)};c._sqlite3_prepare_v2=function(){return(c._sqlite3_prepare_v2=c.asm.O).apply(null,arguments)},c._sqlite3_step=function(){return(c._sqlite3_step=c.asm.P).apply(null,arguments)},c._sqlite3_finalize=function(){return(c._sqlite3_finalize=c.asm.Q).apply(null,arguments)},c._sqlite3_reset=function(){return(c._sqlite3_reset=c.asm.R).apply(null,arguments)},c._sqlite3_value_int=function(){return(c._sqlite3_value_int=c.asm.S).apply(null,arguments)},c._sqlite3_clear_bindings=function(){return(c._sqlite3_clear_bindings=c.asm.T).apply(null,arguments)},c._sqlite3_value_blob=function(){return(c._sqlite3_value_blob=c.asm.U).apply(null,arguments)},c._sqlite3_value_bytes=function(){return(c._sqlite3_value_bytes=c.asm.V).apply(null,arguments)},c._sqlite3_value_type=function(){return(c._sqlite3_value_type=c.asm.W).apply(null,arguments)},c._sqlite3_result_blob=function(){return(c._sqlite3_result_blob=c.asm.X).apply(null,arguments)},c._sqlite3_result_double=function(){return(c._sqlite3_result_double=c.asm.Y).apply(null,arguments)},c._sqlite3_result_error=function(){return(c._sqlite3_result_error=c.asm.Z).apply(null,arguments)},c._sqlite3_result_int=function(){return(c._sqlite3_result_int=c.asm._).apply(null,arguments)},c._sqlite3_result_int64=function(){return(c._sqlite3_result_int64=c.asm.$).apply(null,arguments)},c._sqlite3_result_null=function(){return(c._sqlite3_result_null=c.asm.aa).apply(null,arguments)},c._sqlite3_result_text=function(){return(c._sqlite3_result_text=c.asm.ba).apply(null,arguments)},c._sqlite3_sql=function(){return(c._sqlite3_sql=c.asm.ca).apply(null,arguments)},c._sqlite3_aggregate_context=function(){return(c._sqlite3_aggregate_context=c.asm.da).apply(null,arguments)},c._sqlite3_column_count=function(){return(c._sqlite3_column_count=c.asm.ea).apply(null,arguments)},c._sqlite3_data_count=function(){return(c._sqlite3_data_count=c.asm.fa).apply(null,arguments)},c._sqlite3_column_blob=function(){return(c._sqlite3_column_blob=c.asm.ga).apply(null,arguments)},c._sqlite3_column_bytes=function(){return(c._sqlite3_column_bytes=c.asm.ha).apply(null,arguments)},c._sqlite3_column_double=function(){return(c._sqlite3_column_double=c.asm.ia).apply(null,arguments)},c._sqlite3_column_text=function(){return(c._sqlite3_column_text=c.asm.ja).apply(null,arguments)},c._sqlite3_column_type=function(){return(c._sqlite3_column_type=c.asm.ka).apply(null,arguments)},c._sqlite3_column_name=function(){return(c._sqlite3_column_name=c.asm.la).apply(null,arguments)},c._sqlite3_bind_blob=function(){return(c._sqlite3_bind_blob=c.asm.ma).apply(null,arguments)},c._sqlite3_bind_double=function(){return(c._sqlite3_bind_double=c.asm.na).apply(null,arguments)},c._sqlite3_bind_int=function(){return(c._sqlite3_bind_int=c.asm.oa).apply(null,arguments)},c._sqlite3_bind_text=function(){return(c._sqlite3_bind_text=c.asm.pa).apply(null,arguments)},c._sqlite3_bind_parameter_index=function(){return(c._sqlite3_bind_parameter_index=c.asm.qa).apply(null,arguments)},c._sqlite3_normalized_sql=function(){return(c._sqlite3_normalized_sql=c.asm.ra).apply(null,arguments)},c._sqlite3_errmsg=function(){return(c._sqlite3_errmsg=c.asm.sa).apply(null,arguments)},c._sqlite3_exec=function(){return(c._sqlite3_exec=c.asm.ta).apply(null,arguments)},c._sqlite3_changes=function(){return(c._sqlite3_changes=c.asm.ua).apply(null,arguments)},c._sqlite3_close_v2=function(){return(c._sqlite3_close_v2=c.asm.va).apply(null,arguments)},c._sqlite3_create_function_v2=function(){return(c._sqlite3_create_function_v2=c.asm.wa).apply(null,arguments)},c._sqlite3_open=function(){return(c._sqlite3_open=c.asm.xa).apply(null,arguments)};var fr=c._malloc=function(){return(fr=c._malloc=c.asm.ya).apply(null,arguments)},Pn=c._free=function(){return(Pn=c._free=c.asm.za).apply(null,arguments)};c._RegisterExtensionFunctions=function(){return(c._RegisterExtensionFunctions=c.asm.Ba).apply(null,arguments)};var Gs=c._emscripten_builtin_memalign=function(){return(Gs=c._emscripten_builtin_memalign=c.asm.Ca).apply(null,arguments)},Zr=c.stackSave=function(){return(Zr=c.stackSave=c.asm.Da).apply(null,arguments)},Qr=c.stackRestore=function(){return(Qr=c.stackRestore=c.asm.Ea).apply(null,arguments)},Qt=c.stackAlloc=function(){return(Qt=c.stackAlloc=c.asm.Fa).apply(null,arguments)};c.UTF8ToString=G,c.stackAlloc=Qt,c.stackSave=Zr,c.stackRestore=Qr,c.cwrap=function(l,f,p,x){p=p||[];var O=p.every(J=>J==="number"||J==="boolean");return f!=="string"&&O&&!x?c["_"+l]:function(){return Jr(l,f,p,arguments)}};var Sn;We=function l(){Sn||Vs(),Sn||(We=l)};function Vs(){function l(){if(!Sn&&(Sn=!0,c.calledRun=!0,!W)){if(c.noFSInit||_n||(_n=!0,bn(),c.stdin=c.stdin,c.stdout=c.stdout,c.stderr=c.stderr,c.stdin?ur("stdin",c.stdin):Hr("/dev/tty","/dev/stdin"),c.stdout?ur("stdout",null,c.stdout):Hr("/dev/tty","/dev/stdout"),c.stderr?ur("stderr",null,c.stderr):Hr("/dev/tty1","/dev/stderr"),wt("/dev/stdin",0),wt("/dev/stdout",1),wt("/dev/stderr",1)),or=!1,se(Ge),c.onRuntimeInitialized&&c.onRuntimeInitialized(),c.postRun)for(typeof c.postRun=="function"&&(c.postRun=[c.postRun]);c.postRun.length;){var f=c.postRun.shift();Oe.unshift(f)}se(Oe)}}if(!(0<He)){if(c.preRun)for(typeof c.preRun=="function"&&(c.preRun=[c.preRun]);c.preRun.length;)Re();se(Be),0<He||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),l()},1)):l())}}if(c.preInit)for(typeof c.preInit=="function"&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return Vs(),a}),t)};r.exports=n,r.exports.default=n});const Us=async(r,e)=>{try{const t=await e.getItem(r);return Promise.resolve(t)}catch(t){return Promise.reject(`GetDBFromStore: ${t.message}`)}},Qu=async(r,e)=>{try{return await e.setItem(r,null),Promise.resolve()}catch(t){return Promise.reject(`SetInitialDBToStore: ${t.message}`)}},Xu=async(r,e,t)=>{try{const n=r.export();return await Ht(e,n,t),Promise.resolve()}catch(n){return Promise.reject(`SetDBToStore: ${n.message}`)}},Ht=async(r,e,t)=>{try{return await t.setItem(r,e),Promise.resolve()}catch(n){return Promise.reject(`SaveDBToStore: ${n.message}`)}},pr=async(r,e)=>{try{return await e.removeItem(r),Promise.resolve()}catch(t){return Promise.reject(`RemoveDBFromStore: ${t.message}`)}},Lt=async(r,e)=>{try{const t=await e.getItem(r);return t!=null&&t.length>0?Promise.resolve(!0):Promise.resolve(!1)}catch(t){return Promise.reject(`IsDBInStore: ${t}`)}},Ti=async(r,e,t)=>{const n=`${e}-${r}`;try{if(await Lt(n,t))if(await Lt(r,t)){const o=await Us(n,t);return await Ht(r,o,t),await pr(n,t),Promise.resolve()}else return Promise.reject(new Error(`RestoreDBFromStore: ${r} does not exist`));else return Promise.reject(new Error(`RestoreDBFromStore: ${n} does not exist`))}catch(s){return Promise.reject(`RestoreDBFromStore: ${s.message}`)}},ef=async(r,e,t)=>{try{if(await Lt(r,t)){const s=await Us(r,t);return await Ht(e,s,t),Promise.resolve()}else return Promise.reject(new Error(`CopyDBToStore: ${r} does not exist`))}catch(n){return Promise.reject(`CopyDBToStore: ${n.message}`)}},tf=async r=>{try{const e=await r.keys();return Promise.resolve(e)}catch(e){return Promise.reject(`GetDBListFromStore: ${e.message}`)}},Ms=async r=>{let e="SELECT name FROM sqlite_master WHERE ";e+="type='table' AND name NOT LIKE 'sync_table' ",e+="AND name NOT LIKE '_temp_%' ",e+="AND name NOT LIKE 'sqlite_%' ",e+="ORDER BY rootpage DESC;";const t=[];try{const n=await lt(r,e,[]);for(const s of n)t.push(s.name);return Promise.resolve(t)}catch(n){return Promise.reject(new Error(`GetTablesNames: ${n.message}`))}},Tn=async(r,e)=>{let t="",n="AND name NOT LIKE ('sqlite_%')";switch(e){case"index":t="DropIndexes";break;case"trigger":t="DropTriggers";break;case"table":t="DropTables",n+=" AND name NOT IN ('sync_table')";break;case"view":t="DropViews";break;default:return Promise.reject(new Error(`DropElements: ${e} not found`))}let s="SELECT name FROM sqlite_master WHERE ";s+=`type = '${e}' ${n};`;try{const i=await lt(r,s,[]);if(i.length>0){const o=e.toUpperCase(),a=[];for(const u of i){let c=`DROP ${o} IF EXISTS `;c+=`${u.name};`,a.push(c)}for(const u of a)if(await Er(r,u,[],!1)<0)return Promise.reject(new Error(`DropElements: ${t}: lastId < 0`))}return Promise.resolve()}catch(i){return Promise.reject(new Error(`DropElements: ${t}: ${i.message}`))}},rf=async r=>{try{return await Tn(r,"table"),await Tn(r,"index"),await Tn(r,"trigger"),await Tn(r,"view"),await Er(r,"VACUUM;",[],!1),Promise.resolve()}catch(e){return Promise.reject(new Error(`DropAll: ${e.message}`))}},$s=async r=>{const e=["database","version","overwrite","encrypted","mode","tables","views"];if(r==null||Object.keys(r).length===0&&r.constructor===Object)return!1;for(const t of Object.keys(r)){if(e.indexOf(t)===-1||t==="database"&&typeof r[t]!="string"||t==="version"&&typeof r[t]!="number"||t==="overwrite"&&typeof r[t]!="boolean"||t==="encrypted"&&typeof r[t]!="boolean"||t==="mode"&&typeof r[t]!="string"||t==="tables"&&typeof r[t]!="object")return!1;if(t==="tables"){for(const n of r[t])if(!await nf(n))return!1}if(t==="views"&&typeof r[t]!="object")return!1;if(t==="views"){for(const n of r[t])if(!await sf(n))return!1}}return!0},nf=async r=>{const e=["name","schema","indexes","triggers","values"];let t=0;if(r==null||Object.keys(r).length===0&&r.constructor===Object)return!1;for(const n of Object.keys(r)){if(e.indexOf(n)===-1||n==="name"&&typeof r[n]!="string"||n==="schema"&&typeof r[n]!="object"||n==="indexes"&&typeof r[n]!="object"||n==="triggers"&&typeof r[n]!="object"||n==="values"&&typeof r[n]!="object")return!1;if(n==="schema"){r.schema.forEach(s=>{s.column&&t++});for(let s=0;s<t;s++)if(!await Go(r[n][s]))return!1}if(n==="indexes"){for(const s of r[n])if(!await Vo(s))return!1}if(n==="triggers"){for(const s of r[n])if(!await Ko(s))return!1}if(n==="values"&&t>0){for(const s of r[n])if(typeof s!="object"||s.length!=t)return!1}}return!0},Go=async r=>{const e=["column","value","foreignkey","primarykey","constraint"];if(r==null||Object.keys(r).length===0&&r.constructor===Object)return!1;for(const t of Object.keys(r))if(e.indexOf(t)===-1||t==="column"&&typeof r[t]!="string"||t==="value"&&typeof r[t]!="string"||t==="foreignkey"&&typeof r[t]!="string"||t==="primarykey"&&typeof r[t]!="string"||t==="constraint"&&typeof r[t]!="string")return!1;return!0},Vo=async r=>{const e=["name","value","mode"];if(r==null||Object.keys(r).length===0&&r.constructor===Object)return!1;for(const t of Object.keys(r))if(e.indexOf(t)===-1||t==="name"&&typeof r[t]!="string"||t==="value"&&typeof r[t]!="string"||t==="mode"&&(typeof r[t]!="string"||r[t].toUpperCase()!="UNIQUE"))return!1;return!0},Ko=async r=>{const e=["name","timeevent","condition","logic"];if(r==null||Object.keys(r).length===0&&r.constructor===Object)return!1;for(const t of Object.keys(r))if(e.indexOf(t)===-1||t==="name"&&typeof r[t]!="string"||t==="timeevent"&&typeof r[t]!="string"||t==="condition"&&typeof r[t]!="string"||t==="logic"&&typeof r[t]!="string")return!1;return!0},sf=async r=>{const e=["name","value"];if(r==null||Object.keys(r).length===0&&r.constructor===Object)return!1;for(const t of Object.keys(r))if(e.indexOf(t)===-1||t==="name"&&typeof r[t]!="string"||t==="value"&&typeof r[t]!="string")return!1;return!0},Yo=async r=>{for(let e=0;e<r.length;e++){const t={},n=Object.keys(r[e]);if(n.includes("column")&&(t.column=r[e].column),n.includes("value")&&(t.value=r[e].value),n.includes("foreignkey")&&(t.foreignkey=r[e].foreignkey),n.includes("constraint")&&(t.constraint=r[e].constraint),!await Go(t))return Promise.reject(new Error(`CheckSchemaValidity: schema[${e}] not valid`))}return Promise.resolve()},Jo=async r=>{for(let e=0;e<r.length;e++){const t={},n=Object.keys(r[e]);if(n.includes("value")&&(t.value=r[e].value),n.includes("name")&&(t.name=r[e].name),n.includes("mode")&&(t.mode=r[e].mode),!await Vo(t))return Promise.reject(new Error(`CheckIndexesValidity: indexes[${e}] not valid`))}return Promise.resolve()},Zo=async r=>{for(let e=0;e<r.length;e++){const t={},n=Object.keys(r[e]);if(n.includes("logic")&&(t.logic=r[e].logic),n.includes("name")&&(t.name=r[e].name),n.includes("timeevent")&&(t.timeevent=r[e].timeevent),n.includes("condition")&&(t.condition=r[e].condition),!await Ko(t))return Promise.reject(new Error(`CheckTriggersValidity: triggers[${e}] not valid`))}return Promise.resolve()},cs=async(r,e)=>{let t=[];const n=[],s=[],i=`PRAGMA table_info('${e}');`;try{if(t=await lt(r,i,[]),t.length>0)for(const o of t)n.push(o.name),s.push(o.type);return Promise.resolve({names:n,types:s})}catch(o){return Promise.reject(new Error(`GetTableColumnNamesTypes: ${o.message}`))}},zs=async(r,e,t)=>{const n=[];try{const s=await cs(r,t);let i=[];if(Object.keys(s).includes("names"))i=s.names;else return Promise.reject(new Error(`GetValues: Table ${t} no names`));const o=await lt(r,e,[]);for(const a of o){const u=[];for(const c of i)Object.keys(a).includes(c)?u.push(a[c]):u.push(null);n.push(u)}return Promise.resolve(n)}catch(s){return Promise.reject(new Error(`GetValues: ${s.message}`))}},gr=async(r,e)=>{const t="BeginTransaction: ";if(!e)return Promise.reject(new Error(`${t}database not opened`));const n="BEGIN TRANSACTION;";try{return r.exec(n),Promise.resolve()}catch(s){return Promise.reject(new Error(`${t}${s.message}`))}},sr=async(r,e)=>{const t="RollbackTransaction: ";if(!e)return Promise.reject(new Error(`${t}database not opened`));const n="ROLLBACK TRANSACTION;";try{return r.exec(n),Promise.resolve()}catch(s){return Promise.reject(new Error(`${t}${s.message}`))}},vr=async(r,e)=>{const t="CommitTransaction: ";if(!e)return Promise.reject(new Error(`${t}database not opened`));const n="COMMIT TRANSACTION;";try{return r.exec(n),Promise.resolve()}catch(s){return Promise.reject(new Error(`${t}${s.message}`))}},Pt=async r=>{const e="SELECT total_changes()";let t=0;try{return t=r.exec(e)[0].values[0][0],Promise.resolve(t)}catch(n){return Promise.reject(new Error(`DbChanges failed: ${n.message}`))}},Ws=async r=>{const e="SELECT last_insert_rowid()";let t=-1;try{return t=r.exec(e)[0].values[0][0],Promise.resolve(t)}catch(n){return Promise.reject(new Error(`GetLastId failed: ${n.message}`))}},Cr=async(r,e)=>{let t="PRAGMA foreign_keys=OFF";e&&(t="PRAGMA foreign_keys=ON");try{return r.run(t),Promise.resolve()}catch(n){const s=n.message?n.message:n;return Promise.reject(new Error(`SetForeignKey: ${s}`))}},Di=async r=>{let e=0;try{return e=r.exec("PRAGMA user_version;")[0].values[0][0],Promise.resolve(e)}catch(t){return Promise.reject(new Error(`GetVersion: ${t.message}`))}},Qo=async(r,e)=>{try{return r.exec(`PRAGMA user_version = ${e}`),Promise.resolve()}catch(t){return Promise.reject(new Error(`SetVersion: ${t.message}`))}},wr=async(r,e,t)=>{let n=-1,s=-1;try{s=await Pt(r);var i=e;if(!t&&e.toLowerCase().includes("DELETE FROM".toLowerCase())){i=e.replace(/\n/g,"");let a=i.split(";");var o=[];for(const u of a)if(u.trim().substring(0,11).toUpperCase()==="DELETE FROM"&&u.toLowerCase().includes("WHERE".toLowerCase())){const d=u.trim(),h=await Xo(r,d,[]);o.push(h)}else o.push(u);i=o.join(";")}return r.exec(i),n=await Pt(r)-s,Promise.resolve(n)}catch(a){return Promise.reject(new Error(`Execute: ${a.message}`))}},of=async(r,e,t)=>{let n=-1;for(let s=0;s<e.length;s++){const i="statement"in e[s]?e[s].statement:null,o="values"in e[s]&&e[s].values.length>0?e[s].values:[];if(i==null){let a="ExecuteSet: Error No statement";return a+=` for index ${s}`,Promise.reject(new Error(a))}try{if(Array.isArray(o[0]))for(const a of o){const u=await Hn(a);await Er(r,i,u,t)}else{const a=await Hn(o);await Er(r,i,a,t)}n=await Ws(r)}catch(a){return Promise.reject(new Error(`ExecuteSet: ${a.message}`))}}return Promise.resolve(n)},lt=async(r,e,t)=>{const n=[];try{let s=[];if(t!=null&&t.length>0?s=r.exec(e,t):s=r.exec(e),s.length==0)return Promise.resolve([]);for(const i of s[0].values){const o={};for(let a=0;a<s[0].columns.length;a++)o[s[0].columns[a]]=i[a];n.push(o)}return Promise.resolve(n)}catch(s){return Promise.reject(new Error(`queryAll: ${s.message}`))}},Er=async(r,e,t,n)=>{let s=e.replace(/\n/g,"").trim().substring(0,6).toUpperCase(),i=-1,o=e;try{if(!n&&s==="DELETE"&&(o=await Xo(r,e,t)),t!=null&&t.length>0){const a=await Hn(t);r.exec(o,a)}else r.exec(o);return i=await Ws(r),Promise.resolve(i)}catch(a){return Promise.reject(new Error(`run: ${a.message}`))}},Xo=async(r,e,t)=>{let n=e;try{const s=await ta(r,!0),i=await ra(r,!0);if(s&&i){const o=e.toUpperCase().indexOf("WHERE"),a=e.substring(0,o-1),u=e.substring(o,e.length),c=a.substring(11).trim();n=`UPDATE ${c} SET sql_deleted = 1 ${u}`,await af(r,c,u,t)}return Promise.resolve(n)}catch(s){return Promise.reject(new Error(`deleteSQL: ${s.message}`))}},af=async(r,e,t,n)=>{try{const s=await hf(r,e),i=s.pop();for(const o of s){const a=await cf(o);if(a.length<=0)continue;const u=await uf(o);if(u.length<=0)continue;const c=await lf(o);if(c.length<=0)continue;const d=await ff(t,u,c);if(d.length<=6)continue;let h=i,g=c;i===e&&(h=a,g=u);const y="UPDATE "+h+" SET sql_deleted = 1 "+d;if(n!=null&&n.length>0){const w=await Hn(n);let S=t.split("?");S[S.length-1]===";"&&(S=S.slice(0,-1));let E=[];for(const[$,R]of S.entries())for(let N=0;N<g.length;N++)R.indexOf(g[N])>-1&&E.push(w[$]);r.exec(y,E)}else r.exec(y);if(await Ws(r)==-1){const w=`UPDATE sql_deleted failed for references table: ${a}`;return Promise.reject(new Error(`findReferencesAndUpdate: ${w}`))}}return}catch(s){return Promise.reject(new Error(`findReferencesAndUpdate: ${s.message}`))}},cf=async r=>{var e="";if(r.length>0){const t=r.split(new RegExp("REFERENCES","i"));if(t.length===2){const n=t[1].indexOf("(");e=t[1].substring(0,n).trim()}}return e},lf=async r=>{let e=[];if(r.length>0){const t=r.split(new RegExp("REFERENCES","i"));if(t.length===2){const n=t[1].indexOf("("),s=t[1].indexOf(")");e=t[1].substring(n+1,s).trim().split(",")}}return e},uf=async r=>{let e=[];if(r.length>0){const t=r.split(new RegExp("REFERENCES","i"));if(t.length===2){const n=t[0].indexOf("("),s=t[0].indexOf(")");e=t[0].substring(n+1,s).trim().split(",")}}return e},ff=async(r,e,t)=>{var n="";if(r.length>0){const s=r.toLowerCase().indexOf("WHERE".toLowerCase()),i=r.substring(s+6);if(e.length===t.length){for(let o=0;o<e.length;o++){let a="withRefsNames",u=i.indexOf(e[o]);if(u===-1&&(u=i.indexOf(t[o]),a="colNames"),u>-1){let c="";const d=i.indexOf("=",u);if(d>-1){const h=i.indexOf("AND",d),g=i.indexOf("and",d);h>-1?c=i.substring(d+1,h-1).trim():g>-1?c=i.substring(d+1,g-1).trim():c=i.substring(d+1,i.length).trim(),o>0&&(n+=" AND "),a==="withRefsNames"?n+=`${t[o]} = ${c}`:n+=`${e[o]} = ${c}`}}}n="WHERE "+n}}return n},hf=async(r,e)=>{const t="SELECT sql FROM sqlite_master WHERE sql LIKE('%FOREIGN KEY%') AND sql LIKE('%REFERENCES%') AND sql LIKE('%"+e+"%') AND sql LIKE('%ON DELETE%');";try{const n=await lt(r,t,[]);let s=[];return n.length>0&&(s=df(n[0].sql)),Promise.resolve(s)}catch(n){return Promise.reject(new Error(`getReferences: ${n.message}`))}},ea=async r=>{try{const e=await Ms(r);return Promise.resolve(e)}catch(e){return Promise.reject(new Error(`getTableList: ${e.message}`))}},Gt=async(r,e)=>{try{let t="SELECT name FROM sqlite_master WHERE ";t+=`type='table' AND name='${e}';`;const s=(await lt(r,t,[])).length>0;return Promise.resolve(s)}catch(t){return Promise.reject(new Error(`isTableExists: ${t.message}`))}},ta=async(r,e)=>{if(!e)return Promise.reject("isLastModified: database not opened");try{const t=await Ms(r);for(const n of t)if((await cs(r,n)).names.includes("last_modified"))return Promise.resolve(!0)}catch(t){return Promise.reject(`isLastModified: ${t}`)}},ra=async(r,e)=>{if(!e)return Promise.reject("isSqlDeleted: database not opened");try{const t=await Ms(r);for(const n of t)if((await cs(r,n)).names.includes("sql_deleted"))return Promise.resolve(!0)}catch(t){return Promise.reject(`isSqlDeleted: ${t}`)}},Hn=async r=>{const e=[];for(const t of r){let n=t;typeof t>"u"&&(n=null),e.push(n)}return Promise.resolve(e)},df=r=>{let e=[];const t=r.split(new RegExp("FOREIGN KEY","i"));for(let n=1;n<t.length;n++)e.push(t[n].split(new RegExp("ON DELETE","i"))[0].trim());if(r.substring(0,12).toLowerCase()==="CREATE TABLE".toLowerCase()){const n=r.indexOf("("),s=r.substring(13,n).trim();e.push(s)}return e},mf=async(r,e)=>{let t=-1;const n=e.version;try{return await Qo(r,n),e.mode==="full"&&await rf(r),t=await pf(r,e),Promise.resolve(t)}catch(s){return Promise.reject(new Error(`CreateDatabaseSchema: ${s.message}`))}},pf=async(r,e)=>{let t=0;try{await gr(r,!0)}catch(s){return Promise.reject(new Error(`CreateSchema: ${s.message}`))}const n=await yf(e);if(n.length>0){const s=n.join(`
`);try{if(t=await wr(r,s,!0),t<0)try{await sr(r,!0)}catch(i){return Promise.reject(new Error(`CreateSchema: changes < 0 ${i.message}`))}}catch(i){const o=i.message;try{return await sr(r,!0),Promise.reject(new Error(`CreateSchema: ${o}`))}catch(a){return Promise.reject(new Error(`CreateSchema: changes < 0 ${a.message}: ${o}`))}}}try{return await vr(r,!0),Promise.resolve(t)}catch(s){return Promise.reject(new Error(`CreateSchema: commit ${s.message}`))}},yf=async r=>{const e=[];let t=!1,n=!1;try{for(const s of r.tables){if(s.schema!=null&&s.schema.length>=1){e.push(`CREATE TABLE IF NOT EXISTS ${s.name} (`);for(let i=0;i<s.schema.length;i++)i===s.schema.length-1?s.schema[i].column?(e.push(`${s.schema[i].column} ${s.schema[i].value}`),s.schema[i].column==="last_modified"&&(t=!0),s.schema[i].column==="sql_deleted"&&(n=!0)):s.schema[i].foreignkey?e.push(`FOREIGN KEY (${s.schema[i].foreignkey}) ${s.schema[i].value}`):s.schema[i].constraint&&e.push(`CONSTRAINT ${s.schema[i].constraint} ${s.schema[i].value}`):s.schema[i].column?e.push(`${s.schema[i].column} ${s.schema[i].value},`):s.schema[i].foreignkey?e.push(`FOREIGN KEY (${s.schema[i].foreignkey}) ${s.schema[i].value},`):s.schema[i].primarykey?e.push(`FOREIGN KEY ${s.schema[i].value},`):s.schema[i].constraint&&e.push(`CONSTRAINT ${s.schema[i].constraint} ${s.schema[i].value},`);if(e.push(");"),t&&n){let i="CREATE TRIGGER IF NOT EXISTS ";i+=`${s.name}`,i+="_trigger_last_modified ",i+=`AFTER UPDATE ON ${s.name} `,i+="FOR EACH ROW WHEN NEW.last_modified < ",i+="OLD.last_modified BEGIN UPDATE ",i+=`${s.name} `,i+="SET last_modified = ",i+="(strftime('%s','now')) WHERE id=OLD.id; END;",e.push(i)}}if(s.indexes!=null&&s.indexes.length>=1)for(const i of s.indexes){const o=s.name;let a=`CREATE ${Object.keys(i).includes("mode")?i.mode+" ":""} INDEX IF NOT EXISTS `;a+=`${i.name} ON ${o} (${i.value});`,e.push(a)}if(s.triggers!=null&&s.triggers.length>=1)for(const i of s.triggers){const o=s.name;i.timeevent.toUpperCase().endsWith(" ON")&&(i.timeevent=i.timeevent.substring(0,i.timeevent.length-3));let a="CREATE TRIGGER IF NOT EXISTS ";a+=`${i.name} ${i.timeevent} ON ${o} `,i.condition&&(a+=`${i.condition} `),a+=`${i.logic};`,e.push(a)}}return Promise.resolve(e)}catch(s){return Promise.reject(s)}},gf=async(r,e,t)=>{let n=0,s=!1,i=-1,o="",a=-1;try{a=await Pt(r),await gr(r,!0)}catch(u){return Promise.reject(new Error(`createTablesData: ${u.message}`))}for(const u of e.tables)if(u.values!=null&&u.values.length>=1)try{i=await vf(r,u,e.mode);const c=`create table data ${u.name}`;if(t.emit({progress:c}),i<0)break;s=!0}catch(c){o=c.message,s=!1;break}if(s)try{return await vr(r,!0),n=await Pt(r)-a,Promise.resolve(n)}catch(u){return Promise.reject(new Error(`CreateTablesData: ${u.message}`))}else if(o.length>0)try{return await sr(r,!0),Promise.reject(new Error(`CreateTablesData: ${o}`))}catch(u){return Promise.reject(new Error(`CreateTablesData: ${u.message}: ${o}`))}else return Promise.resolve(0)},vf=async(r,e,t)=>{let n=-1;try{if(!await Gt(r,e.name))return Promise.reject(new Error(`CreateTableData: Table ${e.name} does not exist`));const i=await cs(r,e.name),o=i.types,a=i.names;if(o.length===0)return Promise.reject(new Error(`CreateTableData: Table ${e.name} info does not exist`));for(let u=0;u<e.values.length;u++){let c=e.values[u],d=!0;const h=await wf(r,a,c,u,e.name,t);if(d=await bf(r,h,c,e.name,a),d){if(h.substring(0,6).toUpperCase()==="DELETE"&&(c=[]),n=await Er(r,h,c,!0),n<0)return Promise.reject(new Error("CreateTableData: lastId < 0"))}else n=0}return Promise.resolve(n)}catch(s){return Promise.reject(new Error(`CreateTableData: ${s.message}`))}},wf=async(r,e,t,n,s,i)=>{if(t.length!=e.length||t.length===0||e.length===0)return Promise.reject(new Error(`CreateRowStatement: Table ${s} values row ${n} not correct length`));try{const o=await _f(r,s,e[0],t[0]);let a;if(i==="full"||i==="partial"&&!o){const u=e.join(),c=await Ef(e.length);a=`INSERT INTO ${s} (${u}) VALUES (`,a+=`${c});`}else{let u=!0;const c=h=>h==="sql_deleted",d=e.findIndex(c);if(d>=0&&t[d]===1&&(u=!1,a=`DELETE FROM ${s} WHERE `,typeof t[0]=="string"?a+=`${e[0]} = '${t[0]}';`:a+=`${e[0]} = ${t[0]};`),u){const h=await Pf(e);if(h.length===0)return Promise.reject(new Error(`CreateRowStatement: Table ${s} values row ${n} not set to String`));a=`UPDATE ${s} SET ${h} WHERE `,typeof t[0]=="string"?a+=`${e[0]} = '${t[0]}';`:a+=`${e[0]} = ${t[0]};`}}return Promise.resolve(a)}catch(o){return Promise.reject(new Error(`CreateRowStatement: ${o.message}`))}},bf=async(r,e,t,n,s)=>{let i=!0;if(e.substring(0,6)==="UPDATE")try{let o=`SELECT * FROM ${n} WHERE `;typeof t[0]=="string"?o+=`${s[0]} = '${t[0]}';`:o+=`${s[0]} = ${t[0]};`;const a=await zs(r,o,n);let u=[];if(a.length>0&&(u=a[0]),t.length>0&&u.length>0&&t.length===u.length){for(let c=0;c<t.length;c++)if(t[c]!==u[c])return Promise.resolve(!0);return Promise.resolve(!1)}else{const c="Both arrays not the same length";return Promise.reject(new Error(`CheckUpdate: ${c}`))}}catch(o){return Promise.reject(new Error(`CheckUpdate: ${o.message}`))}else return Promise.resolve(i)},_f=async(r,e,t,n)=>{let s=!1,i=`SELECT ${t} FROM ${e} WHERE ${t} = `;typeof n=="number"&&(i+=`${n};`),typeof n=="string"&&(i+=`'${n}';`);try{return(await lt(r,i,[])).length===1&&(s=!0),Promise.resolve(s)}catch(o){return Promise.reject(new Error(`IsIdExists: ${o.message}`))}},Ef=async r=>{let e="";for(let t=0;t<r;t++)e+="?,";return e.length>1?(e=e.slice(0,-1),Promise.resolve(e)):Promise.reject(new Error("CreateQuestionMarkString: length = 0"))},Pf=async r=>{let e="";for(const t of r)e+=`${t} = ? ,`;return e.length>1?(e=e.slice(0,-1),Promise.resolve(e)):Promise.reject(new Error("SetNameForUpdate: length = 0"))},Sf=async(r,e)=>{const t=`CREATE VIEW IF NOT EXISTS ${e.name} AS ${e.value};`;try{return await wr(r,t,!0)<0?Promise.reject(new Error(`CreateView: ${e.name} failed`)):Promise.resolve()}catch(n){return Promise.reject(new Error(`CreateView: ${n.message}`))}},xf=async(r,e)=>{let t=!1,n="",s=-1,i=-1;try{s=await Pt(r),await gr(r,!0)}catch(o){return Promise.reject(new Error(`createViews: ${o.message}`))}for(const o of e.views)if(o.value!=null)try{await Sf(r,o),t=!0}catch(a){n=a.message,t=!1;break}if(t)try{return await vr(r,!0),i=await Pt(r)-s,Promise.resolve(i)}catch(o){return Promise.reject(new Error(`createViews: ${o.message}`))}else if(n.length>0)try{return await sr(r,!0),Promise.reject(new Error(`createViews: ${n}`))}catch(o){return Promise.reject(new Error(`createViews: ${o.message}: ${n}`))}else return Promise.resolve(0)},kf=async(r,e,t)=>{const n={};let s=[],i=[],o="";try{i=await $f(r);const a=await Of(r);if(a.length===0)return Promise.reject(new Error("createExportObject: table's names failed"));if(!await Gt(r,"sync_table")&&e.mode==="partial")return Promise.reject(new Error("No sync_table available"));switch(e.mode){case"partial":{s=await Df(r,a,t);break}case"full":{s=await Tf(r,a,t);break}default:{o="createExportObject: expMode "+e.mode+" not defined";break}}return o.length>0?Promise.reject(new Error(o)):(s.length>0&&(n.database=e.database,n.version=e.version,n.encrypted=e.encrypted,n.mode=e.mode,n.tables=s,i.length>0&&(n.views=i)),Promise.resolve(n))}catch(a){return Promise.reject(new Error("createExportObject: "+a.message))}},$f=async r=>{const e=[];let t="SELECT name,sql FROM sqlite_master WHERE ";t+="type='view' AND name NOT LIKE 'sqlite_%';";let n=[];try{n=await lt(r,t,[]);for(const s of n){const i={};i.name=s.name,i.value=s.sql.substring(s.sql.indexOf("AS ")+3),e.push(i)}return Promise.resolve(e)}catch(s){return Promise.reject(new Error(`getViewsName: ${s.message}`))}},Tf=async(r,e,t)=>{const n=[];let s="";try{for(const i of e){let o,a;if(i.name)o=i.name;else{s="GetTablesFull: no name";break}if(i.sql)a=i.sql;else{s="GetTablesFull: no sql";break}const u={},c=await na(a);if(c.length===0){s="GetTablesFull: no Schema returned";break}await Yo(c);const d=await sa(r,o);d.length>0&&await Jo(d);const h=await ia(r,o);h.length>0&&await Zo(h);let g=`Full: Table ${o} schema export completed ...`;t.emit({progress:g});const y=`SELECT * FROM ${o};`,_=await zs(r,y,o);if(u.name=o,c.length>0)u.schema=c;else{s="GetTablesFull: must contain schema";break}if(d.length>0&&(u.indexes=d),h.length>0&&(u.triggers=h),_.length>0&&(u.values=_),Object.keys(u).length<=1){s=`GetTablesFull: table ${o} is not a jsonTable`;break}g=`Full: Table ${o} table data export completed ...`,t.emit({progress:g}),n.push(u)}return s.length>0?Promise.reject(new Error(s)):Promise.resolve(n)}catch(i){return Promise.reject(new Error(`GetTablesFull: ${i.message}`))}},na=async r=>{const e=[],t=r.indexOf("("),n=r.lastIndexOf(")");let s=r.substring(t+1,n);try{s=await If(s);const i=s.split(",");for(let o=0;o<i.length;o++){let a=[];const u=i[o].replace(/\n/g,"").trim();a[0]=u.substring(0,u.indexOf(" ")),a[1]=u.substring(u.indexOf(" ")+1);const c={};if(a[0].toUpperCase()==="FOREIGN"){const d=u.indexOf("("),h=u.indexOf(")"),y=u.substring(d+1,h).split("");a[0]=y.join(","),a[0]=a[0].replace(/, /g,","),a[1]=u.substring(h+2),c.foreignkey=a[0]}else if(a[0].toUpperCase()==="PRIMARY"){const d=u.indexOf("("),h=u.indexOf(")"),y=u.substring(d+1,h).split("");a[0]="CPK_"+y.join("_"),a[0]=a[0].replace(/_ /g,"_"),a[1]=u,c.constraint=a[0]}else if(a[0].toUpperCase()==="CONSTRAINT"){let d=[];const h=a[1].trim();d[0]=h.substring(0,h.indexOf(" ")),d[1]=h.substring(h.indexOf(" ")+1),a[0]=d[0],c.constraint=a[0],a[1]=d[1]}else c.column=a[0];c.value=a[1].replace(//g,","),e.push(c)}return Promise.resolve(e)}catch(i){return Promise.reject(new Error(i.message))}},sa=async(r,e)=>{const t=[];let n="";try{let s="SELECT name,tbl_name,sql FROM sqlite_master WHERE ";s+=`type = 'index' AND tbl_name = '${e}' `,s+="AND sql NOTNULL;";const i=await lt(r,s,[]);if(i.length>0){for(const o of i)if(Object.keys(o).length===3)if(o.tbl_name===e){const u=o.sql,c=u.includes("UNIQUE")?"UNIQUE":"",d=u.lastIndexOf("("),h=u.lastIndexOf(")"),g={};g.name=o.name,g.value=u.slice(d+1,h),c.length>0&&(g.mode=c),t.push(g)}else{n=`GetIndexes: Table ${e} doesn't match`;break}else{n=`GetIndexes: Table ${e} creating indexes`;break}if(n.length>0)return Promise.reject(new Error(n))}return Promise.resolve(t)}catch(s){return Promise.reject(new Error(`GetIndexes: ${s.message}`))}},ia=async(r,e)=>{const t=[];try{let n="SELECT name,tbl_name,sql FROM sqlite_master WHERE ";n+=`type = 'trigger' AND tbl_name = '${e}' `,n+="AND sql NOT NULL;";const s=await lt(r,n,[]);if(s.length>0)for(const i of s)if(Object.keys(i).length===3)if(i.tbl_name===e){const a=i.sql,u=i.name;let c=a.split(u);if(c.length!=2)return Promise.reject(new Error("GetTriggers: sql split name does not return 2 values"));if(!c[1].includes(e))return Promise.reject(new Error(`GetTriggers: sql split does not contains ${e}`));const d=c[1].split(e,1)[0].trim();if(c=c[1].split(d+" "+e),c.length!=2)return Promise.reject(new Error("GetTriggers: sql split tableName does not return 2 values"));let h="",g="";if(c[1].trim().substring(0,5).toUpperCase()!=="BEGIN"){if(c=c[1].trim().split("BEGIN"),c.length!=2)return Promise.reject(new Error("GetTriggers: sql split BEGIN does not return 2 values"));h=c[0].trim(),g="BEGIN"+c[1]}else g=c[1].trim();const y={};y.name=u,y.logic=g,h.length>0&&(y.condition=h),y.timeevent=d,t.push(y)}else return Promise.reject(new Error(`GetTriggers: Table ${e} doesn't match`));else return Promise.reject(new Error(`GetTriggers: Table ${e} creating indexes`));return Promise.resolve(t)}catch(n){return Promise.reject(new Error(`GetTriggers: ${n.message}`))}},Df=async(r,e,t)=>{const n=[];let s={},i=0,o=[],a="";try{const u=await Af(r,e);Object.keys(u).includes("syncDate")&&(i=u.syncDate),Object.keys(u).includes("modTables")&&(s=u.modTables,o=Object.keys(s));for(const c of e){let d="",h="";if(c.name)d=c.name;else{a="GetTablesFull: no name";break}if(c.sql)h=c.sql;else{a="GetTablesFull: no sql";break}if(o.length==0||o.indexOf(d)===-1||s[d]=="No")continue;const g={};let y=[],_=[],w=[];g.name=c,s[g.name]==="Create"&&(y=await na(h),y.length>0&&await Yo(y),_=await sa(r,d),_.length>0&&await Jo(_),w=await ia(r,d),w.length>0&&await Zo(w));let S=`Partial: Table ${d} schema export completed ...`;t.emit({progress:S});let E="";s[d]==="Create"?E=`SELECT * FROM ${d};`:E=`SELECT * FROM ${d} WHERE last_modified > ${i};`;const $=await zs(r,E,d);if(g.name=d,y.length>0&&(g.schema=y),_.length>0&&(g.indexes=_),w.length>0&&(g.triggers=w),$.length>0&&(g.values=$),Object.keys(g).length<=1){a=`GetTablesPartial: table ${d} is not a jsonTable`;break}S=`Partial: Table ${d} table data export completed ...`,t.emit({progress:S}),n.push(g)}return a.length>0?Promise.reject(new Error(a)):Promise.resolve(n)}catch(u){return Promise.reject(new Error(`GetTablesPartial: ${u.message}`))}},Af=async(r,e)=>{const t={};try{const n=await oa(r);if(n<=0)return Promise.reject(new Error("GetPartialModeData: no syncDate"));const s=await jf(r,e,n);return s.length<=0?Promise.reject(new Error("GetPartialModeData: no modTables")):(t.syncDate=n,t.modTables=s,Promise.resolve(t))}catch(n){return Promise.reject(new Error(`GetPartialModeData: ${n.message}`))}},Of=async r=>{let e="SELECT name,sql FROM sqlite_master WHERE ";e+="type='table' AND name NOT LIKE 'sync_table' ",e+="AND name NOT LIKE '_temp_%' ",e+="AND name NOT LIKE 'sqlite_%';";try{const t=await lt(r,e,[]);return Promise.resolve(t)}catch(t){return Promise.reject(new Error(`getTablesNamesSQL: ${t.message}`))}},jf=async(r,e,t)=>{let n="";try{const s={};for(const i of e){let o,a="SELECT count(*) AS tcount  ";a+=`FROM ${i.name};`;let u=await lt(r,a,[]);if(u.length!=1){n="GetTableModified: total count not returned";break}const c=u[0].tcount;if(a="SELECT count(*) AS mcount FROM ",a+=`${i.name} WHERE last_modified > `,a+=`${t};`,u=await lt(r,a,[]),u.length!=1)break;const d=u[0].mcount;d===0?o="No":c===d?o="Create":o="Modified";const h=i.name;s[h]=o}return n.length>0?Promise.reject(new Error(n)):Promise.resolve(s)}catch(s){return Promise.reject(new Error(`GetTableModified: ${s.message}`))}},oa=async r=>{try{const t=await lt(r,"SELECT sync_date FROM sync_table WHERE id = 1;",[]);return Promise.resolve(t[0].sync_date)}catch(e){const t=`GetSynchroDate: ${e.message}`;return Promise.reject(new Error(t))}},aa=async r=>{try{const t=await lt(r,"SELECT sync_date FROM sync_table WHERE id = 2;",[]);return t.length===0?Promise.resolve(-1):Promise.resolve(t[0].sync_date)}catch(e){const t=`getLastExport: ${e.message}`;return Promise.reject(new Error(t))}},Rf=async(r,e)=>{try{if(!await Gt(r,"sync_table"))return Promise.reject(new Error("setLastExportDate: No sync_table available"));const n=Math.round(new Date(e).getTime()/1e3);let s="";return await aa(r)>0?s=`UPDATE sync_table SET sync_date = ${n} WHERE id = 2;`:s=`INSERT INTO sync_table (sync_date) VALUES (${n});`,await wr(r,s,!1)<0?{result:!1,message:"setLastExportDate failed"}:{result:!0}}catch(t){return{result:!1,message:`setLastExportDate failed: ${t.message}`}}},Cf=async r=>{let e;try{if(!await Gt(r,"sync_table"))return Promise.reject(new Error("DelExportedRows: No sync_table available"));if(e=await aa(r),e<0)return Promise.reject(new Error("DelExportedRows: no last exported date available"));const n=await ea(r);if(n.length===0)return Promise.reject(new Error("DelExportedRows: No table's names returned"));for(const s of n){let i=-1;const o=`DELETE FROM ${s}
            WHERE sql_deleted = 1 AND last_modified < ${e};`;if(i=await Er(r,o,[],!0),i<0)return Promise.reject(new Error("DelExportedRows: lastId < 0"))}}catch(t){return Promise.reject(new Error(`DelExportedRows failed: ${t.message}`))}},If=async r=>{const e=Ai(r,"("),t=Ai(r,")");if(e.length!=t.length)return Promise.reject("ModEmbeddedParentheses: Not same number of '(' & ')'");if(e.length===0)return Promise.resolve(r);let n=r.substring(0,e[0]-1);for(let s=0;s<e.length;s++){let i;s<e.length-1&&e[s+1]<t[s]?(i=r.substring(e[s]-1,t[s+1]),s++):i=r.substring(e[s]-1,t[s]);const o=i.replace(/,/g,"");n+=o,s<e.length-1&&(n+=r.substring(t[s],e[s+1]-1))}return n+=r.substring(t[t.length-1],r.length),Promise.resolve(n)},Ai=(r,e)=>{let t=[...r];return e=e.toLowerCase(),t.reduce((n,s,i)=>s.toLowerCase()===e?[...n,i]:n,[])},Nf=async(r,e,t,n)=>{let s=-1;const i=new Int32Array(Object.keys(e).map(o=>parseInt(o))).sort();for(const o of i)if(o>t&&o<=n){const a=e[o].statements;if(a.length===0)return Promise.reject("onUpgrade: statements not given");try{await Cr(r,!1);const u=await Pt(r);await Lf(r,a),await Qo(r,o),await Cr(r,!0),s=await Pt(r)-u}catch(u){return Promise.reject(new Error(`onUpgrade: ${u.message}`))}}return Promise.resolve(s)},Lf=async(r,e)=>{try{await gr(r,!0);for(const t of e)await wr(r,t,!1);return await vr(r,!0),Promise.resolve()}catch(t){return await sr(r,!0),Promise.reject(`ExecuteStatementProcess: ${t}`)}};class Oi{constructor(e,t,n,s,i,o){this.vUpgDict={},this.autoSave=!1,this.wasmPath="/assets",this.isBackup=!1,this.dbName=e,this.store=s,this.version=t,this.mDb=null,this.vUpgDict=n,this._isDBOpen=!1,this.autoSave=i,this.wasmPath=o}async open(){const e={locateFile:t=>`${this.wasmPath}/${t}`};return new Promise((t,n)=>{try{Zu(e).then(async s=>{const i=await Us(this.dbName,this.store);i!=null?this.mDb=new s.Database(i):(this.mDb=new s.Database,await Qu(this.dbName,this.store)),this._isDBOpen=!0;let o=await Di(this.mDb);if(this.version>o&&Object.keys(this.vUpgDict).length>0)try{if(await Lt(this.dbName,this.store)&&(await ef(this.dbName,`backup-${this.dbName}`,this.store),this.isBackup=!0),await Nf(this.mDb,this.vUpgDict,o,this.version)===-1)try{this.isBackup&&await Ti(this.dbName,"backup",this.store)}catch(c){return n(new Error(`Open: ${c.message}`))}this.isBackup&&await pr(`backup-${this.dbName}`,this.store)}catch{try{this.isBackup&&await Ti(this.dbName,"backup",this.store)}catch(u){return n(new Error(`Open: ${u.message}`))}}if(this.autoSave)try{await this.saveToStore()}catch(a){return this._isDBOpen=!1,n(`Open: ${a}`)}return await Cr(this.mDb,!0),t()})}catch(s){return this._isDBOpen=!1,n(`in open ${s}`)}})}isDBOpen(){return this._isDBOpen}async close(){if(this.mDb!=null&&this._isDBOpen)try{await this.saveToStore(!1),this.mDb.close(),this._isDBOpen=!1}catch(e){return this._isDBOpen=!1,Promise.reject(`in close ${e}`)}return Promise.resolve()}async saveToStore(e=!0){if(this.mDb!=null&&this._isDBOpen)try{await Xu(this.mDb,this.dbName,this.store),e&&await Cr(this.mDb,!0)}catch(t){return Promise.reject(`in saveToStore ${t}`)}return Promise.resolve()}async exportDB(){try{return this.mDb.export()}catch(e){const t=e.message?e.message:e;return Promise.reject(`exportDB: ${t}`)}}async getVersion(){if(this.mDb!=null&&this._isDBOpen)try{const e=await Di(this.mDb);return Promise.resolve(e)}catch(e){return this._isDBOpen=!1,Promise.reject(`in getVersion ${e}`)}}async isDBExists(e){try{const t=await Lt(e,this.store);return Promise.resolve(t)}catch(t){return Promise.reject(`in isDBExists ${t}`)}}async deleteDB(e){try{const t=await this.isDBExists(e);return t&&!this._isDBOpen&&await this.open(),await this.close(),t&&await pr(e,this.store),Promise.resolve()}catch(t){return Promise.reject(new Error(`DeleteDB: ${t.message}`))}}async executeSQL(e,t=!0){if(!this._isDBOpen){let n=`ExecuteSQL: Database ${this.dbName} `;return n+="not opened",Promise.reject(new Error(n))}try{t&&await gr(this.mDb,this._isDBOpen)}catch(n){let s=`executeSQL: ${n.message}`;return Promise.reject(new Error(`${s}`))}try{const n=await wr(this.mDb,e,!1);if(n<0)return Promise.reject(new Error("ExecuteSQL: changes < 0"));if(t&&await vr(this.mDb,this._isDBOpen),this.autoSave)try{await this.saveToStore()}catch(s){return this._isDBOpen=!1,Promise.reject(`ExecuteSQL: ${s}`)}return Promise.resolve(n)}catch(n){let s=`ExecuteSQL: ${n.message}`;try{t&&await sr(this.mDb,this._isDBOpen)}catch(i){s+=` : ${i.message}`}return Promise.reject(new Error(`ExecuteSQL: ${s}`))}}async execSet(e,t=!0){if(!this._isDBOpen){let i=`ExecSet: Database ${this.dbName} `;return i+="not opened",Promise.reject(new Error(i))}const n={changes:-1,lastId:-1};let s=-1;try{s=await Pt(this.mDb),t&&await gr(this.mDb,this._isDBOpen)}catch(i){let o=`ExecSet: ${i.message}`;return Promise.reject(new Error(`${o}`))}try{const i=await of(this.mDb,e,!1);if(i<0)return Promise.reject(new Error("ExecSet: changes < 0"));t&&await vr(this.mDb,this._isDBOpen);const o=await Pt(this.mDb)-s;if(n.changes=o,n.lastId=i,this.autoSave)try{await this.saveToStore()}catch(a){return this._isDBOpen=!1,Promise.reject(`ExecSet: ${a}`)}return Promise.resolve(n)}catch(i){let o=`ExecSet: ${i.message}`;try{t&&await sr(this.mDb,this._isDBOpen)}catch(a){o+=` : ${a.message}`}return Promise.reject(new Error(`ExecSet: ${o}`))}}async selectSQL(e,t){if(!this._isDBOpen){let n=`SelectSQL: Database ${this.dbName} `;return n+="not opened",Promise.reject(new Error(n))}try{let n=await lt(this.mDb,e,t);return Promise.resolve(n)}catch(n){return Promise.reject(new Error(`SelectSQL: ${n.message}`))}}async runSQL(e,t,n=!0){let s=-1;if(!this._isDBOpen){let a=`RunSQL: Database ${this.dbName} `;return a+="not opened",Promise.reject(new Error(a))}const i={changes:-1,lastId:-1};let o=-1;try{o=await Pt(this.mDb),n&&await gr(this.mDb,this._isDBOpen)}catch(a){let u=`RunSQL: ${a.message}`;return Promise.reject(new Error(`${u}`))}try{if(s=await Er(this.mDb,e,t,!1),s<0)return Promise.reject(new Error("RunSQL: lastId < 0"));n&&await vr(this.mDb,this._isDBOpen);const a=await Pt(this.mDb)-o;if(i.changes=a,i.lastId=s,this.autoSave)try{await this.saveToStore()}catch(u){return this._isDBOpen=!1,Promise.reject(`RunSQL: ${u}`)}return Promise.resolve(i)}catch(a){let u=`RunSQL: ${a.message}`;try{n&&await sr(this.mDb,this._isDBOpen)}catch(c){u+=` : ${c.message}`}return Promise.reject(new Error(`${u}`))}}async getTableNames(){if(!this._isDBOpen){let e=`GetTableNames: Database ${this.dbName} `;return e+="not opened",Promise.reject(new Error(e))}try{let e=await ea(this.mDb);return Promise.resolve(e)}catch(e){return Promise.reject(new Error(`GetTableNames: ${e.message}`))}}async isTable(e){if(!this._isDBOpen){let t=`isTable: Database ${this.dbName} `;return t+="not opened",Promise.reject(new Error(t))}try{const t=await Gt(this.mDb,e);return Promise.resolve(t)}catch(t){const n=`IsTable: ${t.message}`;return Promise.reject(new Error(n))}}async createSyncTable(){if(!this._isDBOpen){let t=`createSyncTable: Database ${this.dbName} `;return t+="not opened",Promise.reject(new Error(t))}let e=-1;try{if(await Gt(this.mDb,"sync_table"))return Promise.resolve(0);{const n=await ta(this.mDb,this._isDBOpen),s=await ra(this.mDb,this._isDBOpen);if(n&&s){const i=Math.round(new Date().getTime()/1e3);let o=`
                          CREATE TABLE IF NOT EXISTS sync_table (
                              id INTEGER PRIMARY KEY NOT NULL,
                              sync_date INTEGER
                              );`;return o+=`INSERT INTO sync_table (sync_date) VALUES (
                              "${i}");`,e=await wr(this.mDb,o,!1),Promise.resolve(e)}else return Promise.reject(new Error("No last_modified/sql_deleted columns in tables"))}}catch(t){const n=`CreateSyncTable: ${t.message}`;return Promise.reject(new Error(n))}}async getSyncDate(){if(!this._isDBOpen){let e=`getSyncDate: Database ${this.dbName} `;return e+="not opened",Promise.reject(new Error(e))}try{if(!await Gt(this.mDb,"sync_table"))return Promise.reject(new Error("No sync_table available"));const t=await oa(this.mDb);return Promise.resolve(t)}catch(e){const t=`getSyncDate: ${e.message}`;return Promise.reject(new Error(t))}}async setSyncDate(e){if(!this._isDBOpen){let t=`SetSyncDate: Database ${this.dbName} `;return t+="not opened",{result:!1,message:t}}try{if(!await Gt(this.mDb,"sync_table"))return Promise.reject(new Error("No sync_table available"));const n=Math.round(new Date(e).getTime()/1e3);let s="UPDATE sync_table SET sync_date = ";return s+=`${n} WHERE id = 1;`,await wr(this.mDb,s,!1)<0?{result:!1,message:"setSyncDate failed"}:{result:!0}}catch(t){return{result:!1,message:`setSyncDate failed: ${t.message}`}}}async importJson(e,t){let n=0;if(this._isDBOpen)try{if(await Cr(this.mDb,!1),e.tables&&e.tables.length>0){n=await mf(this.mDb,e);let s=`Schema creation completed changes: ${n}`;if(t.emit({progress:s}),n!=-1){n+=await gf(this.mDb,e,t);let i=`Tables data creation completed changes: ${n}`;t.emit({progress:i})}}return e.views&&e.views.length>0&&(n+=await xf(this.mDb,e)),await Cr(this.mDb,!0),await this.saveToStore(),Promise.resolve(n)}catch(s){return Promise.reject(new Error(`ImportJson: ${s.message}`))}else return Promise.reject(new Error("ImportJson: database is closed"))}async exportJson(e,t){const n={};if(n.database=this.dbName.slice(0,-9),n.version=this.version,n.encrypted=!1,n.mode=e,this._isDBOpen)try{await Gt(this.mDb,"sync_table")&&await Rf(this.mDb,new Date().toISOString());const i=await kf(this.mDb,n,t);if(Object.keys(i).length===0){const u="ExportJson: return Object is empty No data to synchronize";return Promise.reject(new Error(u))}return $s(i)?Promise.resolve(i):Promise.reject(new Error("ExportJson: retJson not valid"))}catch(s){return Promise.reject(new Error(`ExportJson: ${s.message}`))}else return Promise.reject(new Error("ExportJson: database is closed"))}async deleteExportedRows(){if(this._isDBOpen)try{return await Cf(this.mDb),Promise.resolve()}catch(e){return Promise.reject(new Error(`deleteExportedRows: ${e.message}`))}else return Promise.reject(new Error("deleteExportedRows: database is closed"))}}var ji=Ns(function(r,e){/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t){r.exports=t()})(function(){return function t(n,s,i){function o(c,d){if(!s[c]){if(!n[c]){var h=typeof Jt=="function"&&Jt;if(!d&&h)return h(c,!0);if(a)return a(c,!0);var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g}var y=s[c]={exports:{}};n[c][0].call(y.exports,function(_){var w=n[c][1][_];return o(w||_)},y,y.exports,t,n,s,i)}return s[c].exports}for(var a=typeof Jt=="function"&&Jt,u=0;u<i.length;u++)o(i[u]);return o}({1:[function(t,n,s){(function(i){var o=i.MutationObserver||i.WebKitMutationObserver,a;if(o){var u=0,c=new o(_),d=i.document.createTextNode("");c.observe(d,{characterData:!0}),a=function(){d.data=u=++u%2}}else if(!i.setImmediate&&typeof i.MessageChannel<"u"){var h=new i.MessageChannel;h.port1.onmessage=_,a=function(){h.port2.postMessage(0)}}else"document"in i&&"onreadystatechange"in i.document.createElement("script")?a=function(){var S=i.document.createElement("script");S.onreadystatechange=function(){_(),S.onreadystatechange=null,S.parentNode.removeChild(S),S=null},i.document.documentElement.appendChild(S)}:a=function(){setTimeout(_,0)};var g,y=[];function _(){g=!0;for(var S,E,$=y.length;$;){for(E=y,y=[],S=-1;++S<$;)E[S]();$=y.length}g=!1}n.exports=w;function w(S){y.push(S)===1&&!g&&a()}}).call(this,typeof nr<"u"?nr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(t,n,s){var i=t(1);function o(){}var a={},u=["REJECTED"],c=["FULFILLED"],d=["PENDING"];n.exports=h;function h(D){if(typeof D!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,D!==o&&w(this,D)}h.prototype.catch=function(D){return this.then(null,D)},h.prototype.then=function(D,V){if(typeof D!="function"&&this.state===c||typeof V!="function"&&this.state===u)return this;var B=new this.constructor(o);if(this.state!==d){var K=this.state===c?D:V;y(B,K,this.outcome)}else this.queue.push(new g(B,D,V));return B};function g(D,V,B){this.promise=D,typeof V=="function"&&(this.onFulfilled=V,this.callFulfilled=this.otherCallFulfilled),typeof B=="function"&&(this.onRejected=B,this.callRejected=this.otherCallRejected)}g.prototype.callFulfilled=function(D){a.resolve(this.promise,D)},g.prototype.otherCallFulfilled=function(D){y(this.promise,this.onFulfilled,D)},g.prototype.callRejected=function(D){a.reject(this.promise,D)},g.prototype.otherCallRejected=function(D){y(this.promise,this.onRejected,D)};function y(D,V,B){i(function(){var K;try{K=V(B)}catch(q){return a.reject(D,q)}K===D?a.reject(D,new TypeError("Cannot resolve promise with itself")):a.resolve(D,K)})}a.resolve=function(D,V){var B=S(_,V);if(B.status==="error")return a.reject(D,B.value);var K=B.value;if(K)w(D,K);else{D.state=c,D.outcome=V;for(var q=-1,W=D.queue.length;++q<W;)D.queue[q].callFulfilled(V)}return D},a.reject=function(D,V){D.state=u,D.outcome=V;for(var B=-1,K=D.queue.length;++B<K;)D.queue[B].callRejected(V);return D};function _(D){var V=D&&D.then;if(D&&(typeof D=="object"||typeof D=="function")&&typeof V=="function")return function(){V.apply(D,arguments)}}function w(D,V){var B=!1;function K(T){B||(B=!0,a.reject(D,T))}function q(T){B||(B=!0,a.resolve(D,T))}function W(){V(q,K)}var ce=S(W);ce.status==="error"&&K(ce.value)}function S(D,V){var B={};try{B.value=D(V),B.status="success"}catch(K){B.status="error",B.value=K}return B}h.resolve=E;function E(D){return D instanceof this?D:a.resolve(new this(o),D)}h.reject=$;function $(D){var V=new this(o);return a.reject(V,D)}h.all=R;function R(D){var V=this;if(Object.prototype.toString.call(D)!=="[object Array]")return this.reject(new TypeError("must be an array"));var B=D.length,K=!1;if(!B)return this.resolve([]);for(var q=new Array(B),W=0,ce=-1,T=new this(o);++ce<B;)G(D[ce],ce);return T;function G(v,Z){V.resolve(v).then(Ee,function(Q){K||(K=!0,a.reject(T,Q))});function Ee(Q){q[Z]=Q,++W===B&&!K&&(K=!0,a.resolve(T,q))}}}h.race=N;function N(D){var V=this;if(Object.prototype.toString.call(D)!=="[object Array]")return this.reject(new TypeError("must be an array"));var B=D.length,K=!1;if(!B)return this.resolve([]);for(var q=-1,W=new this(o);++q<B;)ce(D[q]);return W;function ce(T){V.resolve(T).then(function(G){K||(K=!0,a.resolve(W,G))},function(G){K||(K=!0,a.reject(W,G))})}}},{1:1}],3:[function(t,n,s){(function(i){typeof i.Promise!="function"&&(i.Promise=t(2))}).call(this,typeof nr<"u"?nr:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(t,n,s){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};function o(b,j){if(!(b instanceof j))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=a();function c(){try{if(!u||!u.open)return!1;var b=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),j=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!b||j)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function d(b,j){b=b||[],j=j||{};try{return new Blob(b,j)}catch(I){if(I.name!=="TypeError")throw I;for(var k=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,L=new k,U=0;U<b.length;U+=1)L.append(b[U]);return L.getBlob(j.type)}}typeof Promise>"u"&&t(3);var h=Promise;function g(b,j){j&&b.then(function(k){j(null,k)},function(k){j(k)})}function y(b,j,k){typeof j=="function"&&b.then(j),typeof k=="function"&&b.catch(k)}function _(b){return typeof b!="string"&&(console.warn(b+" used as a key, but it is not a string."),b=String(b)),b}function w(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var S="local-forage-detect-blob-support",E=void 0,$={},R=Object.prototype.toString,N="readonly",D="readwrite";function V(b){for(var j=b.length,k=new ArrayBuffer(j),L=new Uint8Array(k),U=0;U<j;U++)L[U]=b.charCodeAt(U);return k}function B(b){return new h(function(j){var k=b.transaction(S,D),L=d([""]);k.objectStore(S).put(L,"key"),k.onabort=function(U){U.preventDefault(),U.stopPropagation(),j(!1)},k.oncomplete=function(){var U=navigator.userAgent.match(/Chrome\/(\d+)/),I=navigator.userAgent.match(/Edge\//);j(I||!U||parseInt(U[1],10)>=43)}}).catch(function(){return!1})}function K(b){return typeof E=="boolean"?h.resolve(E):B(b).then(function(j){return E=j,E})}function q(b){var j=$[b.name],k={};k.promise=new h(function(L,U){k.resolve=L,k.reject=U}),j.deferredOperations.push(k),j.dbReady?j.dbReady=j.dbReady.then(function(){return k.promise}):j.dbReady=k.promise}function W(b){var j=$[b.name],k=j.deferredOperations.pop();if(k)return k.resolve(),k.promise}function ce(b,j){var k=$[b.name],L=k.deferredOperations.pop();if(L)return L.reject(j),L.promise}function T(b,j){return new h(function(k,L){if($[b.name]=$[b.name]||M(),b.db)if(j)q(b),b.db.close();else return k(b.db);var U=[b.name];j&&U.push(b.version);var I=u.open.apply(u,U);j&&(I.onupgradeneeded=function(ee){var ae=I.result;try{ae.createObjectStore(b.storeName),ee.oldVersion<=1&&ae.createObjectStore(S)}catch(he){if(he.name==="ConstraintError")console.warn('The database "'+b.name+'" has been upgraded from version '+ee.oldVersion+" to version "+ee.newVersion+', but the storage "'+b.storeName+'" already exists.');else throw he}}),I.onerror=function(ee){ee.preventDefault(),L(I.error)},I.onsuccess=function(){var ee=I.result;ee.onversionchange=function(ae){ae.target.close()},k(ee),W(b)}})}function G(b){return T(b,!1)}function v(b){return T(b,!0)}function Z(b,j){if(!b.db)return!0;var k=!b.db.objectStoreNames.contains(b.storeName),L=b.version<b.db.version,U=b.version>b.db.version;if(L&&(b.version!==j&&console.warn('The database "'+b.name+`" can't be downgraded from version `+b.db.version+" to version "+b.version+"."),b.version=b.db.version),U||k){if(k){var I=b.db.version+1;I>b.version&&(b.version=I)}return!0}return!1}function Ee(b){return new h(function(j,k){var L=new FileReader;L.onerror=k,L.onloadend=function(U){var I=btoa(U.target.result||"");j({__local_forage_encoded_blob:!0,data:I,type:b.type})},L.readAsBinaryString(b)})}function Q(b){var j=V(atob(b.data));return d([j],{type:b.type})}function xe(b){return b&&b.__local_forage_encoded_blob}function fe(b){var j=this,k=j._initReady().then(function(){var L=$[j._dbInfo.name];if(L&&L.dbReady)return L.dbReady});return y(k,b,b),k}function oe(b){q(b);for(var j=$[b.name],k=j.forages,L=0;L<k.length;L++){var U=k[L];U._dbInfo.db&&(U._dbInfo.db.close(),U._dbInfo.db=null)}return b.db=null,G(b).then(function(I){return b.db=I,Z(b)?v(b):I}).then(function(I){b.db=j.db=I;for(var ee=0;ee<k.length;ee++)k[ee]._dbInfo.db=I}).catch(function(I){throw ce(b,I),I})}function F(b,j,k,L){L===void 0&&(L=1);try{var U=b.db.transaction(b.storeName,j);k(null,U)}catch(I){if(L>0&&(!b.db||I.name==="InvalidStateError"||I.name==="NotFoundError"))return h.resolve().then(function(){if(!b.db||I.name==="NotFoundError"&&!b.db.objectStoreNames.contains(b.storeName)&&b.version<=b.db.version)return b.db&&(b.version=b.db.version+1),v(b)}).then(function(){return oe(b).then(function(){F(b,j,k,L-1)})}).catch(k);k(I)}}function M(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function be(b){var j=this,k={db:null};if(b)for(var L in b)k[L]=b[L];var U=$[k.name];U||(U=M(),$[k.name]=U),U.forages.push(j),j._initReady||(j._initReady=j.ready,j.ready=fe);var I=[];function ee(){return h.resolve()}for(var ae=0;ae<U.forages.length;ae++){var he=U.forages[ae];he!==j&&I.push(he._initReady().catch(ee))}var me=U.forages.slice(0);return h.all(I).then(function(){return k.db=U.db,G(k)}).then(function(ye){return k.db=ye,Z(k,j._defaultConfig.version)?v(k):ye}).then(function(ye){k.db=U.db=ye,j._dbInfo=k;for(var _e=0;_e<me.length;_e++){var Ae=me[_e];Ae!==j&&(Ae._dbInfo.db=k.db,Ae._dbInfo.version=k.version)}})}function ge(b,j){var k=this;b=_(b);var L=new h(function(U,I){k.ready().then(function(){F(k._dbInfo,N,function(ee,ae){if(ee)return I(ee);try{var he=ae.objectStore(k._dbInfo.storeName),me=he.get(b);me.onsuccess=function(){var ye=me.result;ye===void 0&&(ye=null),xe(ye)&&(ye=Q(ye)),U(ye)},me.onerror=function(){I(me.error)}}catch(ye){I(ye)}})}).catch(I)});return g(L,j),L}function ue(b,j){var k=this,L=new h(function(U,I){k.ready().then(function(){F(k._dbInfo,N,function(ee,ae){if(ee)return I(ee);try{var he=ae.objectStore(k._dbInfo.storeName),me=he.openCursor(),ye=1;me.onsuccess=function(){var _e=me.result;if(_e){var Ae=_e.value;xe(Ae)&&(Ae=Q(Ae));var Ce=b(Ae,_e.key,ye++);Ce!==void 0?U(Ce):_e.continue()}else U()},me.onerror=function(){I(me.error)}}catch(_e){I(_e)}})}).catch(I)});return g(L,j),L}function Be(b,j,k){var L=this;b=_(b);var U=new h(function(I,ee){var ae;L.ready().then(function(){return ae=L._dbInfo,R.call(j)==="[object Blob]"?K(ae.db).then(function(he){return he?j:Ee(j)}):j}).then(function(he){F(L._dbInfo,D,function(me,ye){if(me)return ee(me);try{var _e=ye.objectStore(L._dbInfo.storeName);he===null&&(he=void 0);var Ae=_e.put(he,b);ye.oncomplete=function(){he===void 0&&(he=null),I(he)},ye.onabort=ye.onerror=function(){var Ce=Ae.error?Ae.error:Ae.transaction.error;ee(Ce)}}catch(Ce){ee(Ce)}})}).catch(ee)});return g(U,k),U}function Ge(b,j){var k=this;b=_(b);var L=new h(function(U,I){k.ready().then(function(){F(k._dbInfo,D,function(ee,ae){if(ee)return I(ee);try{var he=ae.objectStore(k._dbInfo.storeName),me=he.delete(b);ae.oncomplete=function(){U()},ae.onerror=function(){I(me.error)},ae.onabort=function(){var ye=me.error?me.error:me.transaction.error;I(ye)}}catch(ye){I(ye)}})}).catch(I)});return g(L,j),L}function Oe(b){var j=this,k=new h(function(L,U){j.ready().then(function(){F(j._dbInfo,D,function(I,ee){if(I)return U(I);try{var ae=ee.objectStore(j._dbInfo.storeName),he=ae.clear();ee.oncomplete=function(){L()},ee.onabort=ee.onerror=function(){var me=he.error?he.error:he.transaction.error;U(me)}}catch(me){U(me)}})}).catch(U)});return g(k,b),k}function Re(b){var j=this,k=new h(function(L,U){j.ready().then(function(){F(j._dbInfo,N,function(I,ee){if(I)return U(I);try{var ae=ee.objectStore(j._dbInfo.storeName),he=ae.count();he.onsuccess=function(){L(he.result)},he.onerror=function(){U(he.error)}}catch(me){U(me)}})}).catch(U)});return g(k,b),k}function He(b,j){var k=this,L=new h(function(U,I){if(b<0){U(null);return}k.ready().then(function(){F(k._dbInfo,N,function(ee,ae){if(ee)return I(ee);try{var he=ae.objectStore(k._dbInfo.storeName),me=!1,ye=he.openKeyCursor();ye.onsuccess=function(){var _e=ye.result;if(!_e){U(null);return}b===0||me?U(_e.key):(me=!0,_e.advance(b))},ye.onerror=function(){I(ye.error)}}catch(_e){I(_e)}})}).catch(I)});return g(L,j),L}function We(b){var j=this,k=new h(function(L,U){j.ready().then(function(){F(j._dbInfo,N,function(I,ee){if(I)return U(I);try{var ae=ee.objectStore(j._dbInfo.storeName),he=ae.openKeyCursor(),me=[];he.onsuccess=function(){var ye=he.result;if(!ye){L(me);return}me.push(ye.key),ye.continue()},he.onerror=function(){U(he.error)}}catch(ye){U(ye)}})}).catch(U)});return g(k,b),k}function Ze(b,j){j=w.apply(this,arguments);var k=this.config();b=typeof b!="function"&&b||{},b.name||(b.name=b.name||k.name,b.storeName=b.storeName||k.storeName);var L=this,U;if(!b.name)U=h.reject("Invalid arguments");else{var I=b.name===k.name&&L._dbInfo.db,ee=I?h.resolve(L._dbInfo.db):G(b).then(function(ae){var he=$[b.name],me=he.forages;he.db=ae;for(var ye=0;ye<me.length;ye++)me[ye]._dbInfo.db=ae;return ae});b.storeName?U=ee.then(function(ae){if(ae.objectStoreNames.contains(b.storeName)){var he=ae.version+1;q(b);var me=$[b.name],ye=me.forages;ae.close();for(var _e=0;_e<ye.length;_e++){var Ae=ye[_e];Ae._dbInfo.db=null,Ae._dbInfo.version=he}var Ce=new h(function(Le,Ye){var Ue=u.open(b.name,he);Ue.onerror=function(it){var Mt=Ue.result;Mt.close(),Ye(it)},Ue.onupgradeneeded=function(){var it=Ue.result;it.deleteObjectStore(b.storeName)},Ue.onsuccess=function(){var it=Ue.result;it.close(),Le(it)}});return Ce.then(function(Le){me.db=Le;for(var Ye=0;Ye<ye.length;Ye++){var Ue=ye[Ye];Ue._dbInfo.db=Le,W(Ue._dbInfo)}}).catch(function(Le){throw(ce(b,Le)||h.resolve()).catch(function(){}),Le})}}):U=ee.then(function(ae){q(b);var he=$[b.name],me=he.forages;ae.close();for(var ye=0;ye<me.length;ye++){var _e=me[ye];_e._dbInfo.db=null}var Ae=new h(function(Ce,Le){var Ye=u.deleteDatabase(b.name);Ye.onerror=function(){var Ue=Ye.result;Ue&&Ue.close(),Le(Ye.error)},Ye.onblocked=function(){console.warn('dropInstance blocked for database "'+b.name+'" until all open connections are closed')},Ye.onsuccess=function(){var Ue=Ye.result;Ue&&Ue.close(),Ce(Ue)}});return Ae.then(function(Ce){he.db=Ce;for(var Le=0;Le<me.length;Le++){var Ye=me[Le];W(Ye._dbInfo)}}).catch(function(Ce){throw(ce(b,Ce)||h.resolve()).catch(function(){}),Ce})})}return g(U,j),U}var rt={_driver:"asyncStorage",_initStorage:be,_support:c(),iterate:ue,getItem:ge,setItem:Be,removeItem:Ge,clear:Oe,length:Re,key:He,keys:We,dropInstance:Ze};function m(){return typeof openDatabase=="function"}var X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Y="~~local_forage_type~",A=/^~~local_forage_type~([^~]+)~/,P="__lfsc__:",C=P.length,se="arbf",ne="blob",H="si08",de="ui08",ve="uic8",pe="si16",Pe="si32",Fe="ur16",De="ui32",et="fl32",xt="fl64",nt=C+se.length,jt=Object.prototype.toString;function Ve(b){var j=b.length*.75,k=b.length,L,U=0,I,ee,ae,he;b[b.length-1]==="="&&(j--,b[b.length-2]==="="&&j--);var me=new ArrayBuffer(j),ye=new Uint8Array(me);for(L=0;L<k;L+=4)I=X.indexOf(b[L]),ee=X.indexOf(b[L+1]),ae=X.indexOf(b[L+2]),he=X.indexOf(b[L+3]),ye[U++]=I<<2|ee>>4,ye[U++]=(ee&15)<<4|ae>>2,ye[U++]=(ae&3)<<6|he&63;return me}function Rt(b){var j=new Uint8Array(b),k="",L;for(L=0;L<j.length;L+=3)k+=X[j[L]>>2],k+=X[(j[L]&3)<<4|j[L+1]>>4],k+=X[(j[L+1]&15)<<2|j[L+2]>>6],k+=X[j[L+2]&63];return j.length%3===2?k=k.substring(0,k.length-1)+"=":j.length%3===1&&(k=k.substring(0,k.length-2)+"=="),k}function ke(b,j){var k="";if(b&&(k=jt.call(b)),b&&(k==="[object ArrayBuffer]"||b.buffer&&jt.call(b.buffer)==="[object ArrayBuffer]")){var L,U=P;b instanceof ArrayBuffer?(L=b,U+=se):(L=b.buffer,k==="[object Int8Array]"?U+=H:k==="[object Uint8Array]"?U+=de:k==="[object Uint8ClampedArray]"?U+=ve:k==="[object Int16Array]"?U+=pe:k==="[object Uint16Array]"?U+=Fe:k==="[object Int32Array]"?U+=Pe:k==="[object Uint32Array]"?U+=De:k==="[object Float32Array]"?U+=et:k==="[object Float64Array]"?U+=xt:j(new Error("Failed to get type for BinaryArray"))),j(U+Rt(L))}else if(k==="[object Blob]"){var I=new FileReader;I.onload=function(){var ee=Y+b.type+"~"+Rt(this.result);j(P+ne+ee)},I.readAsArrayBuffer(b)}else try{j(JSON.stringify(b))}catch(ee){console.error("Couldn't convert value into a JSON string: ",b),j(null,ee)}}function ut(b){if(b.substring(0,C)!==P)return JSON.parse(b);var j=b.substring(nt),k=b.substring(C,nt),L;if(k===ne&&A.test(j)){var U=j.match(A);L=U[1],j=j.substring(U[0].length)}var I=Ve(j);switch(k){case se:return I;case ne:return d([I],{type:L});case H:return new Int8Array(I);case de:return new Uint8Array(I);case ve:return new Uint8ClampedArray(I);case pe:return new Int16Array(I);case Fe:return new Uint16Array(I);case Pe:return new Int32Array(I);case De:return new Uint32Array(I);case et:return new Float32Array(I);case xt:return new Float64Array(I);default:throw new Error("Unkown type: "+k)}}var Ft={serialize:ke,deserialize:ut,stringToBuffer:Ve,bufferToString:Rt};function pt(b,j,k,L){b.executeSql("CREATE TABLE IF NOT EXISTS "+j.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],k,L)}function Ur(b){var j=this,k={db:null};if(b)for(var L in b)k[L]=typeof b[L]!="string"?b[L].toString():b[L];var U=new h(function(I,ee){try{k.db=openDatabase(k.name,String(k.version),k.description,k.size)}catch(ae){return ee(ae)}k.db.transaction(function(ae){pt(ae,k,function(){j._dbInfo=k,I()},function(he,me){ee(me)})},ee)});return k.serializer=Ft,U}function Xe(b,j,k,L,U,I){b.executeSql(k,L,U,function(ee,ae){ae.code===ae.SYNTAX_ERR?ee.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[j.storeName],function(he,me){me.rows.length?I(he,ae):pt(he,j,function(){he.executeSql(k,L,U,I)},I)},I):I(ee,ae)},I)}function or(b,j){var k=this;b=_(b);var L=new h(function(U,I){k.ready().then(function(){var ee=k._dbInfo;ee.db.transaction(function(ae){Xe(ae,ee,"SELECT * FROM "+ee.storeName+" WHERE key = ? LIMIT 1",[b],function(he,me){var ye=me.rows.length?me.rows.item(0).value:null;ye&&(ye=ee.serializer.deserialize(ye)),U(ye)},function(he,me){I(me)})})}).catch(I)});return g(L,j),L}function te(b,j){var k=this,L=new h(function(U,I){k.ready().then(function(){var ee=k._dbInfo;ee.db.transaction(function(ae){Xe(ae,ee,"SELECT * FROM "+ee.storeName,[],function(he,me){for(var ye=me.rows,_e=ye.length,Ae=0;Ae<_e;Ae++){var Ce=ye.item(Ae),Le=Ce.value;if(Le&&(Le=ee.serializer.deserialize(Le)),Le=b(Le,Ce.key,Ae+1),Le!==void 0){U(Le);return}}U()},function(he,me){I(me)})})}).catch(I)});return g(L,j),L}function kt(b,j,k,L){var U=this;b=_(b);var I=new h(function(ee,ae){U.ready().then(function(){j===void 0&&(j=null);var he=j,me=U._dbInfo;me.serializer.serialize(j,function(ye,_e){_e?ae(_e):me.db.transaction(function(Ae){Xe(Ae,me,"INSERT OR REPLACE INTO "+me.storeName+" (key, value) VALUES (?, ?)",[b,ye],function(){ee(he)},function(Ce,Le){ae(Le)})},function(Ae){if(Ae.code===Ae.QUOTA_ERR){if(L>0){ee(kt.apply(U,[b,he,k,L-1]));return}ae(Ae)}})})}).catch(ae)});return g(I,k),I}function st(b,j,k){return kt.apply(this,[b,j,k,1])}function ar(b,j){var k=this;b=_(b);var L=new h(function(U,I){k.ready().then(function(){var ee=k._dbInfo;ee.db.transaction(function(ae){Xe(ae,ee,"DELETE FROM "+ee.storeName+" WHERE key = ?",[b],function(){U()},function(he,me){I(me)})})}).catch(I)});return g(L,j),L}function Mr(b){var j=this,k=new h(function(L,U){j.ready().then(function(){var I=j._dbInfo;I.db.transaction(function(ee){Xe(ee,I,"DELETE FROM "+I.storeName,[],function(){L()},function(ae,he){U(he)})})}).catch(U)});return g(k,b),k}function ln(b){var j=this,k=new h(function(L,U){j.ready().then(function(){var I=j._dbInfo;I.db.transaction(function(ee){Xe(ee,I,"SELECT COUNT(key) as c FROM "+I.storeName,[],function(ae,he){var me=he.rows.item(0).c;L(me)},function(ae,he){U(he)})})}).catch(U)});return g(k,b),k}function qt(b,j){var k=this,L=new h(function(U,I){k.ready().then(function(){var ee=k._dbInfo;ee.db.transaction(function(ae){Xe(ae,ee,"SELECT key FROM "+ee.storeName+" WHERE id = ? LIMIT 1",[b+1],function(he,me){var ye=me.rows.length?me.rows.item(0).key:null;U(ye)},function(he,me){I(me)})})}).catch(I)});return g(L,j),L}function un(b){var j=this,k=new h(function(L,U){j.ready().then(function(){var I=j._dbInfo;I.db.transaction(function(ee){Xe(ee,I,"SELECT key FROM "+I.storeName,[],function(ae,he){for(var me=[],ye=0;ye<he.rows.length;ye++)me.push(he.rows.item(ye).key);L(me)},function(ae,he){U(he)})})}).catch(U)});return g(k,b),k}function us(b){return new h(function(j,k){b.transaction(function(L){L.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(U,I){for(var ee=[],ae=0;ae<I.rows.length;ae++)ee.push(I.rows.item(ae).name);j({db:b,storeNames:ee})},function(U,I){k(I)})},function(L){k(L)})})}function fn(b,j){j=w.apply(this,arguments);var k=this.config();b=typeof b!="function"&&b||{},b.name||(b.name=b.name||k.name,b.storeName=b.storeName||k.storeName);var L=this,U;return b.name?U=new h(function(I){var ee;b.name===k.name?ee=L._dbInfo.db:ee=openDatabase(b.name,"","",0),b.storeName?I({db:ee,storeNames:[b.storeName]}):I(us(ee))}).then(function(I){return new h(function(ee,ae){I.db.transaction(function(he){function me(Ce){return new h(function(Le,Ye){he.executeSql("DROP TABLE IF EXISTS "+Ce,[],function(){Le()},function(Ue,it){Ye(it)})})}for(var ye=[],_e=0,Ae=I.storeNames.length;_e<Ae;_e++)ye.push(me(I.storeNames[_e]));h.all(ye).then(function(){ee()}).catch(function(Ce){ae(Ce)})},function(he){ae(he)})})}):U=h.reject("Invalid arguments"),g(U,j),U}var Zt={_driver:"webSQLStorage",_initStorage:Ur,_support:m(),iterate:te,getItem:or,setItem:st,removeItem:ar,clear:Mr,length:ln,key:qt,keys:un,dropInstance:fn};function hn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function zr(b,j){var k=b.name+"/";return b.storeName!==j.storeName&&(k+=b.storeName+"/"),k}function fs(){var b="_localforage_support_test";try{return localStorage.setItem(b,!0),localStorage.removeItem(b),!1}catch{return!0}}function dn(){return!fs()||localStorage.length>0}function hs(b){var j=this,k={};if(b)for(var L in b)k[L]=b[L];return k.keyPrefix=zr(b,j._defaultConfig),dn()?(j._dbInfo=k,k.serializer=Ft,h.resolve()):h.reject()}function Wr(b){var j=this,k=j.ready().then(function(){for(var L=j._dbInfo.keyPrefix,U=localStorage.length-1;U>=0;U--){var I=localStorage.key(U);I.indexOf(L)===0&&localStorage.removeItem(I)}});return g(k,b),k}function mn(b,j){var k=this;b=_(b);var L=k.ready().then(function(){var U=k._dbInfo,I=localStorage.getItem(U.keyPrefix+b);return I&&(I=U.serializer.deserialize(I)),I});return g(L,j),L}function Sr(b,j){var k=this,L=k.ready().then(function(){for(var U=k._dbInfo,I=U.keyPrefix,ee=I.length,ae=localStorage.length,he=1,me=0;me<ae;me++){var ye=localStorage.key(me);if(ye.indexOf(I)===0){var _e=localStorage.getItem(ye);if(_e&&(_e=U.serializer.deserialize(_e)),_e=b(_e,ye.substring(ee),he++),_e!==void 0)return _e}}});return g(L,j),L}function vt(b,j){var k=this,L=k.ready().then(function(){var U=k._dbInfo,I;try{I=localStorage.key(b)}catch{I=null}return I&&(I=I.substring(U.keyPrefix.length)),I});return g(L,j),L}function xr(b){var j=this,k=j.ready().then(function(){for(var L=j._dbInfo,U=localStorage.length,I=[],ee=0;ee<U;ee++){var ae=localStorage.key(ee);ae.indexOf(L.keyPrefix)===0&&I.push(ae.substring(L.keyPrefix.length))}return I});return g(k,b),k}function Hr(b){var j=this,k=j.keys().then(function(L){return L.length});return g(k,b),k}function pn(b,j){var k=this;b=_(b);var L=k.ready().then(function(){var U=k._dbInfo;localStorage.removeItem(U.keyPrefix+b)});return g(L,j),L}function yn(b,j,k){var L=this;b=_(b);var U=L.ready().then(function(){j===void 0&&(j=null);var I=j;return new h(function(ee,ae){var he=L._dbInfo;he.serializer.serialize(j,function(me,ye){if(ye)ae(ye);else try{localStorage.setItem(he.keyPrefix+b,me),ee(I)}catch(_e){(_e.name==="QuotaExceededError"||_e.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ae(_e),ae(_e)}})})});return g(U,k),U}function gn(b,j){if(j=w.apply(this,arguments),b=typeof b!="function"&&b||{},!b.name){var k=this.config();b.name=b.name||k.name,b.storeName=b.storeName||k.storeName}var L=this,U;return b.name?U=new h(function(I){b.storeName?I(zr(b,L._defaultConfig)):I(b.name+"/")}).then(function(I){for(var ee=localStorage.length-1;ee>=0;ee--){var ae=localStorage.key(ee);ae.indexOf(I)===0&&localStorage.removeItem(ae)}}):U=h.reject("Invalid arguments"),g(U,j),U}var cr={_driver:"localStorageWrapper",_initStorage:hs,_support:hn(),iterate:Sr,getItem:mn,setItem:yn,removeItem:pn,clear:Wr,length:Hr,key:vt,keys:xr,dropInstance:gn},vn=function(j,k){return j===k||typeof j=="number"&&typeof k=="number"&&isNaN(j)&&isNaN(k)},kr=function(j,k){for(var L=j.length,U=0;U<L;){if(vn(j[U],k))return!0;U++}return!1},Gr=Array.isArray||function(b){return Object.prototype.toString.call(b)==="[object Array]"},wt={},$r={},Ut={INDEXEDDB:rt,WEBSQL:Zt,LOCALSTORAGE:cr},wn=[Ut.INDEXEDDB._driver,Ut.WEBSQL._driver,Ut.LOCALSTORAGE._driver],lr=["dropInstance"],Vr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(lr),bn={description:"",driver:wn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function _n(b,j){b[j]=function(){var k=arguments;return b.ready().then(function(){return b[j].apply(b,k)})}}function Tr(){for(var b=1;b<arguments.length;b++){var j=arguments[b];if(j)for(var k in j)j.hasOwnProperty(k)&&(Gr(j[k])?arguments[0][k]=j[k].slice():arguments[0][k]=j[k])}return arguments[0]}var ur=function(){function b(j){o(this,b);for(var k in Ut)if(Ut.hasOwnProperty(k)){var L=Ut[k],U=L._driver;this[k]=U,wt[U]||this.defineDriver(L)}this._defaultConfig=Tr({},bn),this._config=Tr({},this._defaultConfig,j),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return b.prototype.config=function(k){if((typeof k>"u"?"undefined":i(k))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var L in k){if(L==="storeName"&&(k[L]=k[L].replace(/\W/g,"_")),L==="version"&&typeof k[L]!="number")return new Error("Database version must be a number.");this._config[L]=k[L]}return"driver"in k&&k.driver?this.setDriver(this._config.driver):!0}else return typeof k=="string"?this._config[k]:this._config},b.prototype.defineDriver=function(k,L,U){var I=new h(function(ee,ae){try{var he=k._driver,me=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!k._driver){ae(me);return}for(var ye=Vr.concat("_initStorage"),_e=0,Ae=ye.length;_e<Ae;_e++){var Ce=ye[_e],Le=!kr(lr,Ce);if((Le||k[Ce])&&typeof k[Ce]!="function"){ae(me);return}}var Ye=function(){for(var Mt=function(ms){return function(){var En=new Error("Method "+ms+" is not implemented by the current driver"),fr=h.reject(En);return g(fr,arguments[arguments.length-1]),fr}},zt=0,Yr=lr.length;zt<Yr;zt++){var Jr=lr[zt];k[Jr]||(k[Jr]=Mt(Jr))}};Ye();var Ue=function(Mt){wt[he]&&console.info("Redefining LocalForage driver: "+he),wt[he]=k,$r[he]=Mt,ee()};"_support"in k?k._support&&typeof k._support=="function"?k._support().then(Ue,ae):Ue(!!k._support):Ue(!0)}catch(it){ae(it)}});return y(I,L,U),I},b.prototype.driver=function(){return this._driver||null},b.prototype.getDriver=function(k,L,U){var I=wt[k]?h.resolve(wt[k]):h.reject(new Error("Driver not found."));return y(I,L,U),I},b.prototype.getSerializer=function(k){var L=h.resolve(Ft);return y(L,k),L},b.prototype.ready=function(k){var L=this,U=L._driverSet.then(function(){return L._ready===null&&(L._ready=L._initDriver()),L._ready});return y(U,k,k),U},b.prototype.setDriver=function(k,L,U){var I=this;Gr(k)||(k=[k]);var ee=this._getSupportedDrivers(k);function ae(){I._config.driver=I.driver()}function he(_e){return I._extend(_e),ae(),I._ready=I._initStorage(I._config),I._ready}function me(_e){return function(){var Ae=0;function Ce(){for(;Ae<_e.length;){var Le=_e[Ae];return Ae++,I._dbInfo=null,I._ready=null,I.getDriver(Le).then(he).catch(Ce)}ae();var Ye=new Error("No available storage method found.");return I._driverSet=h.reject(Ye),I._driverSet}return Ce()}}var ye=this._driverSet!==null?this._driverSet.catch(function(){return h.resolve()}):h.resolve();return this._driverSet=ye.then(function(){var _e=ee[0];return I._dbInfo=null,I._ready=null,I.getDriver(_e).then(function(Ae){I._driver=Ae._driver,ae(),I._wrapLibraryMethodsWithReady(),I._initDriver=me(ee)})}).catch(function(){ae();var _e=new Error("No available storage method found.");return I._driverSet=h.reject(_e),I._driverSet}),y(this._driverSet,L,U),this._driverSet},b.prototype.supports=function(k){return!!$r[k]},b.prototype._extend=function(k){Tr(this,k)},b.prototype._getSupportedDrivers=function(k){for(var L=[],U=0,I=k.length;U<I;U++){var ee=k[U];this.supports(ee)&&L.push(ee)}return L},b.prototype._wrapLibraryMethodsWithReady=function(){for(var k=0,L=Vr.length;k<L;k++)_n(this,Vr[k])},b.prototype.createInstance=function(k){return new b(k)},b}(),Kr=new ur;n.exports=Kr},{3:3}]},{},[4])(4)})}),Bf=Ns(function(r,e){/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t){r.exports=t()})(function(){return function t(n,s,i){function o(c,d){if(!s[c]){if(!n[c]){var h=typeof Jt=="function"&&Jt;if(!d&&h)return h(c,!0);if(a)return a(c,!0);var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g}var y=s[c]={exports:{}};n[c][0].call(y.exports,function(_){var w=n[c][1][_];return o(w||_)},y,y.exports,t,n,s,i)}return s[c].exports}for(var a=typeof Jt=="function"&&Jt,u=0;u<i.length;u++)o(i[u]);return o}({1:[function(t,n,s){var i=t("./utils"),o=t("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(u){for(var c,d,h,g,y,_,w,S=[],E=0,$=u.length,R=$,N=i.getTypeOf(u)!=="string";E<u.length;)R=$-E,h=N?(c=u[E++],d=E<$?u[E++]:0,E<$?u[E++]:0):(c=u.charCodeAt(E++),d=E<$?u.charCodeAt(E++):0,E<$?u.charCodeAt(E++):0),g=c>>2,y=(3&c)<<4|d>>4,_=1<R?(15&d)<<2|h>>6:64,w=2<R?63&h:64,S.push(a.charAt(g)+a.charAt(y)+a.charAt(_)+a.charAt(w));return S.join("")},s.decode=function(u){var c,d,h,g,y,_,w=0,S=0,E="data:";if(u.substr(0,E.length)===E)throw new Error("Invalid base64 input, it looks like a data url.");var $,R=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===a.charAt(64)&&R--,u.charAt(u.length-2)===a.charAt(64)&&R--,R%1!=0)throw new Error("Invalid base64 input, bad content length.");for($=o.uint8array?new Uint8Array(0|R):new Array(0|R);w<u.length;)c=a.indexOf(u.charAt(w++))<<2|(g=a.indexOf(u.charAt(w++)))>>4,d=(15&g)<<4|(y=a.indexOf(u.charAt(w++)))>>2,h=(3&y)<<6|(_=a.indexOf(u.charAt(w++))),$[S++]=c,y!==64&&($[S++]=d),_!==64&&($[S++]=h);return $}},{"./support":30,"./utils":32}],2:[function(t,n,s){var i=t("./external"),o=t("./stream/DataWorker"),a=t("./stream/Crc32Probe"),u=t("./stream/DataLengthProbe");function c(d,h,g,y,_){this.compressedSize=d,this.uncompressedSize=h,this.crc32=g,this.compression=y,this.compressedContent=_}c.prototype={getContentWorker:function(){var d=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),h=this;return d.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(d,h,g){return d.pipe(new a).pipe(new u("uncompressedSize")).pipe(h.compressWorker(g)).pipe(new u("compressedSize")).withStreamInfo("compression",h)},n.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,s){var i=t("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},s.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,s){var i=t("./utils"),o=function(){for(var a,u=[],c=0;c<256;c++){a=c;for(var d=0;d<8;d++)a=1&a?3988292384^a>>>1:a>>>1;u[c]=a}return u}();n.exports=function(a,u){return a!==void 0&&a.length?i.getTypeOf(a)!=="string"?function(c,d,h,g){var y=o,_=g+h;c^=-1;for(var w=g;w<_;w++)c=c>>>8^y[255&(c^d[w])];return-1^c}(0|u,a,a.length,0):function(c,d,h,g){var y=o,_=g+h;c^=-1;for(var w=g;w<_;w++)c=c>>>8^y[255&(c^d.charCodeAt(w))];return-1^c}(0|u,a,a.length,0):0}},{"./utils":32}],5:[function(t,n,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(t,n,s){var i=null;i=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:i}},{lie:37}],7:[function(t,n,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=t("pako"),a=t("./utils"),u=t("./stream/GenericWorker"),c=i?"uint8array":"array";function d(h,g){u.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=g,this.meta={}}s.magic="\b\0",a.inherits(d,u),d.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(c,h.data),!1)},d.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(g){h.push({data:g,meta:h.meta})}},s.compressWorker=function(h){return new d("Deflate",h)},s.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,s){function i(y,_){var w,S="";for(w=0;w<_;w++)S+=String.fromCharCode(255&y),y>>>=8;return S}function o(y,_,w,S,E,$){var R,N,D=y.file,V=y.compression,B=$!==c.utf8encode,K=a.transformTo("string",$(D.name)),q=a.transformTo("string",c.utf8encode(D.name)),W=D.comment,ce=a.transformTo("string",$(W)),T=a.transformTo("string",c.utf8encode(W)),G=q.length!==D.name.length,v=T.length!==W.length,Z="",Ee="",Q="",xe=D.dir,fe=D.date,oe={crc32:0,compressedSize:0,uncompressedSize:0};_&&!w||(oe.crc32=y.crc32,oe.compressedSize=y.compressedSize,oe.uncompressedSize=y.uncompressedSize);var F=0;_&&(F|=8),B||!G&&!v||(F|=2048);var M=0,be=0;xe&&(M|=16),E==="UNIX"?(be=798,M|=function(ue,Be){var Ge=ue;return ue||(Ge=Be?16893:33204),(65535&Ge)<<16}(D.unixPermissions,xe)):(be=20,M|=function(ue){return 63&(ue||0)}(D.dosPermissions)),R=fe.getUTCHours(),R<<=6,R|=fe.getUTCMinutes(),R<<=5,R|=fe.getUTCSeconds()/2,N=fe.getUTCFullYear()-1980,N<<=4,N|=fe.getUTCMonth()+1,N<<=5,N|=fe.getUTCDate(),G&&(Ee=i(1,1)+i(d(K),4)+q,Z+="up"+i(Ee.length,2)+Ee),v&&(Q=i(1,1)+i(d(ce),4)+T,Z+="uc"+i(Q.length,2)+Q);var ge="";return ge+=`
\0`,ge+=i(F,2),ge+=V.magic,ge+=i(R,2),ge+=i(N,2),ge+=i(oe.crc32,4),ge+=i(oe.compressedSize,4),ge+=i(oe.uncompressedSize,4),ge+=i(K.length,2),ge+=i(Z.length,2),{fileRecord:h.LOCAL_FILE_HEADER+ge+K+Z,dirRecord:h.CENTRAL_FILE_HEADER+i(be,2)+ge+i(ce.length,2)+"\0\0\0\0"+i(M,4)+i(S,4)+K+Z+ce}}var a=t("../utils"),u=t("../stream/GenericWorker"),c=t("../utf8"),d=t("../crc32"),h=t("../signature");function g(y,_,w,S){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=w,this.encodeFileName=S,this.streamFiles=y,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(g,u),g.prototype.push=function(y){var _=y.meta.percent||0,w=this.entriesCount,S=this._sources.length;this.accumulate?this.contentBuffer.push(y):(this.bytesWritten+=y.data.length,u.prototype.push.call(this,{data:y.data,meta:{currentFile:this.currentFile,percent:w?(_+100*(w-S-1))/w:100}}))},g.prototype.openedSource=function(y){this.currentSourceOffset=this.bytesWritten,this.currentFile=y.file.name;var _=this.streamFiles&&!y.file.dir;if(_){var w=o(y,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:w.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(y){this.accumulate=!1;var _=this.streamFiles&&!y.file.dir,w=o(y,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(w.dirRecord),_)this.push({data:function(S){return h.DATA_DESCRIPTOR+i(S.crc32,4)+i(S.compressedSize,4)+i(S.uncompressedSize,4)}(y),meta:{percent:100}});else for(this.push({data:w.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var y=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var w=this.bytesWritten-y,S=function(E,$,R,N,D){var V=a.transformTo("string",D(N));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(E,2)+i(E,2)+i($,4)+i(R,4)+i(V.length,2)+V}(this.dirRecords.length,w,y,this.zipComment,this.encodeFileName);this.push({data:S,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(y){this._sources.push(y);var _=this;return y.on("data",function(w){_.processChunk(w)}),y.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),y.on("error",function(w){_.error(w)}),this},g.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(y){var _=this._sources;if(!u.prototype.error.call(this,y))return!1;for(var w=0;w<_.length;w++)try{_[w].error(y)}catch{}return!0},g.prototype.lock=function(){u.prototype.lock.call(this);for(var y=this._sources,_=0;_<y.length;_++)y[_].lock()},n.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,s){var i=t("../compressions"),o=t("./ZipFileWorker");s.generateWorker=function(a,u,c){var d=new o(u.streamFiles,c,u.platform,u.encodeFileName),h=0;try{a.forEach(function(g,y){h++;var _=function($,R){var N=$||R,D=i[N];if(!D)throw new Error(N+" is not a valid compression method !");return D}(y.options.compression,u.compression),w=y.options.compressionOptions||u.compressionOptions||{},S=y.dir,E=y.date;y._compressWorker(_,w).withStreamInfo("file",{name:g,dir:S,date:E,comment:y.comment||"",unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions}).pipe(d)}),d.entriesCount=h}catch(g){d.error(g)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,s){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new i;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(i.prototype=t("./object")).loadAsync=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.version="3.10.1",i.loadAsync=function(o,a){return new i().loadAsync(o,a)},i.external=t("./external"),n.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,s){var i=t("./utils"),o=t("./external"),a=t("./utf8"),u=t("./zipEntries"),c=t("./stream/Crc32Probe"),d=t("./nodejsUtils");function h(g){return new o.Promise(function(y,_){var w=g.decompressed.getContentWorker().pipe(new c);w.on("error",function(S){_(S)}).on("end",function(){w.streamInfo.crc32!==g.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}n.exports=function(g,y){var _=this;return y=i.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),d.isNode&&d.isStream(g)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",g,!0,y.optimizedBinaryString,y.base64).then(function(w){var S=new u(y);return S.load(w),S}).then(function(w){var S=[o.Promise.resolve(w)],E=w.files;if(y.checkCRC32)for(var $=0;$<E.length;$++)S.push(h(E[$]));return o.Promise.all(S)}).then(function(w){for(var S=w.shift(),E=S.files,$=0;$<E.length;$++){var R=E[$],N=R.fileNameStr,D=i.resolve(R.fileNameStr);_.file(D,R.decompressed,{binary:!0,optimizedBinaryString:!0,date:R.date,dir:R.dir,comment:R.fileCommentStr.length?R.fileCommentStr:null,unixPermissions:R.unixPermissions,dosPermissions:R.dosPermissions,createFolders:y.createFolders}),R.dir||(_.file(D).unsafeOriginalName=N)}return S.zipComment.length&&(_.comment=S.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,s){var i=t("../utils"),o=t("../stream/GenericWorker");function a(u,c){o.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(c)}i.inherits(a,o),a.prototype._bindStream=function(u){var c=this;(this._stream=u).pause(),u.on("data",function(d){c.push({data:d,meta:{percent:0}})}).on("error",function(d){c.isPaused?this.generatedError=d:c.error(d)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,s){var i=t("readable-stream").Readable;function o(a,u,c){i.call(this,u),this._helper=a;var d=this;a.on("data",function(h,g){d.push(h)||d._helper.pause(),c&&c(g)}).on("error",function(h){d.emit("error",h)}).on("end",function(){d.push(null)})}t("../utils").inherits(o,i),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,n,s){n.exports={isNode:typeof ie<"u",newBufferFrom:function(i,o){if(ie.from&&ie.from!==Uint8Array.from)return ie.from(i,o);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new ie(i,o)},allocBuffer:function(i){if(ie.alloc)return ie.alloc(i);var o=new ie(i);return o.fill(0),o},isBuffer:function(i){return ie.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(t,n,s){function i(D,V,B){var K,q=a.getTypeOf(V),W=a.extend(B||{},d);W.date=W.date||new Date,W.compression!==null&&(W.compression=W.compression.toUpperCase()),typeof W.unixPermissions=="string"&&(W.unixPermissions=parseInt(W.unixPermissions,8)),W.unixPermissions&&16384&W.unixPermissions&&(W.dir=!0),W.dosPermissions&&16&W.dosPermissions&&(W.dir=!0),W.dir&&(D=E(D)),W.createFolders&&(K=S(D))&&$.call(this,K,!0);var ce=q==="string"&&W.binary===!1&&W.base64===!1;B&&B.binary!==void 0||(W.binary=!ce),(V instanceof h&&V.uncompressedSize===0||W.dir||!V||V.length===0)&&(W.base64=!1,W.binary=!0,V="",W.compression="STORE",q="string");var T=null;T=V instanceof h||V instanceof u?V:_.isNode&&_.isStream(V)?new w(D,V):a.prepareContent(D,V,W.binary,W.optimizedBinaryString,W.base64);var G=new g(D,T,W);this.files[D]=G}var o=t("./utf8"),a=t("./utils"),u=t("./stream/GenericWorker"),c=t("./stream/StreamHelper"),d=t("./defaults"),h=t("./compressedObject"),g=t("./zipObject"),y=t("./generate"),_=t("./nodejsUtils"),w=t("./nodejs/NodejsStreamInputAdapter"),S=function(D){D.slice(-1)==="/"&&(D=D.substring(0,D.length-1));var V=D.lastIndexOf("/");return 0<V?D.substring(0,V):""},E=function(D){return D.slice(-1)!=="/"&&(D+="/"),D},$=function(D,V){return V=V!==void 0?V:d.createFolders,D=E(D),this.files[D]||i.call(this,D,null,{dir:!0,createFolders:V}),this.files[D]};function R(D){return Object.prototype.toString.call(D)==="[object RegExp]"}var N={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(D){var V,B,K;for(V in this.files)K=this.files[V],(B=V.slice(this.root.length,V.length))&&V.slice(0,this.root.length)===this.root&&D(B,K)},filter:function(D){var V=[];return this.forEach(function(B,K){D(B,K)&&V.push(K)}),V},file:function(D,V,B){if(arguments.length!==1)return D=this.root+D,i.call(this,D,V,B),this;if(R(D)){var K=D;return this.filter(function(W,ce){return!ce.dir&&K.test(W)})}var q=this.files[this.root+D];return q&&!q.dir?q:null},folder:function(D){if(!D)return this;if(R(D))return this.filter(function(q,W){return W.dir&&D.test(q)});var V=this.root+D,B=$.call(this,V),K=this.clone();return K.root=B.name,K},remove:function(D){D=this.root+D;var V=this.files[D];if(V||(D.slice(-1)!=="/"&&(D+="/"),V=this.files[D]),V&&!V.dir)delete this.files[D];else for(var B=this.filter(function(q,W){return W.name.slice(0,D.length)===D}),K=0;K<B.length;K++)delete this.files[B[K].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(D){var V,B={};try{if((B=a.extend(D||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=B.type.toLowerCase(),B.compression=B.compression.toUpperCase(),B.type==="binarystring"&&(B.type="string"),!B.type)throw new Error("No output type specified.");a.checkSupport(B.type),B.platform!=="darwin"&&B.platform!=="freebsd"&&B.platform!=="linux"&&B.platform!=="sunos"||(B.platform="UNIX"),B.platform==="win32"&&(B.platform="DOS");var K=B.comment||this.comment||"";V=y.generateWorker(this,B,K)}catch(q){(V=new u("error")).error(q)}return new c(V,B.type||"string",B.mimeType)},generateAsync:function(D,V){return this.generateInternalStream(D).accumulate(V)},generateNodeStream:function(D,V){return(D=D||{}).type||(D.type="nodebuffer"),this.generateInternalStream(D).toNodejsStream(V)}};n.exports=N},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,s){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,s){var i=t("./DataReader");function o(a){i.call(this,a);for(var u=0;u<this.data.length;u++)a[u]=255&a[u]}t("../utils").inherits(o,i),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var u=a.charCodeAt(0),c=a.charCodeAt(1),d=a.charCodeAt(2),h=a.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===u&&this.data[g+1]===c&&this.data[g+2]===d&&this.data[g+3]===h)return g-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var u=a.charCodeAt(0),c=a.charCodeAt(1),d=a.charCodeAt(2),h=a.charCodeAt(3),g=this.readData(4);return u===g[0]&&c===g[1]&&d===g[2]&&h===g[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,n,s){var i=t("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var u,c=0;for(this.checkOffset(a),u=this.index+a-1;u>=this.index;u--)c=(c<<8)+this.byteAt(u);return this.index+=a,c},readString:function(a){return i.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},n.exports=o},{"../utils":32}],19:[function(t,n,s){var i=t("./Uint8ArrayReader");function o(a){i.call(this,a)}t("../utils").inherits(o,i),o.prototype.readData=function(a){this.checkOffset(a);var u=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,s){var i=t("./DataReader");function o(a){i.call(this,a)}t("../utils").inherits(o,i),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var u=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,n,s){var i=t("./ArrayReader");function o(a){i.call(this,a)}t("../utils").inherits(o,i),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,s){var i=t("../utils"),o=t("../support"),a=t("./ArrayReader"),u=t("./StringReader"),c=t("./NodeBufferReader"),d=t("./Uint8ArrayReader");n.exports=function(h){var g=i.getTypeOf(h);return i.checkSupport(g),g!=="string"||o.uint8array?g==="nodebuffer"?new c(h):o.uint8array?new d(i.transformTo("uint8array",h)):new a(i.transformTo("array",h)):new u(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,s){var i=t("./GenericWorker"),o=t("../utils");function a(u){i.call(this,"ConvertWorker to "+u),this.destType=u}o.inherits(a,i),a.prototype.processChunk=function(u){this.push({data:o.transformTo(this.destType,u.data),meta:u.meta})},n.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,s){var i=t("./GenericWorker"),o=t("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(a,i),a.prototype.processChunk=function(u){this.streamInfo.crc32=o(u.data,this.streamInfo.crc32||0),this.push(u)},n.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,s){var i=t("../utils"),o=t("./GenericWorker");function a(u){o.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}i.inherits(a,o),a.prototype.processChunk=function(u){if(u){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+u.data.length}o.prototype.processChunk.call(this,u)},n.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,s){var i=t("../utils"),o=t("./GenericWorker");function a(u){o.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(d){c.dataIsReady=!0,c.data=d,c.max=d&&d.length||0,c.type=i.getTypeOf(d),c.isPaused||c._tickAndRepeat()},function(d){c.error(d)})}i.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,c);break;case"uint8array":u=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":u=this.data.slice(this.index,c)}return this.index=c,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,s){function i(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var u=0;u<this._listeners[o].length;u++)this._listeners[o][u].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(u){a.processChunk(u)}),o.on("end",function(){a.end()}),o.on("error",function(u){a.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=i},{}],29:[function(t,n,s){var i=t("../utils"),o=t("./ConvertWorker"),a=t("./GenericWorker"),u=t("../base64"),c=t("../support"),d=t("../external"),h=null;if(c.nodestream)try{h=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(_,w){return new d.Promise(function(S,E){var $=[],R=_._internalType,N=_._outputType,D=_._mimeType;_.on("data",function(V,B){$.push(V),w&&w(B)}).on("error",function(V){$=[],E(V)}).on("end",function(){try{var V=function(B,K,q){switch(B){case"blob":return i.newBlob(i.transformTo("arraybuffer",K),q);case"base64":return u.encode(K);default:return i.transformTo(B,K)}}(N,function(B,K){var q,W=0,ce=null,T=0;for(q=0;q<K.length;q++)T+=K[q].length;switch(B){case"string":return K.join("");case"array":return Array.prototype.concat.apply([],K);case"uint8array":for(ce=new Uint8Array(T),q=0;q<K.length;q++)ce.set(K[q],W),W+=K[q].length;return ce;case"nodebuffer":return ie.concat(K);default:throw new Error("concat : unsupported type '"+B+"'")}}(R,$),D);S(V)}catch(B){E(B)}$=[]}).resume()})}function y(_,w,S){var E=w;switch(w){case"blob":case"arraybuffer":E="uint8array";break;case"base64":E="string"}try{this._internalType=E,this._outputType=w,this._mimeType=S,i.checkSupport(E),this._worker=_.pipe(new o(E)),_.lock()}catch($){this._worker=new a("error"),this._worker.error($)}}y.prototype={accumulate:function(_){return g(this,_)},on:function(_,w){var S=this;return _==="data"?this._worker.on(_,function(E){w.call(S,E.data,E.meta)}):this._worker.on(_,function(){i.delay(w,arguments,S)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},_)}},n.exports=y},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof ie<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var i=new ArrayBuffer(0);try{s.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),s.blob=o.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!t("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,s){for(var i=t("./utils"),o=t("./support"),a=t("./nodejsUtils"),u=t("./stream/GenericWorker"),c=new Array(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;c[254]=c[254]=1;function h(){u.call(this,"utf-8 decode"),this.leftOver=null}function g(){u.call(this,"utf-8 encode")}s.utf8encode=function(y){return o.nodebuffer?a.newBufferFrom(y,"utf-8"):function(_){var w,S,E,$,R,N=_.length,D=0;for($=0;$<N;$++)(64512&(S=_.charCodeAt($)))==55296&&$+1<N&&(64512&(E=_.charCodeAt($+1)))==56320&&(S=65536+(S-55296<<10)+(E-56320),$++),D+=S<128?1:S<2048?2:S<65536?3:4;for(w=o.uint8array?new Uint8Array(D):new Array(D),$=R=0;R<D;$++)(64512&(S=_.charCodeAt($)))==55296&&$+1<N&&(64512&(E=_.charCodeAt($+1)))==56320&&(S=65536+(S-55296<<10)+(E-56320),$++),S<128?w[R++]=S:(S<2048?w[R++]=192|S>>>6:(S<65536?w[R++]=224|S>>>12:(w[R++]=240|S>>>18,w[R++]=128|S>>>12&63),w[R++]=128|S>>>6&63),w[R++]=128|63&S);return w}(y)},s.utf8decode=function(y){return o.nodebuffer?i.transformTo("nodebuffer",y).toString("utf-8"):function(_){var w,S,E,$,R=_.length,N=new Array(2*R);for(w=S=0;w<R;)if((E=_[w++])<128)N[S++]=E;else if(4<($=c[E]))N[S++]=65533,w+=$-1;else{for(E&=$===2?31:$===3?15:7;1<$&&w<R;)E=E<<6|63&_[w++],$--;1<$?N[S++]=65533:E<65536?N[S++]=E:(E-=65536,N[S++]=55296|E>>10&1023,N[S++]=56320|1023&E)}return N.length!==S&&(N.subarray?N=N.subarray(0,S):N.length=S),i.applyFromCharCode(N)}(y=i.transformTo(o.uint8array?"uint8array":"array",y))},i.inherits(h,u),h.prototype.processChunk=function(y){var _=i.transformTo(o.uint8array?"uint8array":"array",y.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var w=_;(_=new Uint8Array(w.length+this.leftOver.length)).set(this.leftOver,0),_.set(w,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var S=function($,R){var N;for((R=R||$.length)>$.length&&(R=$.length),N=R-1;0<=N&&(192&$[N])==128;)N--;return N<0||N===0?R:N+c[$[N]]>R?N:R}(_),E=_;S!==_.length&&(o.uint8array?(E=_.subarray(0,S),this.leftOver=_.subarray(S,_.length)):(E=_.slice(0,S),this.leftOver=_.slice(S,_.length))),this.push({data:s.utf8decode(E),meta:y.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=h,i.inherits(g,u),g.prototype.processChunk=function(y){this.push({data:s.utf8encode(y.data),meta:y.meta})},s.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,s){var i=t("./support"),o=t("./base64"),a=t("./nodejsUtils"),u=t("./external");function c(w){return w}function d(w,S){for(var E=0;E<w.length;++E)S[E]=255&w.charCodeAt(E);return S}t("setimmediate"),s.newBlob=function(w,S){s.checkSupport("blob");try{return new Blob([w],{type:S})}catch{try{var E=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return E.append(w),E.getBlob(S)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(w,S,E){var $=[],R=0,N=w.length;if(N<=E)return String.fromCharCode.apply(null,w);for(;R<N;)S==="array"||S==="nodebuffer"?$.push(String.fromCharCode.apply(null,w.slice(R,Math.min(R+E,N)))):$.push(String.fromCharCode.apply(null,w.subarray(R,Math.min(R+E,N)))),R+=E;return $.join("")},stringifyByChar:function(w){for(var S="",E=0;E<w.length;E++)S+=String.fromCharCode(w[E]);return S},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function g(w){var S=65536,E=s.getTypeOf(w),$=!0;if(E==="uint8array"?$=h.applyCanBeUsed.uint8array:E==="nodebuffer"&&($=h.applyCanBeUsed.nodebuffer),$)for(;1<S;)try{return h.stringifyByChunk(w,E,S)}catch{S=Math.floor(S/2)}return h.stringifyByChar(w)}function y(w,S){for(var E=0;E<w.length;E++)S[E]=w[E];return S}s.applyFromCharCode=g;var _={};_.string={string:c,array:function(w){return d(w,new Array(w.length))},arraybuffer:function(w){return _.string.uint8array(w).buffer},uint8array:function(w){return d(w,new Uint8Array(w.length))},nodebuffer:function(w){return d(w,a.allocBuffer(w.length))}},_.array={string:g,array:c,arraybuffer:function(w){return new Uint8Array(w).buffer},uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return a.newBufferFrom(w)}},_.arraybuffer={string:function(w){return g(new Uint8Array(w))},array:function(w){return y(new Uint8Array(w),new Array(w.byteLength))},arraybuffer:c,uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return a.newBufferFrom(new Uint8Array(w))}},_.uint8array={string:g,array:function(w){return y(w,new Array(w.length))},arraybuffer:function(w){return w.buffer},uint8array:c,nodebuffer:function(w){return a.newBufferFrom(w)}},_.nodebuffer={string:g,array:function(w){return y(w,new Array(w.length))},arraybuffer:function(w){return _.nodebuffer.uint8array(w).buffer},uint8array:function(w){return y(w,new Uint8Array(w.length))},nodebuffer:c},s.transformTo=function(w,S){if(S=S||"",!w)return S;s.checkSupport(w);var E=s.getTypeOf(S);return _[E][w](S)},s.resolve=function(w){for(var S=w.split("/"),E=[],$=0;$<S.length;$++){var R=S[$];R==="."||R===""&&$!==0&&$!==S.length-1||(R===".."?E.pop():E.push(R))}return E.join("/")},s.getTypeOf=function(w){return typeof w=="string"?"string":Object.prototype.toString.call(w)==="[object Array]"?"array":i.nodebuffer&&a.isBuffer(w)?"nodebuffer":i.uint8array&&w instanceof Uint8Array?"uint8array":i.arraybuffer&&w instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(w){if(!i[w.toLowerCase()])throw new Error(w+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(w){var S,E,$="";for(E=0;E<(w||"").length;E++)$+="\\x"+((S=w.charCodeAt(E))<16?"0":"")+S.toString(16).toUpperCase();return $},s.delay=function(w,S,E){setImmediate(function(){w.apply(E||null,S||[])})},s.inherits=function(w,S){function E(){}E.prototype=S.prototype,w.prototype=new E},s.extend=function(){var w,S,E={};for(w=0;w<arguments.length;w++)for(S in arguments[w])Object.prototype.hasOwnProperty.call(arguments[w],S)&&E[S]===void 0&&(E[S]=arguments[w][S]);return E},s.prepareContent=function(w,S,E,$,R){return u.Promise.resolve(S).then(function(N){return i.blob&&(N instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(N))!==-1)&&typeof FileReader<"u"?new u.Promise(function(D,V){var B=new FileReader;B.onload=function(K){D(K.target.result)},B.onerror=function(K){V(K.target.error)},B.readAsArrayBuffer(N)}):N}).then(function(N){var D=s.getTypeOf(N);return D?(D==="arraybuffer"?N=s.transformTo("uint8array",N):D==="string"&&(R?N=o.decode(N):E&&$!==!0&&(N=function(V){return d(V,i.uint8array?new Uint8Array(V.length):new Array(V.length))}(N))),N):u.Promise.reject(new Error("Can't read the data of '"+w+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,s){var i=t("./reader/readerFor"),o=t("./utils"),a=t("./signature"),u=t("./zipEntry"),c=t("./support");function d(h){this.files=[],this.loadOptions=h}d.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(g)+", expected "+o.pretty(h)+")")}},isSignature:function(h,g){var y=this.reader.index;this.reader.setIndex(h);var _=this.reader.readString(4)===g;return this.reader.setIndex(y),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),g=c.uint8array?"uint8array":"array",y=o.transformTo(g,h);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,g,y,_=this.zip64EndOfCentralSize-44;0<_;)h=this.reader.readInt(2),g=this.reader.readInt(4),y=this.reader.readData(g),this.zip64ExtensibleData[h]={id:h,length:g,value:y}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,g;for(h=0;h<this.files.length;h++)g=this.files[h],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(h=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var g=h;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var y=this.centralDirOffset+this.centralDirSize;this.zip64&&(y+=20,y+=12+this.zip64EndOfCentralSize);var _=g-y;if(0<_)this.isSignature(g,a.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(h){this.reader=i(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,s){var i=t("./reader/readerFor"),o=t("./utils"),a=t("./compressedObject"),u=t("./crc32"),c=t("./utf8"),d=t("./compressions"),h=t("./support");function g(y,_){this.options=y,this.loadOptions=_}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(y){var _,w;if(y.skip(22),this.fileNameLength=y.readInt(2),w=y.readInt(2),this.fileName=y.readData(this.fileNameLength),y.skip(w),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_=function(S){for(var E in d)if(Object.prototype.hasOwnProperty.call(d,E)&&d[E].magic===S)return d[E];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,_,y.readData(this.compressedSize))},readCentralPart:function(y){this.versionMadeBy=y.readInt(2),y.skip(2),this.bitFlag=y.readInt(2),this.compressionMethod=y.readString(2),this.date=y.readDate(),this.crc32=y.readInt(4),this.compressedSize=y.readInt(4),this.uncompressedSize=y.readInt(4);var _=y.readInt(2);if(this.extraFieldsLength=y.readInt(2),this.fileCommentLength=y.readInt(2),this.diskNumberStart=y.readInt(2),this.internalFileAttributes=y.readInt(2),this.externalFileAttributes=y.readInt(4),this.localHeaderOffset=y.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");y.skip(_),this.readExtraFields(y),this.parseZIP64ExtraField(y),this.fileComment=y.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var y=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),y==0&&(this.dosPermissions=63&this.externalFileAttributes),y==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var y=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=y.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=y.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=y.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=y.readInt(4))}},readExtraFields:function(y){var _,w,S,E=y.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});y.index+4<E;)_=y.readInt(2),w=y.readInt(2),S=y.readData(w),this.extraFields[_]={id:_,length:w,value:S};y.setIndex(E)},handleUTF8:function(){var y=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var w=o.transformTo(y,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(w)}var S=this.findExtraFieldUnicodeComment();if(S!==null)this.fileCommentStr=S;else{var E=o.transformTo(y,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(E)}}},findExtraFieldUnicodePath:function(){var y=this.extraFields[28789];if(y){var _=i(y.value);return _.readInt(1)!==1||u(this.fileName)!==_.readInt(4)?null:c.utf8decode(_.readData(y.length-5))}return null},findExtraFieldUnicodeComment:function(){var y=this.extraFields[25461];if(y){var _=i(y.value);return _.readInt(1)!==1||u(this.fileComment)!==_.readInt(4)?null:c.utf8decode(_.readData(y.length-5))}return null}},n.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,s){function i(_,w,S){this.name=_,this.dir=S.dir,this.date=S.date,this.comment=S.comment,this.unixPermissions=S.unixPermissions,this.dosPermissions=S.dosPermissions,this._data=w,this._dataBinary=S.binary,this.options={compression:S.compression,compressionOptions:S.compressionOptions}}var o=t("./stream/StreamHelper"),a=t("./stream/DataWorker"),u=t("./utf8"),c=t("./compressedObject"),d=t("./stream/GenericWorker");i.prototype={internalStream:function(_){var w=null,S="string";try{if(!_)throw new Error("No output type specified.");var E=(S=_.toLowerCase())==="string"||S==="text";S!=="binarystring"&&S!=="text"||(S="string"),w=this._decompressWorker();var $=!this._dataBinary;$&&!E&&(w=w.pipe(new u.Utf8EncodeWorker)),!$&&E&&(w=w.pipe(new u.Utf8DecodeWorker))}catch(R){(w=new d("error")).error(R)}return new o(w,S,"")},async:function(_,w){return this.internalStream(_).accumulate(w)},nodeStream:function(_,w){return this.internalStream(_||"nodebuffer").toNodejsStream(w)},_compressWorker:function(_,w){if(this._data instanceof c&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var S=this._decompressWorker();return this._dataBinary||(S=S.pipe(new u.Utf8EncodeWorker)),c.createWorkerFrom(S,_,w)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof d?this._data:new a(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<h.length;y++)i.prototype[h[y]]=g;n.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,s){(function(i){var o,a,u=i.MutationObserver||i.WebKitMutationObserver;if(u){var c=0,d=new u(_),h=i.document.createTextNode("");d.observe(h,{characterData:!0}),o=function(){h.data=c=++c%2}}else if(i.setImmediate||i.MessageChannel===void 0)o="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var w=i.document.createElement("script");w.onreadystatechange=function(){_(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},i.document.documentElement.appendChild(w)}:function(){setTimeout(_,0)};else{var g=new i.MessageChannel;g.port1.onmessage=_,o=function(){g.port2.postMessage(0)}}var y=[];function _(){var w,S;a=!0;for(var E=y.length;E;){for(S=y,y=[],w=-1;++w<E;)S[w]();E=y.length}a=!1}n.exports=function(w){y.push(w)!==1||a||o()}}).call(this,typeof nr<"u"?nr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,s){var i=t("immediate");function o(){}var a={},u=["REJECTED"],c=["FULFILLED"],d=["PENDING"];function h(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,E!==o&&w(this,E)}function g(E,$,R){this.promise=E,typeof $=="function"&&(this.onFulfilled=$,this.callFulfilled=this.otherCallFulfilled),typeof R=="function"&&(this.onRejected=R,this.callRejected=this.otherCallRejected)}function y(E,$,R){i(function(){var N;try{N=$(R)}catch(D){return a.reject(E,D)}N===E?a.reject(E,new TypeError("Cannot resolve promise with itself")):a.resolve(E,N)})}function _(E){var $=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof $=="function")return function(){$.apply(E,arguments)}}function w(E,$){var R=!1;function N(B){R||(R=!0,a.reject(E,B))}function D(B){R||(R=!0,a.resolve(E,B))}var V=S(function(){$(D,N)});V.status==="error"&&N(V.value)}function S(E,$){var R={};try{R.value=E($),R.status="success"}catch(N){R.status="error",R.value=N}return R}(n.exports=h).prototype.finally=function(E){if(typeof E!="function")return this;var $=this.constructor;return this.then(function(R){return $.resolve(E()).then(function(){return R})},function(R){return $.resolve(E()).then(function(){throw R})})},h.prototype.catch=function(E){return this.then(null,E)},h.prototype.then=function(E,$){if(typeof E!="function"&&this.state===c||typeof $!="function"&&this.state===u)return this;var R=new this.constructor(o);return this.state!==d?y(R,this.state===c?E:$,this.outcome):this.queue.push(new g(R,E,$)),R},g.prototype.callFulfilled=function(E){a.resolve(this.promise,E)},g.prototype.otherCallFulfilled=function(E){y(this.promise,this.onFulfilled,E)},g.prototype.callRejected=function(E){a.reject(this.promise,E)},g.prototype.otherCallRejected=function(E){y(this.promise,this.onRejected,E)},a.resolve=function(E,$){var R=S(_,$);if(R.status==="error")return a.reject(E,R.value);var N=R.value;if(N)w(E,N);else{E.state=c,E.outcome=$;for(var D=-1,V=E.queue.length;++D<V;)E.queue[D].callFulfilled($)}return E},a.reject=function(E,$){E.state=u,E.outcome=$;for(var R=-1,N=E.queue.length;++R<N;)E.queue[R].callRejected($);return E},h.resolve=function(E){return E instanceof this?E:a.resolve(new this(o),E)},h.reject=function(E){var $=new this(o);return a.reject($,E)},h.all=function(E){var $=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=E.length,N=!1;if(!R)return this.resolve([]);for(var D=new Array(R),V=0,B=-1,K=new this(o);++B<R;)q(E[B],B);return K;function q(W,ce){$.resolve(W).then(function(T){D[ce]=T,++V!==R||N||(N=!0,a.resolve(K,D))},function(T){N||(N=!0,a.reject(K,T))})}},h.race=function(E){var $=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=E.length,N=!1;if(!R)return this.resolve([]);for(var D=-1,V=new this(o);++D<R;)B=E[D],$.resolve(B).then(function(K){N||(N=!0,a.resolve(V,K))},function(K){N||(N=!0,a.reject(V,K))});var B;return V}},{immediate:36}],38:[function(t,n,s){var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,s){var i=t("./zlib/deflate"),o=t("./utils/common"),a=t("./utils/strings"),u=t("./zlib/messages"),c=t("./zlib/zstream"),d=Object.prototype.toString,h=0,g=-1,y=0,_=8;function w(E){if(!(this instanceof w))return new w(E);this.options=o.assign({level:g,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},E||{});var $=this.options;$.raw&&0<$.windowBits?$.windowBits=-$.windowBits:$.gzip&&0<$.windowBits&&$.windowBits<16&&($.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var R=i.deflateInit2(this.strm,$.level,$.method,$.windowBits,$.memLevel,$.strategy);if(R!==h)throw new Error(u[R]);if($.header&&i.deflateSetHeader(this.strm,$.header),$.dictionary){var N;if(N=typeof $.dictionary=="string"?a.string2buf($.dictionary):d.call($.dictionary)==="[object ArrayBuffer]"?new Uint8Array($.dictionary):$.dictionary,(R=i.deflateSetDictionary(this.strm,N))!==h)throw new Error(u[R]);this._dict_set=!0}}function S(E,$){var R=new w($);if(R.push(E,!0),R.err)throw R.msg||u[R.err];return R.result}w.prototype.push=function(E,$){var R,N,D=this.strm,V=this.options.chunkSize;if(this.ended)return!1;N=$===~~$?$:$===!0?4:0,typeof E=="string"?D.input=a.string2buf(E):d.call(E)==="[object ArrayBuffer]"?D.input=new Uint8Array(E):D.input=E,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new o.Buf8(V),D.next_out=0,D.avail_out=V),(R=i.deflate(D,N))!==1&&R!==h)return this.onEnd(R),!(this.ended=!0);D.avail_out!==0&&(D.avail_in!==0||N!==4&&N!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(D.output,D.next_out))):this.onData(o.shrinkBuf(D.output,D.next_out)))}while((0<D.avail_in||D.avail_out===0)&&R!==1);return N===4?(R=i.deflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===h):N!==2||(this.onEnd(h),!(D.avail_out=0))},w.prototype.onData=function(E){this.chunks.push(E)},w.prototype.onEnd=function(E){E===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg},s.Deflate=w,s.deflate=S,s.deflateRaw=function(E,$){return($=$||{}).raw=!0,S(E,$)},s.gzip=function(E,$){return($=$||{}).gzip=!0,S(E,$)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,s){var i=t("./zlib/inflate"),o=t("./utils/common"),a=t("./utils/strings"),u=t("./zlib/constants"),c=t("./zlib/messages"),d=t("./zlib/zstream"),h=t("./zlib/gzheader"),g=Object.prototype.toString;function y(w){if(!(this instanceof y))return new y(w);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},w||{});var S=this.options;S.raw&&0<=S.windowBits&&S.windowBits<16&&(S.windowBits=-S.windowBits,S.windowBits===0&&(S.windowBits=-15)),!(0<=S.windowBits&&S.windowBits<16)||w&&w.windowBits||(S.windowBits+=32),15<S.windowBits&&S.windowBits<48&&!(15&S.windowBits)&&(S.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var E=i.inflateInit2(this.strm,S.windowBits);if(E!==u.Z_OK)throw new Error(c[E]);this.header=new h,i.inflateGetHeader(this.strm,this.header)}function _(w,S){var E=new y(S);if(E.push(w,!0),E.err)throw E.msg||c[E.err];return E.result}y.prototype.push=function(w,S){var E,$,R,N,D,V,B=this.strm,K=this.options.chunkSize,q=this.options.dictionary,W=!1;if(this.ended)return!1;$=S===~~S?S:S===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof w=="string"?B.input=a.binstring2buf(w):g.call(w)==="[object ArrayBuffer]"?B.input=new Uint8Array(w):B.input=w,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new o.Buf8(K),B.next_out=0,B.avail_out=K),(E=i.inflate(B,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&q&&(V=typeof q=="string"?a.string2buf(q):g.call(q)==="[object ArrayBuffer]"?new Uint8Array(q):q,E=i.inflateSetDictionary(this.strm,V)),E===u.Z_BUF_ERROR&&W===!0&&(E=u.Z_OK,W=!1),E!==u.Z_STREAM_END&&E!==u.Z_OK)return this.onEnd(E),!(this.ended=!0);B.next_out&&(B.avail_out!==0&&E!==u.Z_STREAM_END&&(B.avail_in!==0||$!==u.Z_FINISH&&$!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(R=a.utf8border(B.output,B.next_out),N=B.next_out-R,D=a.buf2string(B.output,R),B.next_out=N,B.avail_out=K-N,N&&o.arraySet(B.output,B.output,R,N,0),this.onData(D)):this.onData(o.shrinkBuf(B.output,B.next_out)))),B.avail_in===0&&B.avail_out===0&&(W=!0)}while((0<B.avail_in||B.avail_out===0)&&E!==u.Z_STREAM_END);return E===u.Z_STREAM_END&&($=u.Z_FINISH),$===u.Z_FINISH?(E=i.inflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===u.Z_OK):$!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(B.avail_out=0))},y.prototype.onData=function(w){this.chunks.push(w)},y.prototype.onEnd=function(w){w===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},s.Inflate=y,s.inflate=_,s.inflateRaw=function(w,S){return(S=S||{}).raw=!0,_(w,S)},s.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(u){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var d=c.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var h in d)d.hasOwnProperty(h)&&(u[h]=d[h])}}return u},s.shrinkBuf=function(u,c){return u.length===c?u:u.subarray?u.subarray(0,c):(u.length=c,u)};var o={arraySet:function(u,c,d,h,g){if(c.subarray&&u.subarray)u.set(c.subarray(d,d+h),g);else for(var y=0;y<h;y++)u[g+y]=c[d+y]},flattenChunks:function(u){var c,d,h,g,y,_;for(c=h=0,d=u.length;c<d;c++)h+=u[c].length;for(_=new Uint8Array(h),c=g=0,d=u.length;c<d;c++)y=u[c],_.set(y,g),g+=y.length;return _}},a={arraySet:function(u,c,d,h,g){for(var y=0;y<h;y++)u[g+y]=c[d+y]},flattenChunks:function(u){return[].concat.apply([],u)}};s.setTyped=function(u){u?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,o)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,a))},s.setTyped(i)},{}],42:[function(t,n,s){var i=t("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var u=new i.Buf8(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function d(h,g){if(g<65537&&(h.subarray&&a||!h.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(h,g));for(var y="",_=0;_<g;_++)y+=String.fromCharCode(h[_]);return y}u[254]=u[254]=1,s.string2buf=function(h){var g,y,_,w,S,E=h.length,$=0;for(w=0;w<E;w++)(64512&(y=h.charCodeAt(w)))==55296&&w+1<E&&(64512&(_=h.charCodeAt(w+1)))==56320&&(y=65536+(y-55296<<10)+(_-56320),w++),$+=y<128?1:y<2048?2:y<65536?3:4;for(g=new i.Buf8($),w=S=0;S<$;w++)(64512&(y=h.charCodeAt(w)))==55296&&w+1<E&&(64512&(_=h.charCodeAt(w+1)))==56320&&(y=65536+(y-55296<<10)+(_-56320),w++),y<128?g[S++]=y:(y<2048?g[S++]=192|y>>>6:(y<65536?g[S++]=224|y>>>12:(g[S++]=240|y>>>18,g[S++]=128|y>>>12&63),g[S++]=128|y>>>6&63),g[S++]=128|63&y);return g},s.buf2binstring=function(h){return d(h,h.length)},s.binstring2buf=function(h){for(var g=new i.Buf8(h.length),y=0,_=g.length;y<_;y++)g[y]=h.charCodeAt(y);return g},s.buf2string=function(h,g){var y,_,w,S,E=g||h.length,$=new Array(2*E);for(y=_=0;y<E;)if((w=h[y++])<128)$[_++]=w;else if(4<(S=u[w]))$[_++]=65533,y+=S-1;else{for(w&=S===2?31:S===3?15:7;1<S&&y<E;)w=w<<6|63&h[y++],S--;1<S?$[_++]=65533:w<65536?$[_++]=w:(w-=65536,$[_++]=55296|w>>10&1023,$[_++]=56320|1023&w)}return d($,_)},s.utf8border=function(h,g){var y;for((g=g||h.length)>h.length&&(g=h.length),y=g-1;0<=y&&(192&h[y])==128;)y--;return y<0||y===0?g:y+u[h[y]]>g?y:g}},{"./common":41}],43:[function(t,n,s){n.exports=function(i,o,a,u){for(var c=65535&i|0,d=i>>>16&65535|0,h=0;a!==0;){for(a-=h=2e3<a?2e3:a;d=d+(c=c+o[u++]|0)|0,--h;);c%=65521,d%=65521}return c|d<<16|0}},{}],44:[function(t,n,s){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,s){var i=function(){for(var o,a=[],u=0;u<256;u++){o=u;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;a[u]=o}return a}();n.exports=function(o,a,u,c){var d=i,h=c+u;o^=-1;for(var g=c;g<h;g++)o=o>>>8^d[255&(o^a[g])];return-1^o}},{}],46:[function(t,n,s){var i,o=t("../utils/common"),a=t("./trees"),u=t("./adler32"),c=t("./crc32"),d=t("./messages"),h=0,g=4,y=0,_=-2,w=-1,S=4,E=2,$=8,R=9,N=286,D=30,V=19,B=2*N+1,K=15,q=3,W=258,ce=W+q+1,T=42,G=113,v=1,Z=2,Ee=3,Q=4;function xe(m,X){return m.msg=d[X],X}function fe(m){return(m<<1)-(4<m?9:0)}function oe(m){for(var X=m.length;0<=--X;)m[X]=0}function F(m){var X=m.state,Y=X.pending;Y>m.avail_out&&(Y=m.avail_out),Y!==0&&(o.arraySet(m.output,X.pending_buf,X.pending_out,Y,m.next_out),m.next_out+=Y,X.pending_out+=Y,m.total_out+=Y,m.avail_out-=Y,X.pending-=Y,X.pending===0&&(X.pending_out=0))}function M(m,X){a._tr_flush_block(m,0<=m.block_start?m.block_start:-1,m.strstart-m.block_start,X),m.block_start=m.strstart,F(m.strm)}function be(m,X){m.pending_buf[m.pending++]=X}function ge(m,X){m.pending_buf[m.pending++]=X>>>8&255,m.pending_buf[m.pending++]=255&X}function ue(m,X){var Y,A,P=m.max_chain_length,C=m.strstart,se=m.prev_length,ne=m.nice_match,H=m.strstart>m.w_size-ce?m.strstart-(m.w_size-ce):0,de=m.window,ve=m.w_mask,pe=m.prev,Pe=m.strstart+W,Fe=de[C+se-1],De=de[C+se];m.prev_length>=m.good_match&&(P>>=2),ne>m.lookahead&&(ne=m.lookahead);do if(de[(Y=X)+se]===De&&de[Y+se-1]===Fe&&de[Y]===de[C]&&de[++Y]===de[C+1]){C+=2,Y++;do;while(de[++C]===de[++Y]&&de[++C]===de[++Y]&&de[++C]===de[++Y]&&de[++C]===de[++Y]&&de[++C]===de[++Y]&&de[++C]===de[++Y]&&de[++C]===de[++Y]&&de[++C]===de[++Y]&&C<Pe);if(A=W-(Pe-C),C=Pe-W,se<A){if(m.match_start=X,ne<=(se=A))break;Fe=de[C+se-1],De=de[C+se]}}while((X=pe[X&ve])>H&&--P!=0);return se<=m.lookahead?se:m.lookahead}function Be(m){var X,Y,A,P,C,se,ne,H,de,ve,pe=m.w_size;do{if(P=m.window_size-m.lookahead-m.strstart,m.strstart>=pe+(pe-ce)){for(o.arraySet(m.window,m.window,pe,pe,0),m.match_start-=pe,m.strstart-=pe,m.block_start-=pe,X=Y=m.hash_size;A=m.head[--X],m.head[X]=pe<=A?A-pe:0,--Y;);for(X=Y=pe;A=m.prev[--X],m.prev[X]=pe<=A?A-pe:0,--Y;);P+=pe}if(m.strm.avail_in===0)break;if(se=m.strm,ne=m.window,H=m.strstart+m.lookahead,de=P,ve=void 0,ve=se.avail_in,de<ve&&(ve=de),Y=ve===0?0:(se.avail_in-=ve,o.arraySet(ne,se.input,se.next_in,ve,H),se.state.wrap===1?se.adler=u(se.adler,ne,ve,H):se.state.wrap===2&&(se.adler=c(se.adler,ne,ve,H)),se.next_in+=ve,se.total_in+=ve,ve),m.lookahead+=Y,m.lookahead+m.insert>=q)for(C=m.strstart-m.insert,m.ins_h=m.window[C],m.ins_h=(m.ins_h<<m.hash_shift^m.window[C+1])&m.hash_mask;m.insert&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[C+q-1])&m.hash_mask,m.prev[C&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=C,C++,m.insert--,!(m.lookahead+m.insert<q)););}while(m.lookahead<ce&&m.strm.avail_in!==0)}function Ge(m,X){for(var Y,A;;){if(m.lookahead<ce){if(Be(m),m.lookahead<ce&&X===h)return v;if(m.lookahead===0)break}if(Y=0,m.lookahead>=q&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+q-1])&m.hash_mask,Y=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),Y!==0&&m.strstart-Y<=m.w_size-ce&&(m.match_length=ue(m,Y)),m.match_length>=q)if(A=a._tr_tally(m,m.strstart-m.match_start,m.match_length-q),m.lookahead-=m.match_length,m.match_length<=m.max_lazy_match&&m.lookahead>=q){for(m.match_length--;m.strstart++,m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+q-1])&m.hash_mask,Y=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart,--m.match_length!=0;);m.strstart++}else m.strstart+=m.match_length,m.match_length=0,m.ins_h=m.window[m.strstart],m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+1])&m.hash_mask;else A=a._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++;if(A&&(M(m,!1),m.strm.avail_out===0))return v}return m.insert=m.strstart<q-1?m.strstart:q-1,X===g?(M(m,!0),m.strm.avail_out===0?Ee:Q):m.last_lit&&(M(m,!1),m.strm.avail_out===0)?v:Z}function Oe(m,X){for(var Y,A,P;;){if(m.lookahead<ce){if(Be(m),m.lookahead<ce&&X===h)return v;if(m.lookahead===0)break}if(Y=0,m.lookahead>=q&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+q-1])&m.hash_mask,Y=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),m.prev_length=m.match_length,m.prev_match=m.match_start,m.match_length=q-1,Y!==0&&m.prev_length<m.max_lazy_match&&m.strstart-Y<=m.w_size-ce&&(m.match_length=ue(m,Y),m.match_length<=5&&(m.strategy===1||m.match_length===q&&4096<m.strstart-m.match_start)&&(m.match_length=q-1)),m.prev_length>=q&&m.match_length<=m.prev_length){for(P=m.strstart+m.lookahead-q,A=a._tr_tally(m,m.strstart-1-m.prev_match,m.prev_length-q),m.lookahead-=m.prev_length-1,m.prev_length-=2;++m.strstart<=P&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+q-1])&m.hash_mask,Y=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),--m.prev_length!=0;);if(m.match_available=0,m.match_length=q-1,m.strstart++,A&&(M(m,!1),m.strm.avail_out===0))return v}else if(m.match_available){if((A=a._tr_tally(m,0,m.window[m.strstart-1]))&&M(m,!1),m.strstart++,m.lookahead--,m.strm.avail_out===0)return v}else m.match_available=1,m.strstart++,m.lookahead--}return m.match_available&&(A=a._tr_tally(m,0,m.window[m.strstart-1]),m.match_available=0),m.insert=m.strstart<q-1?m.strstart:q-1,X===g?(M(m,!0),m.strm.avail_out===0?Ee:Q):m.last_lit&&(M(m,!1),m.strm.avail_out===0)?v:Z}function Re(m,X,Y,A,P){this.good_length=m,this.max_lazy=X,this.nice_length=Y,this.max_chain=A,this.func=P}function He(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=$,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*B),this.dyn_dtree=new o.Buf16(2*(2*D+1)),this.bl_tree=new o.Buf16(2*(2*V+1)),oe(this.dyn_ltree),oe(this.dyn_dtree),oe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(K+1),this.heap=new o.Buf16(2*N+1),oe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*N+1),oe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function We(m){var X;return m&&m.state?(m.total_in=m.total_out=0,m.data_type=E,(X=m.state).pending=0,X.pending_out=0,X.wrap<0&&(X.wrap=-X.wrap),X.status=X.wrap?T:G,m.adler=X.wrap===2?0:1,X.last_flush=h,a._tr_init(X),y):xe(m,_)}function Ze(m){var X=We(m);return X===y&&function(Y){Y.window_size=2*Y.w_size,oe(Y.head),Y.max_lazy_match=i[Y.level].max_lazy,Y.good_match=i[Y.level].good_length,Y.nice_match=i[Y.level].nice_length,Y.max_chain_length=i[Y.level].max_chain,Y.strstart=0,Y.block_start=0,Y.lookahead=0,Y.insert=0,Y.match_length=Y.prev_length=q-1,Y.match_available=0,Y.ins_h=0}(m.state),X}function rt(m,X,Y,A,P,C){if(!m)return _;var se=1;if(X===w&&(X=6),A<0?(se=0,A=-A):15<A&&(se=2,A-=16),P<1||R<P||Y!==$||A<8||15<A||X<0||9<X||C<0||S<C)return xe(m,_);A===8&&(A=9);var ne=new He;return(m.state=ne).strm=m,ne.wrap=se,ne.gzhead=null,ne.w_bits=A,ne.w_size=1<<ne.w_bits,ne.w_mask=ne.w_size-1,ne.hash_bits=P+7,ne.hash_size=1<<ne.hash_bits,ne.hash_mask=ne.hash_size-1,ne.hash_shift=~~((ne.hash_bits+q-1)/q),ne.window=new o.Buf8(2*ne.w_size),ne.head=new o.Buf16(ne.hash_size),ne.prev=new o.Buf16(ne.w_size),ne.lit_bufsize=1<<P+6,ne.pending_buf_size=4*ne.lit_bufsize,ne.pending_buf=new o.Buf8(ne.pending_buf_size),ne.d_buf=1*ne.lit_bufsize,ne.l_buf=3*ne.lit_bufsize,ne.level=X,ne.strategy=C,ne.method=Y,Ze(m)}i=[new Re(0,0,0,0,function(m,X){var Y=65535;for(Y>m.pending_buf_size-5&&(Y=m.pending_buf_size-5);;){if(m.lookahead<=1){if(Be(m),m.lookahead===0&&X===h)return v;if(m.lookahead===0)break}m.strstart+=m.lookahead,m.lookahead=0;var A=m.block_start+Y;if((m.strstart===0||m.strstart>=A)&&(m.lookahead=m.strstart-A,m.strstart=A,M(m,!1),m.strm.avail_out===0)||m.strstart-m.block_start>=m.w_size-ce&&(M(m,!1),m.strm.avail_out===0))return v}return m.insert=0,X===g?(M(m,!0),m.strm.avail_out===0?Ee:Q):(m.strstart>m.block_start&&(M(m,!1),m.strm.avail_out),v)}),new Re(4,4,8,4,Ge),new Re(4,5,16,8,Ge),new Re(4,6,32,32,Ge),new Re(4,4,16,16,Oe),new Re(8,16,32,32,Oe),new Re(8,16,128,128,Oe),new Re(8,32,128,256,Oe),new Re(32,128,258,1024,Oe),new Re(32,258,258,4096,Oe)],s.deflateInit=function(m,X){return rt(m,X,$,15,8,0)},s.deflateInit2=rt,s.deflateReset=Ze,s.deflateResetKeep=We,s.deflateSetHeader=function(m,X){return m&&m.state?m.state.wrap!==2?_:(m.state.gzhead=X,y):_},s.deflate=function(m,X){var Y,A,P,C;if(!m||!m.state||5<X||X<0)return m?xe(m,_):_;if(A=m.state,!m.output||!m.input&&m.avail_in!==0||A.status===666&&X!==g)return xe(m,m.avail_out===0?-5:_);if(A.strm=m,Y=A.last_flush,A.last_flush=X,A.status===T)if(A.wrap===2)m.adler=0,be(A,31),be(A,139),be(A,8),A.gzhead?(be(A,(A.gzhead.text?1:0)+(A.gzhead.hcrc?2:0)+(A.gzhead.extra?4:0)+(A.gzhead.name?8:0)+(A.gzhead.comment?16:0)),be(A,255&A.gzhead.time),be(A,A.gzhead.time>>8&255),be(A,A.gzhead.time>>16&255),be(A,A.gzhead.time>>24&255),be(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),be(A,255&A.gzhead.os),A.gzhead.extra&&A.gzhead.extra.length&&(be(A,255&A.gzhead.extra.length),be(A,A.gzhead.extra.length>>8&255)),A.gzhead.hcrc&&(m.adler=c(m.adler,A.pending_buf,A.pending,0)),A.gzindex=0,A.status=69):(be(A,0),be(A,0),be(A,0),be(A,0),be(A,0),be(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),be(A,3),A.status=G);else{var se=$+(A.w_bits-8<<4)<<8;se|=(2<=A.strategy||A.level<2?0:A.level<6?1:A.level===6?2:3)<<6,A.strstart!==0&&(se|=32),se+=31-se%31,A.status=G,ge(A,se),A.strstart!==0&&(ge(A,m.adler>>>16),ge(A,65535&m.adler)),m.adler=1}if(A.status===69)if(A.gzhead.extra){for(P=A.pending;A.gzindex<(65535&A.gzhead.extra.length)&&(A.pending!==A.pending_buf_size||(A.gzhead.hcrc&&A.pending>P&&(m.adler=c(m.adler,A.pending_buf,A.pending-P,P)),F(m),P=A.pending,A.pending!==A.pending_buf_size));)be(A,255&A.gzhead.extra[A.gzindex]),A.gzindex++;A.gzhead.hcrc&&A.pending>P&&(m.adler=c(m.adler,A.pending_buf,A.pending-P,P)),A.gzindex===A.gzhead.extra.length&&(A.gzindex=0,A.status=73)}else A.status=73;if(A.status===73)if(A.gzhead.name){P=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>P&&(m.adler=c(m.adler,A.pending_buf,A.pending-P,P)),F(m),P=A.pending,A.pending===A.pending_buf_size)){C=1;break}C=A.gzindex<A.gzhead.name.length?255&A.gzhead.name.charCodeAt(A.gzindex++):0,be(A,C)}while(C!==0);A.gzhead.hcrc&&A.pending>P&&(m.adler=c(m.adler,A.pending_buf,A.pending-P,P)),C===0&&(A.gzindex=0,A.status=91)}else A.status=91;if(A.status===91)if(A.gzhead.comment){P=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>P&&(m.adler=c(m.adler,A.pending_buf,A.pending-P,P)),F(m),P=A.pending,A.pending===A.pending_buf_size)){C=1;break}C=A.gzindex<A.gzhead.comment.length?255&A.gzhead.comment.charCodeAt(A.gzindex++):0,be(A,C)}while(C!==0);A.gzhead.hcrc&&A.pending>P&&(m.adler=c(m.adler,A.pending_buf,A.pending-P,P)),C===0&&(A.status=103)}else A.status=103;if(A.status===103&&(A.gzhead.hcrc?(A.pending+2>A.pending_buf_size&&F(m),A.pending+2<=A.pending_buf_size&&(be(A,255&m.adler),be(A,m.adler>>8&255),m.adler=0,A.status=G)):A.status=G),A.pending!==0){if(F(m),m.avail_out===0)return A.last_flush=-1,y}else if(m.avail_in===0&&fe(X)<=fe(Y)&&X!==g)return xe(m,-5);if(A.status===666&&m.avail_in!==0)return xe(m,-5);if(m.avail_in!==0||A.lookahead!==0||X!==h&&A.status!==666){var ne=A.strategy===2?function(H,de){for(var ve;;){if(H.lookahead===0&&(Be(H),H.lookahead===0)){if(de===h)return v;break}if(H.match_length=0,ve=a._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++,ve&&(M(H,!1),H.strm.avail_out===0))return v}return H.insert=0,de===g?(M(H,!0),H.strm.avail_out===0?Ee:Q):H.last_lit&&(M(H,!1),H.strm.avail_out===0)?v:Z}(A,X):A.strategy===3?function(H,de){for(var ve,pe,Pe,Fe,De=H.window;;){if(H.lookahead<=W){if(Be(H),H.lookahead<=W&&de===h)return v;if(H.lookahead===0)break}if(H.match_length=0,H.lookahead>=q&&0<H.strstart&&(pe=De[Pe=H.strstart-1])===De[++Pe]&&pe===De[++Pe]&&pe===De[++Pe]){Fe=H.strstart+W;do;while(pe===De[++Pe]&&pe===De[++Pe]&&pe===De[++Pe]&&pe===De[++Pe]&&pe===De[++Pe]&&pe===De[++Pe]&&pe===De[++Pe]&&pe===De[++Pe]&&Pe<Fe);H.match_length=W-(Fe-Pe),H.match_length>H.lookahead&&(H.match_length=H.lookahead)}if(H.match_length>=q?(ve=a._tr_tally(H,1,H.match_length-q),H.lookahead-=H.match_length,H.strstart+=H.match_length,H.match_length=0):(ve=a._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++),ve&&(M(H,!1),H.strm.avail_out===0))return v}return H.insert=0,de===g?(M(H,!0),H.strm.avail_out===0?Ee:Q):H.last_lit&&(M(H,!1),H.strm.avail_out===0)?v:Z}(A,X):i[A.level].func(A,X);if(ne!==Ee&&ne!==Q||(A.status=666),ne===v||ne===Ee)return m.avail_out===0&&(A.last_flush=-1),y;if(ne===Z&&(X===1?a._tr_align(A):X!==5&&(a._tr_stored_block(A,0,0,!1),X===3&&(oe(A.head),A.lookahead===0&&(A.strstart=0,A.block_start=0,A.insert=0))),F(m),m.avail_out===0))return A.last_flush=-1,y}return X!==g?y:A.wrap<=0?1:(A.wrap===2?(be(A,255&m.adler),be(A,m.adler>>8&255),be(A,m.adler>>16&255),be(A,m.adler>>24&255),be(A,255&m.total_in),be(A,m.total_in>>8&255),be(A,m.total_in>>16&255),be(A,m.total_in>>24&255)):(ge(A,m.adler>>>16),ge(A,65535&m.adler)),F(m),0<A.wrap&&(A.wrap=-A.wrap),A.pending!==0?y:1)},s.deflateEnd=function(m){var X;return m&&m.state?(X=m.state.status)!==T&&X!==69&&X!==73&&X!==91&&X!==103&&X!==G&&X!==666?xe(m,_):(m.state=null,X===G?xe(m,-3):y):_},s.deflateSetDictionary=function(m,X){var Y,A,P,C,se,ne,H,de,ve=X.length;if(!m||!m.state||(C=(Y=m.state).wrap)===2||C===1&&Y.status!==T||Y.lookahead)return _;for(C===1&&(m.adler=u(m.adler,X,ve,0)),Y.wrap=0,ve>=Y.w_size&&(C===0&&(oe(Y.head),Y.strstart=0,Y.block_start=0,Y.insert=0),de=new o.Buf8(Y.w_size),o.arraySet(de,X,ve-Y.w_size,Y.w_size,0),X=de,ve=Y.w_size),se=m.avail_in,ne=m.next_in,H=m.input,m.avail_in=ve,m.next_in=0,m.input=X,Be(Y);Y.lookahead>=q;){for(A=Y.strstart,P=Y.lookahead-(q-1);Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[A+q-1])&Y.hash_mask,Y.prev[A&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=A,A++,--P;);Y.strstart=A,Y.lookahead=q-1,Be(Y)}return Y.strstart+=Y.lookahead,Y.block_start=Y.strstart,Y.insert=Y.lookahead,Y.lookahead=0,Y.match_length=Y.prev_length=q-1,Y.match_available=0,m.next_in=ne,m.input=H,m.avail_in=se,Y.wrap=C,y},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,s){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,s){n.exports=function(i,o){var a,u,c,d,h,g,y,_,w,S,E,$,R,N,D,V,B,K,q,W,ce,T,G,v,Z;a=i.state,u=i.next_in,v=i.input,c=u+(i.avail_in-5),d=i.next_out,Z=i.output,h=d-(o-i.avail_out),g=d+(i.avail_out-257),y=a.dmax,_=a.wsize,w=a.whave,S=a.wnext,E=a.window,$=a.hold,R=a.bits,N=a.lencode,D=a.distcode,V=(1<<a.lenbits)-1,B=(1<<a.distbits)-1;e:do{R<15&&($+=v[u++]<<R,R+=8,$+=v[u++]<<R,R+=8),K=N[$&V];t:for(;;){if($>>>=q=K>>>24,R-=q,(q=K>>>16&255)===0)Z[d++]=65535&K;else{if(!(16&q)){if(!(64&q)){K=N[(65535&K)+($&(1<<q)-1)];continue t}if(32&q){a.mode=12;break e}i.msg="invalid literal/length code",a.mode=30;break e}W=65535&K,(q&=15)&&(R<q&&($+=v[u++]<<R,R+=8),W+=$&(1<<q)-1,$>>>=q,R-=q),R<15&&($+=v[u++]<<R,R+=8,$+=v[u++]<<R,R+=8),K=D[$&B];r:for(;;){if($>>>=q=K>>>24,R-=q,!(16&(q=K>>>16&255))){if(!(64&q)){K=D[(65535&K)+($&(1<<q)-1)];continue r}i.msg="invalid distance code",a.mode=30;break e}if(ce=65535&K,R<(q&=15)&&($+=v[u++]<<R,(R+=8)<q&&($+=v[u++]<<R,R+=8)),y<(ce+=$&(1<<q)-1)){i.msg="invalid distance too far back",a.mode=30;break e}if($>>>=q,R-=q,(q=d-h)<ce){if(w<(q=ce-q)&&a.sane){i.msg="invalid distance too far back",a.mode=30;break e}if(G=E,(T=0)===S){if(T+=_-q,q<W){for(W-=q;Z[d++]=E[T++],--q;);T=d-ce,G=Z}}else if(S<q){if(T+=_+S-q,(q-=S)<W){for(W-=q;Z[d++]=E[T++],--q;);if(T=0,S<W){for(W-=q=S;Z[d++]=E[T++],--q;);T=d-ce,G=Z}}}else if(T+=S-q,q<W){for(W-=q;Z[d++]=E[T++],--q;);T=d-ce,G=Z}for(;2<W;)Z[d++]=G[T++],Z[d++]=G[T++],Z[d++]=G[T++],W-=3;W&&(Z[d++]=G[T++],1<W&&(Z[d++]=G[T++]))}else{for(T=d-ce;Z[d++]=Z[T++],Z[d++]=Z[T++],Z[d++]=Z[T++],2<(W-=3););W&&(Z[d++]=Z[T++],1<W&&(Z[d++]=Z[T++]))}break}}break}}while(u<c&&d<g);u-=W=R>>3,$&=(1<<(R-=W<<3))-1,i.next_in=u,i.next_out=d,i.avail_in=u<c?c-u+5:5-(u-c),i.avail_out=d<g?g-d+257:257-(d-g),a.hold=$,a.bits=R}},{}],49:[function(t,n,s){var i=t("../utils/common"),o=t("./adler32"),a=t("./crc32"),u=t("./inffast"),c=t("./inftrees"),d=1,h=2,g=0,y=-2,_=1,w=852,S=592;function E(T){return(T>>>24&255)+(T>>>8&65280)+((65280&T)<<8)+((255&T)<<24)}function $(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function R(T){var G;return T&&T.state?(G=T.state,T.total_in=T.total_out=G.total=0,T.msg="",G.wrap&&(T.adler=1&G.wrap),G.mode=_,G.last=0,G.havedict=0,G.dmax=32768,G.head=null,G.hold=0,G.bits=0,G.lencode=G.lendyn=new i.Buf32(w),G.distcode=G.distdyn=new i.Buf32(S),G.sane=1,G.back=-1,g):y}function N(T){var G;return T&&T.state?((G=T.state).wsize=0,G.whave=0,G.wnext=0,R(T)):y}function D(T,G){var v,Z;return T&&T.state?(Z=T.state,G<0?(v=0,G=-G):(v=1+(G>>4),G<48&&(G&=15)),G&&(G<8||15<G)?y:(Z.window!==null&&Z.wbits!==G&&(Z.window=null),Z.wrap=v,Z.wbits=G,N(T))):y}function V(T,G){var v,Z;return T?(Z=new $,(T.state=Z).window=null,(v=D(T,G))!==g&&(T.state=null),v):y}var B,K,q=!0;function W(T){if(q){var G;for(B=new i.Buf32(512),K=new i.Buf32(32),G=0;G<144;)T.lens[G++]=8;for(;G<256;)T.lens[G++]=9;for(;G<280;)T.lens[G++]=7;for(;G<288;)T.lens[G++]=8;for(c(d,T.lens,0,288,B,0,T.work,{bits:9}),G=0;G<32;)T.lens[G++]=5;c(h,T.lens,0,32,K,0,T.work,{bits:5}),q=!1}T.lencode=B,T.lenbits=9,T.distcode=K,T.distbits=5}function ce(T,G,v,Z){var Ee,Q=T.state;return Q.window===null&&(Q.wsize=1<<Q.wbits,Q.wnext=0,Q.whave=0,Q.window=new i.Buf8(Q.wsize)),Z>=Q.wsize?(i.arraySet(Q.window,G,v-Q.wsize,Q.wsize,0),Q.wnext=0,Q.whave=Q.wsize):(Z<(Ee=Q.wsize-Q.wnext)&&(Ee=Z),i.arraySet(Q.window,G,v-Z,Ee,Q.wnext),(Z-=Ee)?(i.arraySet(Q.window,G,v-Z,Z,0),Q.wnext=Z,Q.whave=Q.wsize):(Q.wnext+=Ee,Q.wnext===Q.wsize&&(Q.wnext=0),Q.whave<Q.wsize&&(Q.whave+=Ee))),0}s.inflateReset=N,s.inflateReset2=D,s.inflateResetKeep=R,s.inflateInit=function(T){return V(T,15)},s.inflateInit2=V,s.inflate=function(T,G){var v,Z,Ee,Q,xe,fe,oe,F,M,be,ge,ue,Be,Ge,Oe,Re,He,We,Ze,rt,m,X,Y,A,P=0,C=new i.Buf8(4),se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return y;(v=T.state).mode===12&&(v.mode=13),xe=T.next_out,Ee=T.output,oe=T.avail_out,Q=T.next_in,Z=T.input,fe=T.avail_in,F=v.hold,M=v.bits,be=fe,ge=oe,X=g;e:for(;;)switch(v.mode){case _:if(v.wrap===0){v.mode=13;break}for(;M<16;){if(fe===0)break e;fe--,F+=Z[Q++]<<M,M+=8}if(2&v.wrap&&F===35615){C[v.check=0]=255&F,C[1]=F>>>8&255,v.check=a(v.check,C,2,0),M=F=0,v.mode=2;break}if(v.flags=0,v.head&&(v.head.done=!1),!(1&v.wrap)||(((255&F)<<8)+(F>>8))%31){T.msg="incorrect header check",v.mode=30;break}if((15&F)!=8){T.msg="unknown compression method",v.mode=30;break}if(M-=4,m=8+(15&(F>>>=4)),v.wbits===0)v.wbits=m;else if(m>v.wbits){T.msg="invalid window size",v.mode=30;break}v.dmax=1<<m,T.adler=v.check=1,v.mode=512&F?10:12,M=F=0;break;case 2:for(;M<16;){if(fe===0)break e;fe--,F+=Z[Q++]<<M,M+=8}if(v.flags=F,(255&v.flags)!=8){T.msg="unknown compression method",v.mode=30;break}if(57344&v.flags){T.msg="unknown header flags set",v.mode=30;break}v.head&&(v.head.text=F>>8&1),512&v.flags&&(C[0]=255&F,C[1]=F>>>8&255,v.check=a(v.check,C,2,0)),M=F=0,v.mode=3;case 3:for(;M<32;){if(fe===0)break e;fe--,F+=Z[Q++]<<M,M+=8}v.head&&(v.head.time=F),512&v.flags&&(C[0]=255&F,C[1]=F>>>8&255,C[2]=F>>>16&255,C[3]=F>>>24&255,v.check=a(v.check,C,4,0)),M=F=0,v.mode=4;case 4:for(;M<16;){if(fe===0)break e;fe--,F+=Z[Q++]<<M,M+=8}v.head&&(v.head.xflags=255&F,v.head.os=F>>8),512&v.flags&&(C[0]=255&F,C[1]=F>>>8&255,v.check=a(v.check,C,2,0)),M=F=0,v.mode=5;case 5:if(1024&v.flags){for(;M<16;){if(fe===0)break e;fe--,F+=Z[Q++]<<M,M+=8}v.length=F,v.head&&(v.head.extra_len=F),512&v.flags&&(C[0]=255&F,C[1]=F>>>8&255,v.check=a(v.check,C,2,0)),M=F=0}else v.head&&(v.head.extra=null);v.mode=6;case 6:if(1024&v.flags&&(fe<(ue=v.length)&&(ue=fe),ue&&(v.head&&(m=v.head.extra_len-v.length,v.head.extra||(v.head.extra=new Array(v.head.extra_len)),i.arraySet(v.head.extra,Z,Q,ue,m)),512&v.flags&&(v.check=a(v.check,Z,ue,Q)),fe-=ue,Q+=ue,v.length-=ue),v.length))break e;v.length=0,v.mode=7;case 7:if(2048&v.flags){if(fe===0)break e;for(ue=0;m=Z[Q+ue++],v.head&&m&&v.length<65536&&(v.head.name+=String.fromCharCode(m)),m&&ue<fe;);if(512&v.flags&&(v.check=a(v.check,Z,ue,Q)),fe-=ue,Q+=ue,m)break e}else v.head&&(v.head.name=null);v.length=0,v.mode=8;case 8:if(4096&v.flags){if(fe===0)break e;for(ue=0;m=Z[Q+ue++],v.head&&m&&v.length<65536&&(v.head.comment+=String.fromCharCode(m)),m&&ue<fe;);if(512&v.flags&&(v.check=a(v.check,Z,ue,Q)),fe-=ue,Q+=ue,m)break e}else v.head&&(v.head.comment=null);v.mode=9;case 9:if(512&v.flags){for(;M<16;){if(fe===0)break e;fe--,F+=Z[Q++]<<M,M+=8}if(F!==(65535&v.check)){T.msg="header crc mismatch",v.mode=30;break}M=F=0}v.head&&(v.head.hcrc=v.flags>>9&1,v.head.done=!0),T.adler=v.check=0,v.mode=12;break;case 10:for(;M<32;){if(fe===0)break e;fe--,F+=Z[Q++]<<M,M+=8}T.adler=v.check=E(F),M=F=0,v.mode=11;case 11:if(v.havedict===0)return T.next_out=xe,T.avail_out=oe,T.next_in=Q,T.avail_in=fe,v.hold=F,v.bits=M,2;T.adler=v.check=1,v.mode=12;case 12:if(G===5||G===6)break e;case 13:if(v.last){F>>>=7&M,M-=7&M,v.mode=27;break}for(;M<3;){if(fe===0)break e;fe--,F+=Z[Q++]<<M,M+=8}switch(v.last=1&F,M-=1,3&(F>>>=1)){case 0:v.mode=14;break;case 1:if(W(v),v.mode=20,G!==6)break;F>>>=2,M-=2;break e;case 2:v.mode=17;break;case 3:T.msg="invalid block type",v.mode=30}F>>>=2,M-=2;break;case 14:for(F>>>=7&M,M-=7&M;M<32;){if(fe===0)break e;fe--,F+=Z[Q++]<<M,M+=8}if((65535&F)!=(F>>>16^65535)){T.msg="invalid stored block lengths",v.mode=30;break}if(v.length=65535&F,M=F=0,v.mode=15,G===6)break e;case 15:v.mode=16;case 16:if(ue=v.length){if(fe<ue&&(ue=fe),oe<ue&&(ue=oe),ue===0)break e;i.arraySet(Ee,Z,Q,ue,xe),fe-=ue,Q+=ue,oe-=ue,xe+=ue,v.length-=ue;break}v.mode=12;break;case 17:for(;M<14;){if(fe===0)break e;fe--,F+=Z[Q++]<<M,M+=8}if(v.nlen=257+(31&F),F>>>=5,M-=5,v.ndist=1+(31&F),F>>>=5,M-=5,v.ncode=4+(15&F),F>>>=4,M-=4,286<v.nlen||30<v.ndist){T.msg="too many length or distance symbols",v.mode=30;break}v.have=0,v.mode=18;case 18:for(;v.have<v.ncode;){for(;M<3;){if(fe===0)break e;fe--,F+=Z[Q++]<<M,M+=8}v.lens[se[v.have++]]=7&F,F>>>=3,M-=3}for(;v.have<19;)v.lens[se[v.have++]]=0;if(v.lencode=v.lendyn,v.lenbits=7,Y={bits:v.lenbits},X=c(0,v.lens,0,19,v.lencode,0,v.work,Y),v.lenbits=Y.bits,X){T.msg="invalid code lengths set",v.mode=30;break}v.have=0,v.mode=19;case 19:for(;v.have<v.nlen+v.ndist;){for(;Re=(P=v.lencode[F&(1<<v.lenbits)-1])>>>16&255,He=65535&P,!((Oe=P>>>24)<=M);){if(fe===0)break e;fe--,F+=Z[Q++]<<M,M+=8}if(He<16)F>>>=Oe,M-=Oe,v.lens[v.have++]=He;else{if(He===16){for(A=Oe+2;M<A;){if(fe===0)break e;fe--,F+=Z[Q++]<<M,M+=8}if(F>>>=Oe,M-=Oe,v.have===0){T.msg="invalid bit length repeat",v.mode=30;break}m=v.lens[v.have-1],ue=3+(3&F),F>>>=2,M-=2}else if(He===17){for(A=Oe+3;M<A;){if(fe===0)break e;fe--,F+=Z[Q++]<<M,M+=8}M-=Oe,m=0,ue=3+(7&(F>>>=Oe)),F>>>=3,M-=3}else{for(A=Oe+7;M<A;){if(fe===0)break e;fe--,F+=Z[Q++]<<M,M+=8}M-=Oe,m=0,ue=11+(127&(F>>>=Oe)),F>>>=7,M-=7}if(v.have+ue>v.nlen+v.ndist){T.msg="invalid bit length repeat",v.mode=30;break}for(;ue--;)v.lens[v.have++]=m}}if(v.mode===30)break;if(v.lens[256]===0){T.msg="invalid code -- missing end-of-block",v.mode=30;break}if(v.lenbits=9,Y={bits:v.lenbits},X=c(d,v.lens,0,v.nlen,v.lencode,0,v.work,Y),v.lenbits=Y.bits,X){T.msg="invalid literal/lengths set",v.mode=30;break}if(v.distbits=6,v.distcode=v.distdyn,Y={bits:v.distbits},X=c(h,v.lens,v.nlen,v.ndist,v.distcode,0,v.work,Y),v.distbits=Y.bits,X){T.msg="invalid distances set",v.mode=30;break}if(v.mode=20,G===6)break e;case 20:v.mode=21;case 21:if(6<=fe&&258<=oe){T.next_out=xe,T.avail_out=oe,T.next_in=Q,T.avail_in=fe,v.hold=F,v.bits=M,u(T,ge),xe=T.next_out,Ee=T.output,oe=T.avail_out,Q=T.next_in,Z=T.input,fe=T.avail_in,F=v.hold,M=v.bits,v.mode===12&&(v.back=-1);break}for(v.back=0;Re=(P=v.lencode[F&(1<<v.lenbits)-1])>>>16&255,He=65535&P,!((Oe=P>>>24)<=M);){if(fe===0)break e;fe--,F+=Z[Q++]<<M,M+=8}if(Re&&!(240&Re)){for(We=Oe,Ze=Re,rt=He;Re=(P=v.lencode[rt+((F&(1<<We+Ze)-1)>>We)])>>>16&255,He=65535&P,!(We+(Oe=P>>>24)<=M);){if(fe===0)break e;fe--,F+=Z[Q++]<<M,M+=8}F>>>=We,M-=We,v.back+=We}if(F>>>=Oe,M-=Oe,v.back+=Oe,v.length=He,Re===0){v.mode=26;break}if(32&Re){v.back=-1,v.mode=12;break}if(64&Re){T.msg="invalid literal/length code",v.mode=30;break}v.extra=15&Re,v.mode=22;case 22:if(v.extra){for(A=v.extra;M<A;){if(fe===0)break e;fe--,F+=Z[Q++]<<M,M+=8}v.length+=F&(1<<v.extra)-1,F>>>=v.extra,M-=v.extra,v.back+=v.extra}v.was=v.length,v.mode=23;case 23:for(;Re=(P=v.distcode[F&(1<<v.distbits)-1])>>>16&255,He=65535&P,!((Oe=P>>>24)<=M);){if(fe===0)break e;fe--,F+=Z[Q++]<<M,M+=8}if(!(240&Re)){for(We=Oe,Ze=Re,rt=He;Re=(P=v.distcode[rt+((F&(1<<We+Ze)-1)>>We)])>>>16&255,He=65535&P,!(We+(Oe=P>>>24)<=M);){if(fe===0)break e;fe--,F+=Z[Q++]<<M,M+=8}F>>>=We,M-=We,v.back+=We}if(F>>>=Oe,M-=Oe,v.back+=Oe,64&Re){T.msg="invalid distance code",v.mode=30;break}v.offset=He,v.extra=15&Re,v.mode=24;case 24:if(v.extra){for(A=v.extra;M<A;){if(fe===0)break e;fe--,F+=Z[Q++]<<M,M+=8}v.offset+=F&(1<<v.extra)-1,F>>>=v.extra,M-=v.extra,v.back+=v.extra}if(v.offset>v.dmax){T.msg="invalid distance too far back",v.mode=30;break}v.mode=25;case 25:if(oe===0)break e;if(ue=ge-oe,v.offset>ue){if((ue=v.offset-ue)>v.whave&&v.sane){T.msg="invalid distance too far back",v.mode=30;break}Be=ue>v.wnext?(ue-=v.wnext,v.wsize-ue):v.wnext-ue,ue>v.length&&(ue=v.length),Ge=v.window}else Ge=Ee,Be=xe-v.offset,ue=v.length;for(oe<ue&&(ue=oe),oe-=ue,v.length-=ue;Ee[xe++]=Ge[Be++],--ue;);v.length===0&&(v.mode=21);break;case 26:if(oe===0)break e;Ee[xe++]=v.length,oe--,v.mode=21;break;case 27:if(v.wrap){for(;M<32;){if(fe===0)break e;fe--,F|=Z[Q++]<<M,M+=8}if(ge-=oe,T.total_out+=ge,v.total+=ge,ge&&(T.adler=v.check=v.flags?a(v.check,Ee,ge,xe-ge):o(v.check,Ee,ge,xe-ge)),ge=oe,(v.flags?F:E(F))!==v.check){T.msg="incorrect data check",v.mode=30;break}M=F=0}v.mode=28;case 28:if(v.wrap&&v.flags){for(;M<32;){if(fe===0)break e;fe--,F+=Z[Q++]<<M,M+=8}if(F!==(4294967295&v.total)){T.msg="incorrect length check",v.mode=30;break}M=F=0}v.mode=29;case 29:X=1;break e;case 30:X=-3;break e;case 31:return-4;case 32:default:return y}return T.next_out=xe,T.avail_out=oe,T.next_in=Q,T.avail_in=fe,v.hold=F,v.bits=M,(v.wsize||ge!==T.avail_out&&v.mode<30&&(v.mode<27||G!==4))&&ce(T,T.output,T.next_out,ge-T.avail_out)?(v.mode=31,-4):(be-=T.avail_in,ge-=T.avail_out,T.total_in+=be,T.total_out+=ge,v.total+=ge,v.wrap&&ge&&(T.adler=v.check=v.flags?a(v.check,Ee,ge,T.next_out-ge):o(v.check,Ee,ge,T.next_out-ge)),T.data_type=v.bits+(v.last?64:0)+(v.mode===12?128:0)+(v.mode===20||v.mode===15?256:0),(be==0&&ge===0||G===4)&&X===g&&(X=-5),X)},s.inflateEnd=function(T){if(!T||!T.state)return y;var G=T.state;return G.window&&(G.window=null),T.state=null,g},s.inflateGetHeader=function(T,G){var v;return T&&T.state&&2&(v=T.state).wrap?((v.head=G).done=!1,g):y},s.inflateSetDictionary=function(T,G){var v,Z=G.length;return T&&T.state?(v=T.state).wrap!==0&&v.mode!==11?y:v.mode===11&&o(1,G,Z,0)!==v.check?-3:ce(T,G,Z,Z)?(v.mode=31,-4):(v.havedict=1,g):y},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,s){var i=t("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(d,h,g,y,_,w,S,E){var $,R,N,D,V,B,K,q,W,ce=E.bits,T=0,G=0,v=0,Z=0,Ee=0,Q=0,xe=0,fe=0,oe=0,F=0,M=null,be=0,ge=new i.Buf16(16),ue=new i.Buf16(16),Be=null,Ge=0;for(T=0;T<=15;T++)ge[T]=0;for(G=0;G<y;G++)ge[h[g+G]]++;for(Ee=ce,Z=15;1<=Z&&ge[Z]===0;Z--);if(Z<Ee&&(Ee=Z),Z===0)return _[w++]=20971520,_[w++]=20971520,E.bits=1,0;for(v=1;v<Z&&ge[v]===0;v++);for(Ee<v&&(Ee=v),T=fe=1;T<=15;T++)if(fe<<=1,(fe-=ge[T])<0)return-1;if(0<fe&&(d===0||Z!==1))return-1;for(ue[1]=0,T=1;T<15;T++)ue[T+1]=ue[T]+ge[T];for(G=0;G<y;G++)h[g+G]!==0&&(S[ue[h[g+G]]++]=G);if(B=d===0?(M=Be=S,19):d===1?(M=o,be-=257,Be=a,Ge-=257,256):(M=u,Be=c,-1),T=v,V=w,xe=G=F=0,N=-1,D=(oe=1<<(Q=Ee))-1,d===1&&852<oe||d===2&&592<oe)return 1;for(;;){for(K=T-xe,W=S[G]<B?(q=0,S[G]):S[G]>B?(q=Be[Ge+S[G]],M[be+S[G]]):(q=96,0),$=1<<T-xe,v=R=1<<Q;_[V+(F>>xe)+(R-=$)]=K<<24|q<<16|W|0,R!==0;);for($=1<<T-1;F&$;)$>>=1;if($!==0?(F&=$-1,F+=$):F=0,G++,--ge[T]==0){if(T===Z)break;T=h[g+S[G]]}if(Ee<T&&(F&D)!==N){for(xe===0&&(xe=Ee),V+=v,fe=1<<(Q=T-xe);Q+xe<Z&&!((fe-=ge[Q+xe])<=0);)Q++,fe<<=1;if(oe+=1<<Q,d===1&&852<oe||d===2&&592<oe)return 1;_[N=F&D]=Ee<<24|Q<<16|V-w|0}}return F!==0&&(_[V+F]=T-xe<<24|64<<16|0),E.bits=Ee,0}},{"../utils/common":41}],51:[function(t,n,s){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,s){var i=t("../utils/common"),o=0,a=1;function u(P){for(var C=P.length;0<=--C;)P[C]=0}var c=0,d=29,h=256,g=h+1+d,y=30,_=19,w=2*g+1,S=15,E=16,$=7,R=256,N=16,D=17,V=18,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],K=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ce=new Array(2*(g+2));u(ce);var T=new Array(2*y);u(T);var G=new Array(512);u(G);var v=new Array(256);u(v);var Z=new Array(d);u(Z);var Ee,Q,xe,fe=new Array(y);function oe(P,C,se,ne,H){this.static_tree=P,this.extra_bits=C,this.extra_base=se,this.elems=ne,this.max_length=H,this.has_stree=P&&P.length}function F(P,C){this.dyn_tree=P,this.max_code=0,this.stat_desc=C}function M(P){return P<256?G[P]:G[256+(P>>>7)]}function be(P,C){P.pending_buf[P.pending++]=255&C,P.pending_buf[P.pending++]=C>>>8&255}function ge(P,C,se){P.bi_valid>E-se?(P.bi_buf|=C<<P.bi_valid&65535,be(P,P.bi_buf),P.bi_buf=C>>E-P.bi_valid,P.bi_valid+=se-E):(P.bi_buf|=C<<P.bi_valid&65535,P.bi_valid+=se)}function ue(P,C,se){ge(P,se[2*C],se[2*C+1])}function Be(P,C){for(var se=0;se|=1&P,P>>>=1,se<<=1,0<--C;);return se>>>1}function Ge(P,C,se){var ne,H,de=new Array(S+1),ve=0;for(ne=1;ne<=S;ne++)de[ne]=ve=ve+se[ne-1]<<1;for(H=0;H<=C;H++){var pe=P[2*H+1];pe!==0&&(P[2*H]=Be(de[pe]++,pe))}}function Oe(P){var C;for(C=0;C<g;C++)P.dyn_ltree[2*C]=0;for(C=0;C<y;C++)P.dyn_dtree[2*C]=0;for(C=0;C<_;C++)P.bl_tree[2*C]=0;P.dyn_ltree[2*R]=1,P.opt_len=P.static_len=0,P.last_lit=P.matches=0}function Re(P){8<P.bi_valid?be(P,P.bi_buf):0<P.bi_valid&&(P.pending_buf[P.pending++]=P.bi_buf),P.bi_buf=0,P.bi_valid=0}function He(P,C,se,ne){var H=2*C,de=2*se;return P[H]<P[de]||P[H]===P[de]&&ne[C]<=ne[se]}function We(P,C,se){for(var ne=P.heap[se],H=se<<1;H<=P.heap_len&&(H<P.heap_len&&He(C,P.heap[H+1],P.heap[H],P.depth)&&H++,!He(C,ne,P.heap[H],P.depth));)P.heap[se]=P.heap[H],se=H,H<<=1;P.heap[se]=ne}function Ze(P,C,se){var ne,H,de,ve,pe=0;if(P.last_lit!==0)for(;ne=P.pending_buf[P.d_buf+2*pe]<<8|P.pending_buf[P.d_buf+2*pe+1],H=P.pending_buf[P.l_buf+pe],pe++,ne===0?ue(P,H,C):(ue(P,(de=v[H])+h+1,C),(ve=B[de])!==0&&ge(P,H-=Z[de],ve),ue(P,de=M(--ne),se),(ve=K[de])!==0&&ge(P,ne-=fe[de],ve)),pe<P.last_lit;);ue(P,R,C)}function rt(P,C){var se,ne,H,de=C.dyn_tree,ve=C.stat_desc.static_tree,pe=C.stat_desc.has_stree,Pe=C.stat_desc.elems,Fe=-1;for(P.heap_len=0,P.heap_max=w,se=0;se<Pe;se++)de[2*se]!==0?(P.heap[++P.heap_len]=Fe=se,P.depth[se]=0):de[2*se+1]=0;for(;P.heap_len<2;)de[2*(H=P.heap[++P.heap_len]=Fe<2?++Fe:0)]=1,P.depth[H]=0,P.opt_len--,pe&&(P.static_len-=ve[2*H+1]);for(C.max_code=Fe,se=P.heap_len>>1;1<=se;se--)We(P,de,se);for(H=Pe;se=P.heap[1],P.heap[1]=P.heap[P.heap_len--],We(P,de,1),ne=P.heap[1],P.heap[--P.heap_max]=se,P.heap[--P.heap_max]=ne,de[2*H]=de[2*se]+de[2*ne],P.depth[H]=(P.depth[se]>=P.depth[ne]?P.depth[se]:P.depth[ne])+1,de[2*se+1]=de[2*ne+1]=H,P.heap[1]=H++,We(P,de,1),2<=P.heap_len;);P.heap[--P.heap_max]=P.heap[1],function(De,et){var xt,nt,jt,Ve,Rt,ke,ut=et.dyn_tree,Ft=et.max_code,pt=et.stat_desc.static_tree,Ur=et.stat_desc.has_stree,Xe=et.stat_desc.extra_bits,or=et.stat_desc.extra_base,te=et.stat_desc.max_length,kt=0;for(Ve=0;Ve<=S;Ve++)De.bl_count[Ve]=0;for(ut[2*De.heap[De.heap_max]+1]=0,xt=De.heap_max+1;xt<w;xt++)te<(Ve=ut[2*ut[2*(nt=De.heap[xt])+1]+1]+1)&&(Ve=te,kt++),ut[2*nt+1]=Ve,Ft<nt||(De.bl_count[Ve]++,Rt=0,or<=nt&&(Rt=Xe[nt-or]),ke=ut[2*nt],De.opt_len+=ke*(Ve+Rt),Ur&&(De.static_len+=ke*(pt[2*nt+1]+Rt)));if(kt!==0){do{for(Ve=te-1;De.bl_count[Ve]===0;)Ve--;De.bl_count[Ve]--,De.bl_count[Ve+1]+=2,De.bl_count[te]--,kt-=2}while(0<kt);for(Ve=te;Ve!==0;Ve--)for(nt=De.bl_count[Ve];nt!==0;)Ft<(jt=De.heap[--xt])||(ut[2*jt+1]!==Ve&&(De.opt_len+=(Ve-ut[2*jt+1])*ut[2*jt],ut[2*jt+1]=Ve),nt--)}}(P,C),Ge(de,Fe,P.bl_count)}function m(P,C,se){var ne,H,de=-1,ve=C[1],pe=0,Pe=7,Fe=4;for(ve===0&&(Pe=138,Fe=3),C[2*(se+1)+1]=65535,ne=0;ne<=se;ne++)H=ve,ve=C[2*(ne+1)+1],++pe<Pe&&H===ve||(pe<Fe?P.bl_tree[2*H]+=pe:H!==0?(H!==de&&P.bl_tree[2*H]++,P.bl_tree[2*N]++):pe<=10?P.bl_tree[2*D]++:P.bl_tree[2*V]++,de=H,Fe=(pe=0)===ve?(Pe=138,3):H===ve?(Pe=6,3):(Pe=7,4))}function X(P,C,se){var ne,H,de=-1,ve=C[1],pe=0,Pe=7,Fe=4;for(ve===0&&(Pe=138,Fe=3),ne=0;ne<=se;ne++)if(H=ve,ve=C[2*(ne+1)+1],!(++pe<Pe&&H===ve)){if(pe<Fe)for(;ue(P,H,P.bl_tree),--pe!=0;);else H!==0?(H!==de&&(ue(P,H,P.bl_tree),pe--),ue(P,N,P.bl_tree),ge(P,pe-3,2)):pe<=10?(ue(P,D,P.bl_tree),ge(P,pe-3,3)):(ue(P,V,P.bl_tree),ge(P,pe-11,7));de=H,Fe=(pe=0)===ve?(Pe=138,3):H===ve?(Pe=6,3):(Pe=7,4)}}u(fe);var Y=!1;function A(P,C,se,ne){ge(P,(c<<1)+(ne?1:0),3),function(H,de,ve,pe){Re(H),pe&&(be(H,ve),be(H,~ve)),i.arraySet(H.pending_buf,H.window,de,ve,H.pending),H.pending+=ve}(P,C,se,!0)}s._tr_init=function(P){Y||(function(){var C,se,ne,H,de,ve=new Array(S+1);for(H=ne=0;H<d-1;H++)for(Z[H]=ne,C=0;C<1<<B[H];C++)v[ne++]=H;for(v[ne-1]=H,H=de=0;H<16;H++)for(fe[H]=de,C=0;C<1<<K[H];C++)G[de++]=H;for(de>>=7;H<y;H++)for(fe[H]=de<<7,C=0;C<1<<K[H]-7;C++)G[256+de++]=H;for(se=0;se<=S;se++)ve[se]=0;for(C=0;C<=143;)ce[2*C+1]=8,C++,ve[8]++;for(;C<=255;)ce[2*C+1]=9,C++,ve[9]++;for(;C<=279;)ce[2*C+1]=7,C++,ve[7]++;for(;C<=287;)ce[2*C+1]=8,C++,ve[8]++;for(Ge(ce,g+1,ve),C=0;C<y;C++)T[2*C+1]=5,T[2*C]=Be(C,5);Ee=new oe(ce,B,h+1,g,S),Q=new oe(T,K,0,y,S),xe=new oe(new Array(0),q,0,_,$)}(),Y=!0),P.l_desc=new F(P.dyn_ltree,Ee),P.d_desc=new F(P.dyn_dtree,Q),P.bl_desc=new F(P.bl_tree,xe),P.bi_buf=0,P.bi_valid=0,Oe(P)},s._tr_stored_block=A,s._tr_flush_block=function(P,C,se,ne){var H,de,ve=0;0<P.level?(P.strm.data_type===2&&(P.strm.data_type=function(pe){var Pe,Fe=4093624447;for(Pe=0;Pe<=31;Pe++,Fe>>>=1)if(1&Fe&&pe.dyn_ltree[2*Pe]!==0)return o;if(pe.dyn_ltree[18]!==0||pe.dyn_ltree[20]!==0||pe.dyn_ltree[26]!==0)return a;for(Pe=32;Pe<h;Pe++)if(pe.dyn_ltree[2*Pe]!==0)return a;return o}(P)),rt(P,P.l_desc),rt(P,P.d_desc),ve=function(pe){var Pe;for(m(pe,pe.dyn_ltree,pe.l_desc.max_code),m(pe,pe.dyn_dtree,pe.d_desc.max_code),rt(pe,pe.bl_desc),Pe=_-1;3<=Pe&&pe.bl_tree[2*W[Pe]+1]===0;Pe--);return pe.opt_len+=3*(Pe+1)+5+5+4,Pe}(P),H=P.opt_len+3+7>>>3,(de=P.static_len+3+7>>>3)<=H&&(H=de)):H=de=se+5,se+4<=H&&C!==-1?A(P,C,se,ne):P.strategy===4||de===H?(ge(P,2+(ne?1:0),3),Ze(P,ce,T)):(ge(P,4+(ne?1:0),3),function(pe,Pe,Fe,De){var et;for(ge(pe,Pe-257,5),ge(pe,Fe-1,5),ge(pe,De-4,4),et=0;et<De;et++)ge(pe,pe.bl_tree[2*W[et]+1],3);X(pe,pe.dyn_ltree,Pe-1),X(pe,pe.dyn_dtree,Fe-1)}(P,P.l_desc.max_code+1,P.d_desc.max_code+1,ve+1),Ze(P,P.dyn_ltree,P.dyn_dtree)),Oe(P),ne&&Re(P)},s._tr_tally=function(P,C,se){return P.pending_buf[P.d_buf+2*P.last_lit]=C>>>8&255,P.pending_buf[P.d_buf+2*P.last_lit+1]=255&C,P.pending_buf[P.l_buf+P.last_lit]=255&se,P.last_lit++,C===0?P.dyn_ltree[2*se]++:(P.matches++,C--,P.dyn_ltree[2*(v[se]+h+1)]++,P.dyn_dtree[2*M(C)]++),P.last_lit===P.lit_bufsize-1},s._tr_align=function(P){ge(P,2,3),ue(P,R,ce),function(C){C.bi_valid===16?(be(C,C.bi_buf),C.bi_buf=0,C.bi_valid=0):8<=C.bi_valid&&(C.pending_buf[C.pending++]=255&C.bi_buf,C.bi_buf>>=8,C.bi_valid-=8)}(P)}},{"../utils/common":41}],53:[function(t,n,s){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,s){(function(i){(function(o,a){if(!o.setImmediate){var u,c,d,h,g=1,y={},_=!1,w=o.document,S=Object.getPrototypeOf&&Object.getPrototypeOf(o);S=S&&S.setTimeout?S:o,u={}.toString.call(o.process)==="[object process]"?function(N){tr.nextTick(function(){$(N)})}:function(){if(o.postMessage&&!o.importScripts){var N=!0,D=o.onmessage;return o.onmessage=function(){N=!1},o.postMessage("","*"),o.onmessage=D,N}}()?(h="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",R,!1):o.attachEvent("onmessage",R),function(N){o.postMessage(h+N,"*")}):o.MessageChannel?((d=new MessageChannel).port1.onmessage=function(N){$(N.data)},function(N){d.port2.postMessage(N)}):w&&"onreadystatechange"in w.createElement("script")?(c=w.documentElement,function(N){var D=w.createElement("script");D.onreadystatechange=function(){$(N),D.onreadystatechange=null,c.removeChild(D),D=null},c.appendChild(D)}):function(N){setTimeout($,0,N)},S.setImmediate=function(N){typeof N!="function"&&(N=new Function(""+N));for(var D=new Array(arguments.length-1),V=0;V<D.length;V++)D[V]=arguments[V+1];var B={callback:N,args:D};return y[g]=B,u(g),g++},S.clearImmediate=E}function E(N){delete y[N]}function $(N){if(_)setTimeout($,0,N);else{var D=y[N];if(D){_=!0;try{(function(V){var B=V.callback,K=V.args;switch(K.length){case 0:B();break;case 1:B(K[0]);break;case 2:B(K[0],K[1]);break;case 3:B(K[0],K[1],K[2]);break;default:B.apply(a,K)}})(D)}finally{E(N),_=!1}}}}function R(N){N.source===o&&typeof N.data=="string"&&N.data.indexOf(h)===0&&$(+N.data.slice(h.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof nr<"u"?nr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})});const ls=(()=>{if(typeof self>"u")return!1;if("top"in self&&self!==top)try{}catch{return!1}return"showOpenFilePicker"in self})(),Ff=ls?Promise.resolve().then(function(){return Hf}):Promise.resolve().then(function(){return Zf});async function qf(...r){return(await Ff).default(...r)}ls?Promise.resolve().then(function(){return Vf}):Promise.resolve().then(function(){return Xf});const Uf=ls?Promise.resolve().then(function(){return Yf}):Promise.resolve().then(function(){return th});async function Mf(...r){return(await Uf).default(...r)}const zf=async r=>{const e=await r.getFile();return e.handle=r,e};var Wf=async(r=[{}])=>{Array.isArray(r)||(r=[r]);const e=[];r.forEach((s,i)=>{e[i]={description:s.description||"Files",accept:{}},s.mimeTypes?s.mimeTypes.map(o=>{e[i].accept[o]=s.extensions||[]}):e[i].accept["*/*"]=s.extensions||[]});const t=await window.showOpenFilePicker({id:r[0].id,startIn:r[0].startIn,types:e,multiple:r[0].multiple||!1,excludeAcceptAllOption:r[0].excludeAcceptAllOption||!1}),n=await Promise.all(t.map(zf));return r[0].multiple?n:n[0]},Hf={__proto__:null,default:Wf};function jn(r){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var n=t.done;return Promise.resolve(t.value).then(function(s){return{value:s,done:n}})}return jn=function(t){this.s=t,this.n=t.next},jn.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var n=this.s.return;return n===void 0?Promise.resolve({value:t,done:!0}):e(n.apply(this.s,arguments))},throw:function(t){var n=this.s.return;return n===void 0?Promise.reject(t):e(n.apply(this.s,arguments))}},new jn(r)}const ca=async(r,e,t=r.name,n)=>{const s=[],i=[];var o,a=!1,u=!1;try{for(var c,d=function(h){var g,y,_,w=2;for(typeof Symbol<"u"&&(y=Symbol.asyncIterator,_=Symbol.iterator);w--;){if(y&&(g=h[y])!=null)return g.call(h);if(_&&(g=h[_])!=null)return new jn(g.call(h));y="@@asyncIterator",_="@@iterator"}throw new TypeError("Object is not async iterable")}(r.values());a=!(c=await d.next()).done;a=!1){const h=c.value,g=`${t}/${h.name}`;h.kind==="file"?i.push(h.getFile().then(y=>(y.directoryHandle=r,y.handle=h,Object.defineProperty(y,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>g})))):h.kind!=="directory"||!e||n&&n(h)||s.push(ca(h,e,g,n))}}catch(h){u=!0,o=h}finally{try{a&&d.return!=null&&await d.return()}finally{if(u)throw o}}return[...(await Promise.all(s)).flat(),...await Promise.all(i)]};var Gf=async(r={})=>{r.recursive=r.recursive||!1,r.mode=r.mode||"read";const e=await window.showDirectoryPicker({id:r.id,startIn:r.startIn,mode:r.mode});return(await(await e.values()).next()).done?[e]:ca(e,r.recursive,void 0,r.skipDirectory)},Vf={__proto__:null,default:Gf},Kf=async(r,e=[{}],t=null,n=!1,s=null)=>{Array.isArray(e)||(e=[e]),e[0].fileName=e[0].fileName||"Untitled";const i=[];let o=null;if(r instanceof Blob&&r.type?o=r.type:r.headers&&r.headers.get("content-type")&&(o=r.headers.get("content-type")),e.forEach((c,d)=>{i[d]={description:c.description||"Files",accept:{}},c.mimeTypes?(d===0&&o&&c.mimeTypes.push(o),c.mimeTypes.map(h=>{i[d].accept[h]=c.extensions||[]})):o?i[d].accept[o]=c.extensions||[]:i[d].accept["*/*"]=c.extensions||[]}),t)try{await t.getFile()}catch(c){if(t=null,n)throw c}const a=t||await window.showSaveFilePicker({suggestedName:e[0].fileName,id:e[0].id,startIn:e[0].startIn,types:i,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1});!t&&s&&s(a);const u=await a.createWritable();return"stream"in r?(await r.stream().pipeTo(u),a):"body"in r?(await r.body.pipeTo(u),a):(await u.write(await r),await u.close(),a)},Yf={__proto__:null,default:Kf},Jf=async(r=[{}])=>(Array.isArray(r)||(r=[r]),new Promise((e,t)=>{const n=document.createElement("input");n.type="file";const s=[...r.map(u=>u.mimeTypes||[]),...r.map(u=>u.extensions||[])].join();n.multiple=r[0].multiple||!1,n.accept=s||"",n.style.display="none",document.body.append(n);const i=u=>{typeof o=="function"&&o(),e(u)},o=r[0].legacySetup&&r[0].legacySetup(i,()=>o(t),n),a=()=>{window.removeEventListener("focus",a),n.remove()};n.addEventListener("click",()=>{window.addEventListener("focus",a)}),n.addEventListener("change",()=>{window.removeEventListener("focus",a),n.remove(),i(n.multiple?Array.from(n.files):n.files[0])}),"showPicker"in HTMLInputElement.prototype?n.showPicker():n.click()})),Zf={__proto__:null,default:Jf},Qf=async(r=[{}])=>(Array.isArray(r)||(r=[r]),r[0].recursive=r[0].recursive||!1,new Promise((e,t)=>{const n=document.createElement("input");n.type="file",n.webkitdirectory=!0;const s=o=>{typeof i=="function"&&i(),e(o)},i=r[0].legacySetup&&r[0].legacySetup(s,()=>i(t),n);n.addEventListener("change",()=>{let o=Array.from(n.files);r[0].recursive?r[0].recursive&&r[0].skipDirectory&&(o=o.filter(a=>a.webkitRelativePath.split("/").every(u=>!r[0].skipDirectory({name:u,kind:"directory"})))):o=o.filter(a=>a.webkitRelativePath.split("/").length===2),s(o)}),"showPicker"in HTMLInputElement.prototype?n.showPicker():n.click()})),Xf={__proto__:null,default:Qf},eh=async(r,e={})=>{Array.isArray(e)&&(e=e[0]);const t=document.createElement("a");let n=r;"body"in r&&(n=await async function(o,a){const u=o.getReader(),c=new ReadableStream({start:g=>async function y(){return u.read().then(({done:_,value:w})=>{if(!_)return g.enqueue(w),y();g.close()})}()}),d=new Response(c),h=await d.blob();return u.releaseLock(),new Blob([h],{type:a})}(r.body,r.headers.get("content-type"))),t.download=e.fileName||"Untitled",t.href=URL.createObjectURL(await n);const s=()=>{typeof i=="function"&&i()},i=e.legacySetup&&e.legacySetup(s,()=>i(),t);return t.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(t.href),3e4),s()}),t.click(),null},th={__proto__:null,default:eh};const rh=":host{display:block;--jeep-sqlite-top:10%;--jeep-sqlite-right:1%;--jeep-sqlite-font-size:2em;--jeep-sqlite-padding:2%;--jeep-sqlite-background-color:#a9a9a9;--jeep-sqlite-color:#ffffff}#fileElem{display:none}#pickButton{position:absolute;top:var(--jeep-sqlite-top);right:var(--jeep-sqlite-right);font-size:var(--jeep-sqlite-font-size);padding:var(--jeep-sqlite-padding);background-color:var(--jeep-sqlite-background-color);color:var(--jeep-sqlite-color)}#saveButton{position:absolute;top:var(--jeep-sqlite-top);right:var(--jeep-sqlite-right);font-size:var(--jeep-sqlite-font-size);padding:var(--jeep-sqlite-padding);background-color:var(--jeep-sqlite-background-color);color:var(--jeep-sqlite-color)}",nh=$l(class extends Rl{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.importProgress=en(this,"jeepSqliteImportProgress",7),this.exportProgress=en(this,"jeepSqliteExportProgress",7),this.HTTPRequestEnded=en(this,"jeepSqliteHTTPRequestEnded",7),this.PickDatabaseEnded=en(this,"jeepSqlitePickDatabaseEnded",7),this.SaveDatabaseEnded=en(this,"jeepSqliteSaveDatabaseToDisk",7),this.isStore=!1,this._dbDict={},this.databaseList={},this._versionUpgrades={},this._overwrite=!0,this.autoSave=!1,this.wasmPath=void 0,this.pickText=void 0,this.saveText=void 0,this.buttonOptions=void 0,this.innerAutoSave=void 0,this.innerWasmPath=void 0,this.innerPickText=void 0,this.innerSaveText=void 0,this.innerButtonOptions=void 0}parseAutoSave(r){this.innerAutoSave=r}parseWasmPath(r){this.innerWasmPath=r}parsePickText(r){this.innerPickText=r}parseSaveText(r){this.innerSaveText=r}parseButtonOptions(r){this.innerButtonOptions=JSON.parse(r);const e=Object.keys(this.innerButtonOptions);for(const t of e)switch(t){case"top":{this.el.style.setProperty("--jeep-sqlite-top",this.innerButtonOptions[t]);break}case"right":{this.el.style.setProperty("--jeep-sqlite-right",this.innerButtonOptions[t]);break}case"fontSize":{this.el.style.setProperty("--jeep-sqlite-font-size",this.innerButtonOptions[t]);break}case"padding":{this.el.style.setProperty("--jeep-sqlite-padding",this.innerButtonOptions[t]);break}case"backgroundColor":{this.el.style.setProperty("--jeep-sqlite-background-color",this.innerButtonOptions[t]);break}case"color":{this.el.style.setProperty("--jeep-sqlite-color",this.innerButtonOptions[t]);break}}}async echo(r){return r}async createConnection(r){if(!this.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${this.storeName} is not opened`);if(!Object.keys(r).includes("database"))return Promise.reject("Must provide a database name");const t=r.database,n=r.version?r.version:1,s=r.readonly?r.readonly:!1;try{return await this._createConnection(t,n,s),Promise.resolve()}catch(i){return Promise.reject(i)}}async isConnection(r){if(!this.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${this.storeName} is not opened`);if(!Object.keys(r).includes("database"))return Promise.reject("Must provide a database name");const t=r.database,n=r.readonly?r.readonly:!1,s=await this._isConnection(t,n);return Promise.resolve(s)}async closeConnection(r){if(!this.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${this.storeName} is not opened`);if(!Object.keys(r).includes("database"))return Promise.reject("Must provide a database name");const t=r.database,n=r.readonly?r.readonly:!1;try{return await this._closeConnection(t,n),Promise.resolve()}catch(s){return Promise.reject(s)}}async open(r){if(!this.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${this.storeName} is not opened`);if(!Object.keys(r).includes("database"))return Promise.reject("Must provide a database name");const t=r.database,n=r.readonly?r.readonly:!1;try{return await this._open(t,n),Promise.resolve()}catch(s){return Promise.reject(s)}}async close(r){if(!this.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${this.storeName} is not opened`);if(!Object.keys(r).includes("database"))return Promise.reject("Must provide a database name");const t=r.database,n=r.readonly?r.readonly:!1;try{return await this._close(t,n),Promise.resolve()}catch(s){return Promise.reject(s)}}async getVersion(r){if(!this.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${this.storeName} is not opened`);if(!Object.keys(r).includes("database"))return Promise.reject("Must provide a database name");const t=r.database,n=r.readonly?r.readonly:!1;try{const s=await this._getVersion(t,n);return Promise.resolve(s)}catch(s){return Promise.reject(s)}}async execute(r){if(!this.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${this.storeName} is not opened`);let e=Object.keys(r);if(!e.includes("database"))return Promise.reject("Must provide a database name");if(!e.includes("statements")||r.statements.length===0)return Promise.reject("Must provide raw SQL statements");const t=r.database,n=r.statements;let s=!0;const i=r.readonly?r.readonly:!1;e.includes("transaction")&&(s=r.transaction);try{const o=await this._execute(t,n,s,i);return Promise.resolve(o)}catch(o){return Promise.reject(o)}}async executeSet(r){if(!this.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${this.storeName} is not opened`);let e=Object.keys(r);if(!e.includes("database"))return Promise.reject("Must provide a database name");if(!e.includes("set")||r.set.length===0)return Promise.reject("Must provide a non-empty set of SQL statements");const t=r.database,n=r.set;let s=!0;e.includes("transaction")&&(s=r.transaction);const i=r.readonly?r.readonly:!1;try{const o=await this._executeSet(t,n,s,i);return Promise.resolve(o)}catch(o){return Promise.reject(o)}}async run(r){if(!this.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${this.storeName} is not opened`);let e=Object.keys(r);if(!e.includes("database"))return Promise.reject("Must provide a database name");if(!e.includes("statement")||r.statement.length===0)return Promise.reject("Must provide a run statement");const t=r.database,n=r.statement;let s=[];e.includes("values")&&(s=r.values.length>0?r.values:[]);let i=!0;e.includes("transaction")&&(i=r.transaction);const o=r.readonly?r.readonly:!1;try{const a=await this._run(t,n,s,i,o);return Promise.resolve(a)}catch(a){return Promise.reject(a)}}async query(r){if(!this.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${this.storeName} is not opened`);let e=Object.keys(r);if(!e.includes("database"))return Promise.reject("Must provide a database name");if(!e.includes("statement")||r.statement.length===0)return Promise.reject("Must provide a query statement");let t=[];e.includes("values")&&(t=r.values.length>0?r.values:[]);const n=r.database,s=r.statement,i=r.readonly?r.readonly:!1;try{const o=await this._query(n,s,t,i);return Promise.resolve(o)}catch(o){return Promise.reject(o)}}async getTableList(r){if(!this.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${this.storeName} is not opened`);if(!Object.keys(r).includes("database"))return Promise.reject("Must provide a database name");const t=r.database,n=r.readonly?r.readonly:!1;try{const s=await this._getTableList(t,n);return Promise.resolve(s)}catch(s){return Promise.reject(s)}}async isDBExists(r){if(!this.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${this.storeName} is not opened`);if(!Object.keys(r).includes("database"))return Promise.reject("Must provide a database name");const t=r.database,n=r.readonly?r.readonly:!1;try{const s=await this._isDBExists(t,n);return Promise.resolve(s)}catch(s){return Promise.reject(s)}}async isDBOpen(r){if(!this.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${this.storeName} is not opened`);if(!Object.keys(r).includes("database"))return Promise.reject("Must provide a database name");const t=r.database,n=r.readonly?r.readonly:!1;try{const s=await this._isDBOpen(t,n);return Promise.resolve(s)}catch(s){return Promise.reject(s)}}async deleteDatabase(r){if(!this.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${this.storeName} is not opened`);if(!Object.keys(r).includes("database"))return Promise.reject("Must provide a database name");const t=r.database,n=r.readonly?r.readonly:!1;try{return await this._deleteDatabase(t,n)}catch(s){return Promise.reject(s)}}async isStoreOpen(){return Promise.resolve(this.isStore)}async copyFromAssets(r){let e;if(r!=null?e=Object.keys(r).includes("overwrite")?r.overwrite:!0:e=!0,!this.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${this.storeName} is not opened`);try{return await this._copyFromAssets(e),Promise.resolve()}catch(t){return Promise.reject(t)}}async isTableExists(r){if(!this.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${this.storeName} is not opened`);const e=Object.keys(r);if(!e.includes("database"))return Promise.reject("Must provide a database name");const t=r.database;if(!e.includes("table"))return Promise.reject("Must provide a table name");const n=r.table,s=r.readonly?r.readonly:!1;try{const i=await this._isTableExists(t,n,s);return Promise.resolve(i)}catch(i){return Promise.reject(i)}}async createSyncTable(r){if(!this.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${this.storeName} is not opened`);if(!Object.keys(r).includes("database"))return Promise.reject("Must provide a database name");const t=r.database,n=r.readonly?r.readonly:!1;try{const s=await this._createSyncTable(t,n);return Promise.resolve(s)}catch(s){return Promise.reject(s)}}async getSyncDate(r){if(!this.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${this.storeName} is not opened`);if(!Object.keys(r).includes("database"))return Promise.reject("Must provide a database name");const t=r.database,n=r.readonly?r.readonly:!1;try{const s=await this._getSyncDate(t,n);return Promise.resolve(s)}catch(s){return Promise.reject(s)}}async setSyncDate(r){if(!this.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${this.storeName} is not opened`);let e=Object.keys(r);if(!e.includes("database"))return Promise.reject("Must provide a database name");if(!e.includes("syncdate"))return Promise.reject("Must provide a synchronization date");const t=r.database,n=r.syncdate,s=r.readonly?r.readonly:!1;try{return await this._setSyncDate(t,n,s),Promise.resolve()}catch(i){return Promise.reject(i)}}async isJsonValid(r){if(!Object.keys(r).includes("jsonstring"))return Promise.reject("Must provide a json object");const t=r.jsonstring;try{const n=await this._isJsonValid(t);return Promise.resolve(n)}catch(n){return Promise.reject(n)}}async importFromJson(r){if(!this.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${this.storeName} is not opened`);if(!Object.keys(r).includes("jsonstring"))return Promise.reject("Must provide a json object");const t=r.jsonstring;try{const n=await this._importFromJson(t);return Promise.resolve(n)}catch(n){return Promise.reject(n)}}async exportToJson(r){if(!this.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${this.storeName} is not opened`);const e=Object.keys(r);if(!e.includes("database"))return Promise.reject("Must provide a database name");if(!e.includes("jsonexportmode"))return Promise.reject("Must provide a json export mode");const t=r.database,n=r.jsonexportmode,s=r.readonly?r.readonly:!1;try{const i=await this._exportToJson(t,n,s);return Promise.resolve(i)}catch(i){return Promise.reject(i)}}async deleteExportedRows(r){if(!Object.keys(r).includes("database"))return Promise.reject("Must provide a database name");const t=r.database,n=r.readonly?r.readonly:!1;try{return await this._deleteExportedRows(t,n),Promise.resolve()}catch(s){return Promise.reject(s)}}async addUpgradeStatement(r){if(!this.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${this.storeName} is not opened`);let e=Object.keys(r);if(!e.includes("database"))return Promise.reject("Must provide a database name");if(!e.includes("upgrade"))return Promise.reject("Must provide an upgrade capSQLiteVersionUpgrade Object");const t=r.database,n=r.upgrade;for(const s of n){const i=Object.keys(s);if(!i.includes("toVersion")||!i.includes("statements"))return Promise.reject("Must provide an upgrade capSQLiteVersionUpgrade Object");if(typeof s.toVersion!="number")return Promise.reject("upgrade.toVersion must be a number");if(this._versionUpgrades[t])this._versionUpgrades[t][s.toVersion]=s;else{const o={};o[s.toVersion]=s,this._versionUpgrades[t]=o}}return Promise.resolve()}async isDatabase(r){if(!this.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${this.storeName} is not opened`);if(!Object.keys(r).includes("database"))return Promise.reject("Must provide a database name");const t=r.database;try{const n=await this._isDatabase(t);return Promise.resolve(n)}catch(n){return Promise.reject(n)}}async getDatabaseList(){if(!this.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${this.storeName} is not opened`);try{const r=await this._getDatabaseList();return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async checkConnectionsConsistency(r){if(!this.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${this.storeName} is not opened`);const e=Object.keys(r);if(!e.includes("dbNames"))return Promise.reject("Must provide a list of connection's name");const t=r.dbNames;if(!e.includes("openModes"))return Promise.reject("Must provide a list of connection's open mode");const n=r.openModes;try{const s=await this._checkConnectionsConsistency(t,n);return Promise.resolve(s)}catch(s){return Promise.reject(s)}}async saveToStore(r){if(!this.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${this.storeName} is not opened`);if(!Object.keys(r).includes("database"))return Promise.reject("Must provide a database name");const t=r.database,n=r.readonly?r.readonly:!1;try{return await this._saveToStore(t,n),Promise.resolve()}catch(s){return Promise.reject(s)}}async saveToLocalDisk(r){if(!Object.keys(r).includes("database"))return Promise.reject("Must provide a database name");const t=r.database;try{return await this._saveToLocalDisk(t),Promise.resolve()}catch(n){return Promise.reject(n)}}async getFromLocalDiskToStore(r){const e=r.overwrite?r.overwrite:!0;console.log(ls?"Using the File System Access API.":"Using the fallback implementation.");try{return await this._getFromLocalDiskToStore(e),Promise.resolve()}catch(t){return Promise.reject(t)}}async getFromHTTPRequest(r){if(!this.isStore)return Promise.reject(`>>> jeep-sqlite StoreName: ${this.storeName} is not opened`);if(!Object.keys(r).includes("url"))return Promise.reject("Must provide an url");const t=r.url,n=r.overwrite?r.overwrite:!0;try{return await this._getFromHTTPRequest(t,n),Promise.resolve()}catch(s){return Promise.reject(s)}}connectedCallback(){this.parseAutoSave(this.autoSave!==void 0?this.autoSave:!1),this.parseWasmPath(this.wasmPath!==void 0?this.wasmPath:"/assets"),this.parseSaveText(this.saveText!==void 0?this.saveText:"Save"),this.parsePickText(this.pickText!==void 0?this.pickText:"Pick a database"),this.buttonOptions!==void 0&&this.parseButtonOptions(this.buttonOptions),this.openStore("jeepSqliteStore","databases").then(r=>{this.isStore=r})}componentWillLoad(){}async componentDidLoad(){this._element=this.el.shadowRoot,this.isStore||console.log("jeep-sqlite isStore = false")}async _createConnection(r,e,t){let n={};const s=Object.keys(this._versionUpgrades);s.length!==0&&s.includes(r)&&(n=this._versionUpgrades[r]);const i=Object.keys(this._dbDict);let o;try{i.length>0&&(i.includes("RW_"+r)||i.includes("RO_"+r))?o=i.includes("RW_"+r)?this._dbDict["RW_"+r]:this._dbDict["RO_"+r]:o=new Oi(r+"SQLite.db",e,n,this.store,this.innerAutoSave,this.innerWasmPath);const a=t?"RO_"+r:"RW_"+r;return this._dbDict[a]=o,Promise.resolve()}catch(a){return Promise.reject(a.message)}}async _isConnection(r,e){const t=Object.keys(this._dbDict),n=e?"RO_"+r:"RW_"+r;return t.includes(n)?{result:!0}:{result:!1}}async _closeConnection(r,e){const t=Object.keys(this._dbDict),n=e?"RO_"+r:"RW_"+r;if(!t.includes(n))return Promise.reject(`CloseConnection: No available connection for ${r}`);const s=this._dbDict[n];try{if(s.isDBOpen())try{await s.close()}catch(i){return Promise.reject(`CloseConnection: close ${r} failed ${i}`)}return delete this._dbDict[n],Promise.resolve()}catch(i){return Promise.reject(`CloseConnection: ${i.message}`)}}async _open(r,e){const t=Object.keys(this._dbDict),n=e?"RO_"+r:"RW_"+r;if(!t.includes(n))return Promise.reject(`Open: No available connection for ${r}`);const s=this._dbDict[n];try{return await s.open(),Promise.resolve()}catch(i){return Promise.reject(`Open: ${i.message}`)}}async _close(r,e){const t=Object.keys(this._dbDict),n=e?"RO_"+r:"RW_"+r;if(!t.includes(n))return Promise.reject(`Close: No available connection for ${r}`);const s=this._dbDict[n];try{return await s.close(),Promise.resolve()}catch(i){return Promise.reject(`Close: ${i.message}`)}}async _saveToStore(r,e){const t=Object.keys(this._dbDict),n=e?"RO_"+r:"RW_"+r;if(!t.includes(n))return Promise.reject(`SaveToStore: No available connection for ${r}`);const s=this._dbDict[n];try{return await s.saveToStore(),Promise.resolve()}catch(i){return Promise.reject(`SaveToStore: ${i.message}`)}}async _saveToLocalDisk(r){try{const e=Object.keys(this._dbDict),t="RW_"+r;if(!e.includes(t))return Promise.reject(`_saveToLocalDisk: No available connection for ${r}`);const s=await this._dbDict[t].exportDB();this._blob=await this.uint2blob(s);const i=`${r}SQLite.db`;return this._opts={fileName:i,extensions:[".db"]},this._buttonSaveEl=document.createElement("button"),this._buttonSaveEl.setAttribute("id","saveButton"),this._buttonSaveEl.innerHTML=`${this.innerSaveText} ${i}`,this._element.appendChild(this._buttonSaveEl),this._buttonSaveEl.addEventListener("click",this.saveFile.bind(this)),Promise.resolve()}catch(e){return Promise.reject(`_saveToLocalDisk: ${e.message}`)}}async _getFromLocalDiskToStore(r){return this._buttonPickEl=document.createElement("button"),this._buttonPickEl.setAttribute("id","pickButton"),this._buttonPickEl.innerHTML=`${this.innerPickText}`,this._element.appendChild(this._buttonPickEl),this._buttonPickEl.addEventListener("click",this.pickDatabase.bind(this)),this._overwrite=r,Promise.resolve()}async pickDatabase(){try{const r=await qf({extensions:[".db"]});let e=await this.blob2uint(r);const t=this.removePathSuffix(r.name),n=this.setPathSuffix(r.name);await Lt(n,this.store)?this._overwrite?(await pr(n,this.store),await Ht(n,e,this.store)):this.PickDatabaseEnded.emit({message:`Error: cannot overwrite ${n}`}):await Ht(n,e,this.store),this._element.removeChild(this._buttonPickEl),this.PickDatabaseEnded.emit({db_name:t})}catch(r){const e=r.message?r.message:r;this.PickDatabaseEnded.emit({message:e})}}async saveFile(){try{await Mf(this._blob,[this._opts]);const r=this._opts.fileName;this._element.removeChild(this._buttonSaveEl),this.SaveDatabaseEnded.emit({db_name:r})}catch(r){const e=r.message?r.message:r;this.SaveDatabaseEnded.emit({message:e})}}async _getVersion(r,e){const t=Object.keys(this._dbDict),n=e?"RO_"+r:"RW_"+r;if(!t.includes(n))return Promise.reject(`Open: No available connection for ${r}`);const s=this._dbDict[n];try{const i=await s.getVersion(),o={};return o.version=i,Promise.resolve(o)}catch(i){return Promise.reject(`Open: ${i.message}`)}}async _execute(r,e,t,n){const s=Object.keys(this._dbDict),i="RW_"+r;if(!s.includes(i))return Promise.reject(`Execute: No available connection for ${r}`);const o=this._dbDict[i];if(n)return Promise.reject("Execute: not allowed in read-only mode");let a={};const u=e[0].substring(0,6);if(this.innerAutoSave&&u==="COMMIT")return a.changes.changes=0,Promise.resolve(a);try{return a={changes:{changes:await o.executeSQL(e,t)}},Promise.resolve(a)}catch(c){return Promise.reject(`Execute: ${c.message}`)}}async _executeSet(r,e,t,n){const s=Object.keys(this._dbDict),i="RW_"+r;if(!s.includes(i))return Promise.reject(`ExecuteSet: No available connection for ${r}`);const o=this._dbDict[i];if(n)return Promise.reject("ExecuteSet: not allowed in read-only mode");for(const a of e)if(!("statement"in a)||!("values"in a))return Promise.reject("ExecuteSet: Must provide a set as Array of {statement,values}");try{const a=await o.execSet(e,t),u={changes:{changes:a.changes,lastId:a.lastId}};return Promise.resolve(u)}catch(a){return Promise.reject(`ExecuteSet: ${a.message}`)}}async _run(r,e,t,n,s){const i=Object.keys(this._dbDict),o="RW_"+r;if(!i.includes(o))return Promise.reject(`Run: No available connection for ${r}`);const a=this._dbDict[o];if(s)return Promise.reject("Run: not allowed in read-only mode");let u={};const c=e.substring(0,6);if(this.innerAutoSave&&c==="COMMIT")return u={changes:{changes:0}},Promise.resolve(u);try{const d=await a.runSQL(e,t,n);return u={changes:{changes:d.changes,lastId:d.lastId}},Promise.resolve(u)}catch(d){return Promise.reject(`Run: ${d.message}`)}}async _query(r,e,t,n){const s=Object.keys(this._dbDict),i=n?"RO_"+r:"RW_"+r;if(!s.includes(i))return Promise.reject(`Query: No available connection for ${r}`);const o=this._dbDict[i];let a=[];const u=e.substring(0,6);if(this.innerAutoSave&&u==="COMMIT")return Promise.resolve({values:a});try{return a=await o.selectSQL(e,t),Promise.resolve({values:a})}catch(c){return Promise.reject(`Query failed: ${c.message}`)}}async _getTableList(r,e){const t=Object.keys(this._dbDict),n=e?"RO_"+r:"RW_"+r;if(!t.includes(n))return Promise.reject(`GetTableList: No available connection for ${r}`);const s=this._dbDict[n];let i=[];try{return i=await s.getTableNames(),Promise.resolve({values:i})}catch(o){return Promise.reject(`GetTableList failed: ${o.message}`)}}async _isDBExists(r,e){const t=Object.keys(this._dbDict),n=e?"RO_"+r:"RW_"+r;if(!t.includes(n))return Promise.reject(`IsDBExists: No available connection for ${r}`);const s=this._dbDict[n];try{const o={result:await s.isDBExists(r+"SQLite.db")};return Promise.resolve(o)}catch(i){return Promise.reject(`IsDBExists: ${i.message}`)}}async _isDBOpen(r,e){const t=Object.keys(this._dbDict),n=e?"RO_"+r:"RW_"+r;if(!t.includes(n))return Promise.reject(`IsDBOpen: No available connection for ${r}`);const s=this._dbDict[n];try{const o={result:await s.isDBOpen(r+"SQLite.db")};return Promise.resolve(o)}catch(i){return Promise.reject(`IsDBOpen: ${i.message}`)}}async _deleteDatabase(r,e){const t=Object.keys(this._dbDict),n="RW_"+r;if(!t.includes(n))return Promise.reject(`DeleteDatabase: No available connection for ${r}`);const s=this._dbDict[n];if(e)return Promise.reject("DeleteDatabase: not allowed in read-only mode");try{return await s.deleteDB(r+"SQLite.db"),Promise.resolve()}catch(i){return Promise.reject(`DeleteDatabase: ${i.message}`)}}async _isTableExists(r,e,t){const n=Object.keys(this._dbDict),s=t?"RO_"+r:"RW_"+r;if(!n.includes(s))return Promise.reject(`IsTableExists: No available connection for ${r}`);const i=this._dbDict[s];try{const a={result:await i.isTable(e)};return Promise.resolve(a)}catch(o){return Promise.reject(`IsTableExists: ${o.message}`)}}async _createSyncTable(r,e){const t=Object.keys(this._dbDict),n="RW_"+r;if(!t.includes(n))return Promise.reject(`CreateSyncTable: No available connection for ${r}`);const s=this._dbDict[n];if(e)return Promise.reject("CreateSyncTable: not allowed in read-only mode");try{const i=await s.createSyncTable();return Promise.resolve({changes:{changes:i}})}catch(i){return Promise.reject(`CreateSyncTable: ${i.message}`)}}async _getSyncDate(r,e){const t=Object.keys(this._dbDict),n=e?"RO_"+r:"RW_"+r;if(!t.includes(n))return Promise.reject(`GetSyncDate: No available connection for ${r}`);const s=this._dbDict[n];try{const i=await s.getSyncDate();return Promise.resolve({syncDate:i})}catch(i){return Promise.reject(`GetSyncDate: ${i.message}`)}}async _setSyncDate(r,e,t){const n=Object.keys(this._dbDict),s="RW_"+r;if(!n.includes(s))return Promise.reject(`SetSyncDate: No available connection for ${r}`);const i=this._dbDict[s];if(t)return Promise.reject("SetSyncDate: not allowed in read-only mode");try{const o=await i.setSyncDate(e);return o.result?Promise.resolve():Promise.reject(`SetSyncDate: ${o.message}`)}catch(o){return Promise.reject(`SetSyncDate: ${o.message}`)}}async _isJsonValid(r){const e=JSON.parse(r);return await $s(e)?Promise.resolve({result:!0}):Promise.reject("IsJsonValid: Stringify Json Object not Valid")}async _importFromJson(r){var e,t;const n=JSON.parse(r);if(!await $s(n))return Promise.reject("ImportFromJson: Stringify Json Object not Valid");const i=n,o=`${i.database}SQLite.db`,a=(e=i.version)!==null&&e!==void 0?e:1,u=i.mode,c=(t=i.overwrite)!==null&&t!==void 0?t:!1,d=new Oi(o,a,{},this.store,this.innerAutoSave,this.innerWasmPath);try{c&&u==="full"&&Lt(o,this.store)&&await pr(o,this.store),await d.open();const h=await d.getTableNames();if(u==="full"&&h.length>0){const y=await d.getVersion();if(a<y)return Promise.reject(`ImportFromJson: Cannot import a version lower than ${y}`);if(y===a)return Promise.resolve({changes:{changes:0}})}const g=await d.importJson(i,this.importProgress);return await d.close(),Promise.resolve({changes:{changes:g}})}catch(h){return Promise.reject(`ImportFromJson: ${h.message}`)}}async _exportToJson(r,e,t){const n=Object.keys(this._dbDict),s=t?"RO_"+r:"RW_"+r;if(!n.includes(s))return Promise.reject(`ExportToJson: No available connection for ${r}`);const i=this._dbDict[s];try{const o=await i.exportJson(e,this.exportProgress);return Object.keys(o).includes("message")?Promise.reject(`ExportToJson: ${o.message}`):Promise.resolve({export:o})}catch(o){return Promise.reject(`ExportToJson: ${o.message}`)}}async _deleteExportedRows(r,e){const t=Object.keys(this._dbDict),n="RW_"+r;if(!t.includes(n))return Promise.reject(`ExportToJson: No available connection for ${r}`);const s=this._dbDict[n];if(e)return Promise.reject("SetSyncDate: not allowed in read-only mode");try{await s.deleteExportedRows()}catch(i){return Promise.reject(`DeleteExportedRows: ${i.message}`)}}async _copyFromAssets(r){const e=await this.loadJSON("assets/databases/databases.json");if(e!=null)if(this.databaseList=JSON.parse(e),Object.keys(this.databaseList).includes("databaseList"))try{for(const n of this.databaseList.databaseList)n.substring(n.length-3)===".db"&&await this.copyDatabase(`assets/databases/${n}`,r),n.substring(n.length-4)===".zip"&&await this.unzipDatabase(`assets/databases/${n}`,r);return Promise.resolve()}catch(n){return Promise.reject(`CopyFromAssets: ${n.message}`)}else return Promise.reject("CopyFromAssets: no key databaseList in databases.json");else return Promise.reject("CopyFromAssets: no databases.json file in assets/databases folder")}async _getFromHTTPRequest(r,e){try{let t;return r.substring(r.length-3)===".db"&&(await this.copyDatabase(r,e),t="db"),r.substring(r.length-4)===".zip"&&(await this.unzipDatabase(r,e),t="zip"),this.HTTPRequestEnded.emit({message:t}),Promise.resolve()}catch(t){return Promise.reject(`GetFromHTTPRequest: ${t.message}`)}}async _isDatabase(r){try{const t={result:await Lt(r+"SQLite.db",this.store)};return Promise.resolve(t)}catch(e){return Promise.reject(`IsDatabase: ${e.message}`)}}async _getDatabaseList(){try{const e={values:await tf(this.store)};return Promise.resolve(e)}catch(r){return Promise.reject(`GetDatabaseList: ${r.message}`)}}async _checkConnectionsConsistency(r,e){const t={};t.result=!1;const n=[];r.forEach((s,i)=>{n.push(`${e[i]}_${s}`)});try{let s=new Set(Object.keys(this._dbDict));const i=new Set(n);if(i.size===0)return await this._resetDbDict(Object.keys(this._dbDict)),Promise.resolve(t);if(s.size<i.size)return await this._resetDbDict(Object.keys(this._dbDict)),Promise.resolve(t);if(s.size>i.size){const o={};for(const a of s)if(!Array.from(i.keys()).includes(a)){let u=!1;a.substring(0,3)==="RO_"&&(u=!0),o.database=a.substring(3),o.readonly=u,await this._closeConnection(o.database,o.readonly)}}return s=new Set(Object.keys(this._dbDict)),s.size===i.size?(await this.symmetricDifference(s,i)).size===0?(t.result=!0,Promise.resolve(t)):(await this._resetDbDict(Object.keys(this._dbDict)),Promise.resolve(t)):(await this._resetDbDict(Object.keys(this._dbDict)),Promise.resolve(t))}catch(s){return Promise.reject(`CheckConnectionsConsistency: ${s.message}`)}}async _resetDbDict(r){try{for(const e of r){const t={};let n=!1;e.substring(0,3)==="RO_"&&(n=!0),t.database=e.substring(3),t.readonly=n,await this._closeConnection(t.database,t.readonly)}}catch(e){return Promise.reject(`ResetDbDict: ${e.message}`)}}async symmetricDifference(r,e){let t=new Set;r.forEach(s=>{t.add(s.substring(3))});let n=new Set;e.forEach(s=>{n.add(s.substring(3))});for(const s of n)t.has(s)?t.delete(s):t.add(s);return t}async unzipDatabase(r,e){return new Promise((t,n)=>{var s=new XMLHttpRequest;s.open("GET",r,!0),s.responseType="arraybuffer",s.onerror=()=>{n(new Error("unzipDatabase: failed"))},s.onload=()=>{Bf.loadAsync(s.response).then(async i=>{const o=Object.keys(i.files);try{for(const a of o)await this.retrieveDBFromZip(i.files,a,e);t()}catch(a){n(new Error(`unzipDatabase Error: ${a.message}`))}})},s.send()})}async retrieveDBFromZip(r,e,t){return new Promise((n,s)=>{r[e].async("nodebuffer").then(async i=>{try{const o=new Uint8Array(i),a=this.setPathSuffix(e);await Lt(a,this.store)?t?(await pr(a,this.store),await Ht(a,o,this.store)):s(new Error(`retrieveDBFromZip: cannot overwrite ${a}`)):await Ht(a,o,this.store),n()}catch(o){s(new Error(`retrieveDBFromZip:: ${o.message}`))}})})}async copyDatabase(r,e){return new Promise((t,n)=>{var s=new XMLHttpRequest,i;s.open("GET",r,!0),s.responseType="arraybuffer",s.onerror=()=>{n(new Error("CopyDatabase: failed"))},s.onload=()=>{i=new Uint8Array(s.response)},s.onloadend=async()=>{const o=this.setPathSuffix(r);await Lt(o,this.store)?e?(await pr(o,this.store),await Ht(o,i,this.store)):n(new Error(`CopyDatabase Error: cannot overwrite ${o}`)):await Ht(o,i,this.store),t()},s.send()})}async loadJSON(r){return new Promise((e,t)=>{var n=new XMLHttpRequest;n.overrideMimeType("application/json"),n.open("GET",r,!0),n.onerror=()=>{t(new Error("LoadJSON: failed"))},n.onreadystatechange=function(){n.status==404&&e(null),n.readyState==4&&n.status==200&&e(n.responseText)},n.send(null)})}async openStore(r,e){let t=!1;const n=this.setConfig(r,e);return this.store=ji.createInstance(n),this.store!=null&&(this.storeName=r,t=!0),t}setConfig(r,e){return{name:r,storeName:e,driver:[ji.INDEXEDDB],version:1}}removePathSuffix(r){return r.includes("SQLite.db")?r.split("SQLite.db")[0]:r.substring(r.length-3)===".db"?r.slice(0,r.lastIndexOf(".")):r}setPathSuffix(r){let e=r.slice(r.lastIndexOf("/")+1);const t=".db";return r.substring(r.length-3)===t&&(r.includes("SQLite.db")||(e=r.slice(r.lastIndexOf("/")+1,-3)+"SQLite.db")),e}async blob2uint(r){return new Response(r).arrayBuffer().then(e=>new Uint8Array(e))}async uint2blob(r){const e=new Blob([r.buffer]);return Promise.resolve(e)}render(){}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{autoSave:["parseAutoSave"],wasmPath:["parseWasmPath"],pickText:["parsePickText"],saveText:["parseSaveText"],buttonOptions:["parseButtonOptions"]}}static get style(){return rh}},[1,"jeep-sqlite",{autoSave:[516,"autosave"],wasmPath:[513,"wasmpath"],pickText:[513,"picktext"],saveText:[513,"savetext"],buttonOptions:[513,"buttonoptions"],innerAutoSave:[32],innerWasmPath:[32],innerPickText:[32],innerSaveText:[32],innerButtonOptions:[32],echo:[64],createConnection:[64],isConnection:[64],closeConnection:[64],open:[64],close:[64],getVersion:[64],execute:[64],executeSet:[64],run:[64],query:[64],getTableList:[64],isDBExists:[64],isDBOpen:[64],deleteDatabase:[64],isStoreOpen:[64],copyFromAssets:[64],isTableExists:[64],createSyncTable:[64],getSyncDate:[64],setSyncDate:[64],isJsonValid:[64],importFromJson:[64],exportToJson:[64],deleteExportedRows:[64],addUpgradeStatement:[64],isDatabase:[64],getDatabaseList:[64],checkConnectionsConsistency:[64],saveToStore:[64],saveToLocalDisk:[64],getFromLocalDiskToStore:[64],getFromHTTPRequest:[64]}]),sh=nh,ih="/assets/logo-123b04bc.svg",oh="_Home_hdume_1",ah="_logo_hdume_5",ch="_header_hdume_11",lh="_link_hdume_22",Dn={Home:oh,logo:ah,"logo-spin":"_logo-spin_hdume_1",header:ch,link:lh},uh=Ds('<div><header><img alt="logo"><p>Edit <code>src/App.tsx</code> and save to reload.</p><a href="https://github.com/solidjs/solid" target="_blank" rel="noopener noreferrer">Learn Solid'),fh=()=>(()=>{const r=uh(),e=r.firstChild,t=e.firstChild,n=t.nextSibling,s=n.nextSibling;return Ln(t,"src",ih),Dt(i=>{const o=Dn.Home,a=Dn.header,u=Dn.logo,c=Dn.link;return o!==i._v$&&rr(r,i._v$=o),a!==i._v$2&&rr(e,i._v$2=a),u!==i._v$3&&rr(t,i._v$3=u),c!==i._v$4&&rr(s,i._v$4=c),i},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),r})();function hh(r,e){return new Promise(t=>setTimeout(t,r,e))}function dh(r,e){return Math.floor(Math.random()*(e-r+1))+r}function mh(){return hh(dh(500,1e3),"Solid")}const ph=()=>{const[r]=Bi(mh);return r},yh=[{path:"/",component:fh},{path:"/sqlite",component:It(()=>$t(()=>import("./SqlitePage-5946e3e2.js"),["assets/SqlitePage-5946e3e2.js","assets/SqlitePage-37c792f2.css"]))},{path:"/noencryption",component:It(()=>$t(()=>import("./NoEncryption-1d9a47e1.js"),["assets/NoEncryption-1d9a47e1.js","assets/connection-utils-49cf70d0.js","assets/delay-utils-7dae93d5.js","assets/NoEncryption-86d4f39a.css"]))},{path:"/importexport",component:It(()=>$t(()=>import("./ImportExportJson-3f23a7ad.js"),["assets/ImportExportJson-3f23a7ad.js","assets/connection-utils-49cf70d0.js","assets/delay-utils-7dae93d5.js","assets/ImportExportJson-e4083903.css"]))},{path:"/issue271",component:It(()=>$t(()=>import("./Issue271-8cbab25d.js"),["assets/Issue271-8cbab25d.js","assets/connection-utils-49cf70d0.js","assets/Issue271-7ec14b99.css"]))},{path:"/issue275",component:It(()=>$t(()=>import("./Issue275-01876c45.js"),["assets/Issue275-01876c45.js","assets/connection-utils-49cf70d0.js","assets/Issue275-fb215d39.css"]))},{path:"/issue277",component:It(()=>$t(()=>import("./Issue277-f1851e72.js"),["assets/Issue277-f1851e72.js","assets/connection-utils-49cf70d0.js","assets/Issue277-9a704e4b.css"]))},{path:"/issue285",component:It(()=>$t(()=>import("./Issue285-84847b94.js"),["assets/Issue285-84847b94.js","assets/connection-utils-49cf70d0.js","assets/Issue285-b2e4a2ce.css"]))},{path:"/cpkexportimport",component:It(()=>$t(()=>import("./CPKExportImport-e055f35f.js"),["assets/CPKExportImport-e055f35f.js","assets/connection-utils-49cf70d0.js","assets/delay-utils-7dae93d5.js","assets/CPKExportImport-577d5f3d.css"]))},{path:"/about",component:It(()=>$t(()=>import("./About-a816a20d.js"),[])),data:ph},{path:"**",component:It(()=>$t(()=>import("./404-2090526a.js"),[]))}];/*! Capacitor: https://capacitorjs.com/ - MIT License */const gh=r=>{const e=new Map;e.set("web",{name:"web"});const t=r.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},n=(i,o)=>{t.platforms.set(i,o)},s=i=>{t.platforms.has(i)&&(t.currentPlatform=t.platforms.get(i))};return t.addPlatform=n,t.setPlatform=s,t},vh=r=>r.CapacitorPlatforms=gh(r),la=vh(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});la.addPlatform;la.setPlatform;var Fr;(function(r){r.Unimplemented="UNIMPLEMENTED",r.Unavailable="UNAVAILABLE"})(Fr||(Fr={}));class ws extends Error{constructor(e,t,n){super(e),this.message=e,this.code=t,this.data=n}}const wh=r=>{var e,t;return r?.androidBridge?"android":!((t=(e=r?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},bh=r=>{var e,t,n,s,i;const o=r.CapacitorCustomPlatform||null,a=r.Capacitor||{},u=a.Plugins=a.Plugins||{},c=r.CapacitorPlatforms,d=()=>o!==null?o.name:wh(r),h=((e=c?.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||d,g=()=>h()!=="web",y=((t=c?.currentPlatform)===null||t===void 0?void 0:t.isNativePlatform)||g,_=B=>{const K=N.get(B);return!!(K?.platforms.has(h())||E(B))},w=((n=c?.currentPlatform)===null||n===void 0?void 0:n.isPluginAvailable)||_,S=B=>{var K;return(K=a.PluginHeaders)===null||K===void 0?void 0:K.find(q=>q.name===B)},E=((s=c?.currentPlatform)===null||s===void 0?void 0:s.getPluginHeader)||S,$=B=>r.console.error(B),R=(B,K,q)=>Promise.reject(`${q} does not have an implementation of "${K}".`),N=new Map,D=(B,K={})=>{const q=N.get(B);if(q)return console.warn(`Capacitor plugin "${B}" already registered. Cannot register plugins twice.`),q.proxy;const W=h(),ce=E(B);let T;const G=async()=>(!T&&W in K?T=typeof K[W]=="function"?T=await K[W]():T=K[W]:o!==null&&!T&&"web"in K&&(T=typeof K.web=="function"?T=await K.web():T=K.web),T),v=(oe,F)=>{var M,be;if(ce){const ge=ce?.methods.find(ue=>F===ue.name);if(ge)return ge.rtype==="promise"?ue=>a.nativePromise(B,F.toString(),ue):(ue,Be)=>a.nativeCallback(B,F.toString(),ue,Be);if(oe)return(M=oe[F])===null||M===void 0?void 0:M.bind(oe)}else{if(oe)return(be=oe[F])===null||be===void 0?void 0:be.bind(oe);throw new ws(`"${B}" plugin is not implemented on ${W}`,Fr.Unimplemented)}},Z=oe=>{let F;const M=(...be)=>{const ge=G().then(ue=>{const Be=v(ue,oe);if(Be){const Ge=Be(...be);return F=Ge?.remove,Ge}else throw new ws(`"${B}.${oe}()" is not implemented on ${W}`,Fr.Unimplemented)});return oe==="addListener"&&(ge.remove=async()=>F()),ge};return M.toString=()=>`${oe.toString()}() { [capacitor code] }`,Object.defineProperty(M,"name",{value:oe,writable:!1,configurable:!1}),M},Ee=Z("addListener"),Q=Z("removeListener"),xe=(oe,F)=>{const M=Ee({eventName:oe},F),be=async()=>{const ue=await M;Q({eventName:oe,callbackId:ue},F)},ge=new Promise(ue=>M.then(()=>ue({remove:be})));return ge.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await be()},ge},fe=new Proxy({},{get(oe,F){switch(F){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return ce?xe:Ee;case"removeListener":return Q;default:return Z(F)}}});return u[B]=fe,N.set(B,{name:B,proxy:fe,platforms:new Set([...Object.keys(K),...ce?[W]:[]])}),fe},V=((i=c?.currentPlatform)===null||i===void 0?void 0:i.registerPlugin)||D;return a.convertFileSrc||(a.convertFileSrc=B=>B),a.getPlatform=h,a.handleError=$,a.isNativePlatform=y,a.isPluginAvailable=w,a.pluginMethodNoop=R,a.registerPlugin=V,a.Exception=ws,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a.platform=a.getPlatform(),a.isNative=a.isNativePlatform(),a},_h=r=>r.Capacitor=bh(r),an=_h(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Hs=an.registerPlugin;an.Plugins;class ua{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);const s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s);const i=async()=>this.removeListener(e,t),o=Promise.resolve({remove:i});return Object.defineProperty(o,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await i()}}),o}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t){const n=this.listeners[e];n&&n.forEach(s=>s(t))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:n=>{this.notifyListeners(t,n)}}}unimplemented(e="not implemented"){return new an.Exception(e,Fr.Unimplemented)}unavailable(e="not available"){return new an.Exception(e,Fr.Unavailable)}async removeListener(e,t){const n=this.listeners[e];if(!n)return;const s=n.indexOf(t);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const Ri=r=>encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Ci=r=>r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Eh extends ua{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(n=>{if(n.length<=0)return;let[s,i]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=Ci(s).trim(),i=Ci(i).trim(),t[s]=i}),t}async setCookie(e){try{const t=Ri(e.key),n=Ri(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${n||""}${s}; path=${i}; ${o};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Hs("CapacitorCookies",{web:()=>new Eh});const Ph=async r=>new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{const s=n.result;e(s.indexOf(",")>=0?s.split(",")[1]:s)},n.onerror=s=>t(s),n.readAsDataURL(r)}),Sh=(r={})=>{const e=Object.keys(r);return Object.keys(r).map(s=>s.toLocaleLowerCase()).reduce((s,i,o)=>(s[i]=r[e[o]],s),{})},xh=(r,e=!0)=>r?Object.entries(r).reduce((n,s)=>{const[i,o]=s;let a,u;return Array.isArray(o)?(u="",o.forEach(c=>{a=e?encodeURIComponent(c):c,u+=`${i}=${a}&`}),u.slice(0,-1)):(a=e?encodeURIComponent(o):o,u=`${i}=${a}`),`${n}&${u}`},"").substr(1):null,kh=(r,e={})=>{const t=Object.assign({method:r.method||"GET",headers:r.headers},e),s=Sh(r.headers)["content-type"]||"";if(typeof r.data=="string")t.body=r.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,a]of Object.entries(r.data||{}))i.set(o,a);t.body=i.toString()}else if(s.includes("multipart/form-data")){const i=new FormData;if(r.data instanceof FormData)r.data.forEach((a,u)=>{i.append(u,a)});else for(const a of Object.keys(r.data))i.append(a,r.data[a]);t.body=i;const o=new Headers(t.headers);o.delete("content-type"),t.headers=o}else(s.includes("application/json")||typeof r.data=="object")&&(t.body=JSON.stringify(r.data));return t};class $h extends ua{async request(e){const t=kh(e,e.webFetchExtra),n=xh(e.params,e.shouldEncodeUrlParams),s=n?`${e.url}?${n}`:e.url,i=await fetch(s,t),o=i.headers.get("content-type")||"";let{responseType:a="text"}=i.ok?e:{};o.includes("application/json")&&(a="json");let u,c;switch(a){case"arraybuffer":case"blob":c=await i.blob(),u=await Ph(c);break;case"json":u=await i.json();break;case"document":case"text":default:u=await i.text()}const d={};return i.headers.forEach((h,g)=>{d[g]=h}),{data:u,headers:d,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Hs("CapacitorHttp",{web:()=>new $h});class Th{constructor(e){this.sqlite=e,this._connectionDict=new Map}async initWebStore(){try{return await this.sqlite.initWebStore(),Promise.resolve()}catch(e){return Promise.reject(e)}}async saveToStore(e){try{return await this.sqlite.saveToStore({database:e}),Promise.resolve()}catch(t){return Promise.reject(t)}}async saveToLocalDisk(e){try{return await this.sqlite.saveToLocalDisk({database:e}),Promise.resolve()}catch(t){return Promise.reject(t)}}async getFromLocalDiskToStore(e){const t=e??!0;try{return await this.sqlite.getFromLocalDiskToStore({overwrite:t}),Promise.resolve()}catch(n){return Promise.reject(n)}}async echo(e){try{const t=await this.sqlite.echo({value:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isSecretStored(){try{const e=await this.sqlite.isSecretStored();return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async setEncryptionSecret(e){try{return await this.sqlite.setEncryptionSecret({passphrase:e}),Promise.resolve()}catch(t){return Promise.reject(t)}}async changeEncryptionSecret(e,t){try{return await this.sqlite.changeEncryptionSecret({passphrase:e,oldpassphrase:t}),Promise.resolve()}catch(n){return Promise.reject(n)}}async clearEncryptionSecret(){try{return await this.sqlite.clearEncryptionSecret(),Promise.resolve()}catch(e){return Promise.reject(e)}}async checkEncryptionSecret(e){try{const t=await this.sqlite.checkEncryptionSecret({passphrase:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async addUpgradeStatement(e,t,n){const s={toVersion:t,statements:n};try{return e.endsWith(".db")&&(e=e.slice(0,-3)),await this.sqlite.addUpgradeStatement({database:e,upgrade:[s]}),Promise.resolve()}catch(i){return Promise.reject(i)}}async createConnection(e,t,n,s,i){try{e.endsWith(".db")&&(e=e.slice(0,-3)),await this.sqlite.createConnection({database:e,encrypted:t,mode:n,version:s,readonly:i});const o=new Ii(e,i,this.sqlite),a=i?`RO_${e}`:`RW_${e}`;return this._connectionDict.set(a,o),Promise.resolve(o)}catch(o){return Promise.reject(o)}}async closeConnection(e,t){try{e.endsWith(".db")&&(e=e.slice(0,-3)),await this.sqlite.closeConnection({database:e,readonly:t});const n=t?`RO_${e}`:`RW_${e}`;return this._connectionDict.delete(n),Promise.resolve()}catch(n){return Promise.reject(n)}}async isConnection(e,t){const n={};e.endsWith(".db")&&(e=e.slice(0,-3));const s=t?`RO_${e}`:`RW_${e}`;return n.result=this._connectionDict.has(s),Promise.resolve(n)}async retrieveConnection(e,t){e.endsWith(".db")&&(e=e.slice(0,-3));const n=t?`RO_${e}`:`RW_${e}`;if(this._connectionDict.has(n)){const s=this._connectionDict.get(n);return typeof s<"u"?Promise.resolve(s):Promise.reject(`Connection ${e} is undefined`)}else return Promise.reject(`Connection ${e} does not exist`)}async getNCDatabasePath(e,t){try{const n=await this.sqlite.getNCDatabasePath({path:e,database:t});return Promise.resolve(n)}catch(n){return Promise.reject(n)}}async createNCConnection(e,t){try{await this.sqlite.createNCConnection({databasePath:e,version:t});const n=new Ii(e,!0,this.sqlite),s=`RO_${e})`;return this._connectionDict.set(s,n),Promise.resolve(n)}catch(n){return Promise.reject(n)}}async closeNCConnection(e){try{await this.sqlite.closeNCConnection({databasePath:e});const t=`RO_${e})`;return this._connectionDict.delete(t),Promise.resolve()}catch(t){return Promise.reject(t)}}async isNCConnection(e){const t={},n=`RO_${e})`;return t.result=this._connectionDict.has(n),Promise.resolve(t)}async retrieveNCConnection(e){if(this._connectionDict.has(e)){const t=`RO_${e})`,n=this._connectionDict.get(t);return typeof n<"u"?Promise.resolve(n):Promise.reject(`Connection ${e} is undefined`)}else return Promise.reject(`Connection ${e} does not exist`)}async isNCDatabase(e){try{const t=await this.sqlite.isNCDatabase({databasePath:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async retrieveAllConnections(){return this._connectionDict}async closeAllConnections(){const e=new Map;try{for(const t of this._connectionDict.keys()){const n=t.substring(3),s=t.substring(0,3)==="RO_";await this.sqlite.closeConnection({database:n,readonly:s}),e.set(t,null)}for(const t of e.keys())this._connectionDict.delete(t);return Promise.resolve()}catch(t){return Promise.reject(t)}}async checkConnectionsConsistency(){try{const e=[...this._connectionDict.keys()],t=[],n=[];for(const i of e)t.push(i.substring(0,2)),n.push(i.substring(3));const s=await this.sqlite.checkConnectionsConsistency({dbNames:n,openModes:t});return s.result||(this._connectionDict=new Map),Promise.resolve(s)}catch(e){return this._connectionDict=new Map,Promise.reject(e)}}async importFromJson(e){try{const t=await this.sqlite.importFromJson({jsonstring:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isJsonValid(e){try{const t=await this.sqlite.isJsonValid({jsonstring:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async copyFromAssets(e){const t=e??!0;try{return await this.sqlite.copyFromAssets({overwrite:t}),Promise.resolve()}catch(n){return Promise.reject(n)}}async getFromHTTPRequest(e,t){const n=t??!0;try{return await this.sqlite.getFromHTTPRequest({url:e,overwrite:n}),Promise.resolve()}catch(s){return Promise.reject(s)}}async isDatabaseEncrypted(e){e.endsWith(".db")&&(e=e.slice(0,-3));try{const t=await this.sqlite.isDatabaseEncrypted({database:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isInConfigEncryption(){try{const e=await this.sqlite.isInConfigEncryption();return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isInConfigBiometricAuth(){try{const e=await this.sqlite.isInConfigBiometricAuth();return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isDatabase(e){e.endsWith(".db")&&(e=e.slice(0,-3));try{const t=await this.sqlite.isDatabase({database:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async getDatabaseList(){try{const e=await this.sqlite.getDatabaseList();return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async getMigratableDbList(e){if(!e||e.length===0)return Promise.reject("You must provide a folder path");try{const t=await this.sqlite.getMigratableDbList({folderPath:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async addSQLiteSuffix(e,t){const n=e||"default",s=t||[];try{const i=await this.sqlite.addSQLiteSuffix({folderPath:n,dbNameList:s});return Promise.resolve(i)}catch(i){return Promise.reject(i)}}async deleteOldDatabases(e,t){const n=e||"default",s=t||[];try{const i=await this.sqlite.deleteOldDatabases({folderPath:n,dbNameList:s});return Promise.resolve(i)}catch(i){return Promise.reject(i)}}async moveDatabasesAndAddSuffix(e,t){const n=e||"default",s=t||[];return this.sqlite.moveDatabasesAndAddSuffix({folderPath:n,dbNameList:s})}}class Ii{constructor(e,t,n){this.dbName=e,this.readonly=t,this.sqlite=n}getConnectionDBName(){return this.dbName}getConnectionReadOnly(){return this.readonly}async open(){try{return await this.sqlite.open({database:this.dbName,readonly:this.readonly}),Promise.resolve()}catch(e){return Promise.reject(e)}}async close(){try{return await this.sqlite.close({database:this.dbName,readonly:this.readonly}),Promise.resolve()}catch(e){return Promise.reject(e)}}async getUrl(){try{const e=await this.sqlite.getUrl({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async getVersion(){try{const e=await this.sqlite.getVersion({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async getTableList(){try{const e=await this.sqlite.getTableList({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async execute(e,t=!0){try{if(this.readonly)return Promise.reject("not allowed in read-only mode");{const n=await this.sqlite.execute({database:this.dbName,statements:e,transaction:t,readonly:!1});return Promise.resolve(n)}}catch(n){return Promise.reject(n)}}async query(e,t){let n;try{if(t&&t.length>0?n=await this.sqlite.query({database:this.dbName,statement:e,values:t,readonly:this.readonly}):n=await this.sqlite.query({database:this.dbName,statement:e,values:[],readonly:this.readonly}),n&&typeof n.values[0]=="object"&&Object.keys(n.values[0]).includes("ios_columns")){const s=n.values[0].ios_columns,i=[];for(let o=1;o<n.values.length;o++){const a=n.values[o],u={};for(const c of s)u[c]=a[c];i.push(u)}n={},n.values=i}return Promise.resolve(n)}catch(s){return Promise.reject(s)}}async run(e,t,n=!0){let s;try{return this.readonly?Promise.reject("not allowed in read-only mode"):(t&&t.length>0?s=await this.sqlite.run({database:this.dbName,statement:e,values:t,transaction:n,readonly:!1}):s=await this.sqlite.run({database:this.dbName,statement:e,values:[],transaction:n,readonly:!1}),Promise.resolve(s))}catch(i){return Promise.reject(i)}}async executeSet(e,t=!0){try{if(this.readonly)return Promise.reject("not allowed in read-only mode");{const n=await this.sqlite.executeSet({database:this.dbName,set:e,transaction:t,readonly:!1});return Promise.resolve(n)}}catch(n){return Promise.reject(n)}}async isExists(){try{const e=await this.sqlite.isDBExists({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isTable(e){try{const t=await this.sqlite.isTableExists({database:this.dbName,table:e,readonly:this.readonly});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isDBOpen(){try{const e=await this.sqlite.isDBOpen({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async delete(){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.deleteDatabase({database:this.dbName,readonly:!1}),Promise.resolve())}catch(e){return Promise.reject(e)}}async createSyncTable(){try{if(this.readonly)return Promise.reject("not allowed in read-only mode");{const e=await this.sqlite.createSyncTable({database:this.dbName,readonly:!1});return Promise.resolve(e)}}catch(e){return Promise.reject(e)}}async setSyncDate(e){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.setSyncDate({database:this.dbName,syncdate:e,readonly:!1}),Promise.resolve())}catch(t){return Promise.reject(t)}}async getSyncDate(){try{const e=await this.sqlite.getSyncDate({database:this.dbName,readonly:this.readonly});let t="";return e.syncDate>0&&(t=new Date(e.syncDate*1e3).toISOString()),Promise.resolve(t)}catch(e){return Promise.reject(e)}}async exportToJson(e){try{const t=await this.sqlite.exportToJson({database:this.dbName,jsonexportmode:e,readonly:this.readonly});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async deleteExportedRows(){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.deleteExportedRows({database:this.dbName,readonly:!1}),Promise.resolve())}catch(e){return Promise.reject(e)}}async executeTransaction(e){try{if(this.readonly)return Promise.reject("not allowed in read-only mode");if((await this.sqlite.execute({database:this.dbName,statements:"BEGIN TRANSACTION;",transaction:!1})).changes.changes<0)return Promise.reject("Error in BEGIN TRANSACTION");for(const n of e)if(n.values&&n.values.length>0){if((await this.sqlite.run({database:this.dbName,statement:n.statement,values:n.values,transaction:!1,readonly:!1})).changes.lastId===-1)return await this.execute("ROLLBACK;",!1),Promise.reject("Error in transaction run ")}else if((await this.sqlite.execute({database:this.dbName,statements:n.statement,transaction:!1,readonly:!1})).changes.changes<0)return await this.sqlite.execute({database:this.dbName,statements:"ROLLBACK;",transaction:!1,readonly:!1}),Promise.reject("Error in transaction execute ");return await this.sqlite.execute({database:this.dbName,statements:"COMMIT;",transaction:!1,readonly:!1}),Promise.resolve()}catch(t){return await this.sqlite.execute({database:this.dbName,statements:"ROLLBACK;",transaction:!1,readonly:!1}),Promise.reject(t)}}}const Dh=Hs("CapacitorSQLite",{web:()=>$t(()=>import("./web-50d83309.js"),[]).then(r=>new r.CapacitorSQLiteWeb),electron:()=>window.CapacitorCustomPlatform.plugins.CapacitorSQLite}),Ah="_App_1v0jv_1",Oh="_iosHeader_1v0jv_4",jh="_menu_1v0jv_8",bs={App:Ah,iosHeader:Oh,menu:jh},Rh=Ds('<div><div></div><div><nav class="bg-gray-200 text-gray-900 px-4"><ul class="flex items-center"><li class="py-2 px-8"></li><li class="py-2 px-4"></li><li class="py-2 px-4"></li><li class="text-sm flex items-center space-x-1 ml-auto"><span>URL:</span><input class="w-75px p-1 bg-white text-sm rounded-lg" type="text" readonly></li></ul></nav></div><main>'),Ch=an.getPlatform(),Ih=new Th(Dh),Nh=()=>{const r=Xi(),e=Gc(yh);return(()=>{const t=Rh(),n=t.firstChild,s=n.nextSibling,i=s.firstChild,o=i.firstChild,a=o.firstChild,u=a.nextSibling,c=u.nextSibling,d=c.nextSibling,h=d.firstChild,g=h.nextSibling,y=s.nextSibling;return tn(a,ft(vs,{href:"/",class:"no-underline hover:underline",children:"Home"})),tn(u,ft(vs,{href:"/sqlite",class:"no-underline hover:underline",children:"Sqlite"})),tn(c,ft(vs,{href:"/about",class:"no-underline hover:underline",children:"About"})),tn(y,ft(e,{})),Dt(_=>{const w=bs.App,S=bs.iosHeader,E=bs.menu;return w!==_._v$&&rr(t,_._v$=w),S!==_._v$2&&rr(n,_._v$2=S),E!==_._v$3&&rr(s,_._v$3=E),_},{_v$:void 0,_v$2:void 0,_v$3:void 0}),Dt(()=>g.value=r.pathname),t})()};customElements.define("jeep-sqlite",sh);window.addEventListener("DOMContentLoaded",async()=>{try{if(Ch==="web"){const r=document.createElement("jeep-sqlite");document.body.appendChild(r),await customElements.whenDefined("jeep-sqlite"),await Ih.initWebStore()}uc(()=>ft(Wc,{get children(){return ft(Nh,{})}}),document.getElementById("root"))}catch(r){throw console.log(`Error: ${r}`),new Error(`Error: ${r}`)}});export{vs as A,Fh as F,qh as S,ua as W,Dt as a,rr as b,ft as c,Gc as d,dt as e,Je as f,Uh as g,Ua as h,tn as i,Bh as o,Ch as p,yh as r,Ih as s,Ds as t,Xi as u};
